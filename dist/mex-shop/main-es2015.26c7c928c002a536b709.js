(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),u=s[1],a=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(a);u.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("LRne"),i=n("bHdf");function o(...t){return Object(i.a)(1)(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(t){return e=>0===t?Object(o.b)():e.lift(new u(t))}class u{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new a(t,this.total))}}class a extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("GyhO"),i=n("z+Ro");function o(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.5","app")},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),s=n("xbPD"),u=n("XDbj"),a=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):a.a,Object(o.a)(1),n?Object(s.a)(e):Object(u.a)(()=>new r.a))}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("sVev"),i=n("7o/Q");function o(t=a){return e=>e.lift(new s(t))}class s{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new u(t,this.errorFactory))}}class u extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function a(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},afOq:function(t,e,n){"use strict";n.r(e),n.d(e,"UserModule",function(){return a});var r=n("ofXK"),i=n("tyNb"),o=n("fXoL");const s=[{path:"account",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Ab({type:t,selectors:[["app-user-account"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Lb(0,"p"),o.ec(1,"user-account works!"),o.Kb())},styles:[""]}),t})()},{path:"orders",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Ab({type:t,selectors:[["app-user-orders"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Lb(0,"p"),o.ec(1,"user-orders works!"),o.Kb())},styles:[""]}),t})()}];i.b.forChild(s);let u=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[i.b.forChild(s)],i.b]}),t})(),a=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[r.c,u]]}),t})()},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))))):e=>e.lift(new u(t))}class u{constructor(t){this.project=t}call(t,e){return e.subscribe(new a(t,this.project))}}class a extends o.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new o.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(o.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return Qe}),n.d(e,"b",function(){return vu}),n.d(e,"c",function(){return hu}),n.d(e,"d",function(){return cu}),n.d(e,"e",function(){return lu}),n.d(e,"f",function(){return ca}),n.d(e,"g",function(){return Qu}),n.d(e,"h",function(){return ys}),n.d(e,"i",function(){return Su}),n.d(e,"j",function(){return Ho}),n.d(e,"k",function(){return bu}),n.d(e,"l",function(){return Go}),n.d(e,"m",function(){return ar}),n.d(e,"n",function(){return Gs}),n.d(e,"o",function(){return Li}),n.d(e,"p",function(){return gn}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return Ye}),n.d(e,"s",function(){return Zi}),n.d(e,"t",function(){return ls}),n.d(e,"u",function(){return fs}),n.d(e,"v",function(){return mu}),n.d(e,"w",function(){return js}),n.d(e,"x",function(){return ea}),n.d(e,"y",function(){return Ss}),n.d(e,"z",function(){return Wu}),n.d(e,"A",function(){return Au}),n.d(e,"B",function(){return vn}),n.d(e,"C",function(){return gu}),n.d(e,"D",function(){return pu}),n.d(e,"E",function(){return Wo}),n.d(e,"F",function(){return $o}),n.d(e,"G",function(){return fr}),n.d(e,"H",function(){return Xo}),n.d(e,"I",function(){return rr}),n.d(e,"J",function(){return yn}),n.d(e,"K",function(){return ia}),n.d(e,"L",function(){return Es}),n.d(e,"M",function(){return Uu}),n.d(e,"N",function(){return tn}),n.d(e,"O",function(){return Yo}),n.d(e,"P",function(){return Zo}),n.d(e,"Q",function(){return As}),n.d(e,"R",function(){return L}),n.d(e,"S",function(){return Ju}),n.d(e,"T",function(){return Ku}),n.d(e,"U",function(){return Gu}),n.d(e,"V",function(){return ua}),n.d(e,"W",function(){return Fu}),n.d(e,"X",function(){return yu}),n.d(e,"Y",function(){return Mi}),n.d(e,"Z",function(){return Lo}),n.d(e,"ab",function(){return er}),n.d(e,"bb",function(){return Mn}),n.d(e,"cb",function(){return Sn}),n.d(e,"db",function(){return Cn}),n.d(e,"eb",function(){return Rn}),n.d(e,"fb",function(){return kn}),n.d(e,"gb",function(){return An}),n.d(e,"hb",function(){return Nn}),n.d(e,"ib",function(){return No}),n.d(e,"jb",function(){return sa}),n.d(e,"kb",function(){return Ro}),n.d(e,"lb",function(){return Do}),n.d(e,"mb",function(){return jn}),n.d(e,"nb",function(){return H}),n.d(e,"ob",function(){return eo}),n.d(e,"pb",function(){return bo}),n.d(e,"qb",function(){return yo}),n.d(e,"rb",function(){return mo}),n.d(e,"sb",function(){return ko}),n.d(e,"tb",function(){return St}),n.d(e,"ub",function(){return v}),n.d(e,"vb",function(){return xn}),n.d(e,"wb",function(){return _t}),n.d(e,"xb",function(){return $r}),n.d(e,"yb",function(){return io}),n.d(e,"zb",function(){return iu}),n.d(e,"Ab",function(){return Y}),n.d(e,"Bb",function(){return ot}),n.d(e,"Cb",function(){return _}),n.d(e,"Db",function(){return O}),n.d(e,"Eb",function(){return nt}),n.d(e,"Fb",function(){return st}),n.d(e,"Gb",function(){return uo}),n.d(e,"Hb",function(){return fo}),n.d(e,"Ib",function(){return go}),n.d(e,"Jb",function(){return po}),n.d(e,"Kb",function(){return ho}),n.d(e,"Lb",function(){return lo}),n.d(e,"Mb",function(){return vo}),n.d(e,"Nb",function(){return So}),n.d(e,"Ob",function(){return fn}),n.d(e,"Pb",function(){return Xe}),n.d(e,"Qb",function(){return au}),n.d(e,"Rb",function(){return wo}),n.d(e,"Sb",function(){return ou}),n.d(e,"Tb",function(){return ge}),n.d(e,"Ub",function(){return pe}),n.d(e,"Vb",function(){return Eo}),n.d(e,"Wb",function(){return ao}),n.d(e,"Xb",function(){return ru}),n.d(e,"Yb",function(){return so}),n.d(e,"Zb",function(){return Bt}),n.d(e,"ac",function(){return ir}),n.d(e,"bc",function(){return rt}),n.d(e,"cc",function(){return oo}),n.d(e,"dc",function(){return uu}),n.d(e,"ec",function(){return To}),n.d(e,"fc",function(){return Io});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function v(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(v).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function y(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const m=g({__forward_ref__:g});function b(t){return t.__forward_ref__=b,t.toString=function(){return v(this())},t}function w(t){return"function"==typeof(e=t)&&e.hasOwnProperty(m)&&e.__forward_ref__===b?t():t;var e}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function E(t){return T(t,x)||T(t,j)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(S)||t.hasOwnProperty(C))?t[S]:null}const x=g({"\u0275prov":g}),S=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),C=g({ngInjectorDef:g});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let k;function N(t){const e=k;return k=t,e}function R(t,e,n){const r=E(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&A.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${v(t)}]`)}function D(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,H=U||F||M||V,q={},z=[],B=g({"\u0275cmp":g}),G=g({"\u0275dir":g}),K=g({"\u0275pipe":g}),$=g({"\u0275mod":g}),W=g({"\u0275loc":g}),J=g({"\u0275fac":g}),X=g({__NG_ELEMENT_ID__:g});let Z=0;function Y(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Q):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(tt):null,n})}function Q(t){return ut(t)||function(t){return t[G]||null}(t)}function tt(t){return function(t){return t[K]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{et[t.id]=t.type}),e}function rt(t,e){return D(()=>{const n=at(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function it(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ot=Y;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[B]||null}function at(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${v(t)} does not have '\u0275mod' property.`);return n}function ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function lt(t){return Array.isArray(t)&&!0===t[1]}function ht(t){return 0!=(8&t.flags)}function ft(t){return 2==(2&t.flags)}function dt(t){return 1==(1&t.flags)}function pt(t){return null!==t.template}function gt(t,e){return t.hasOwnProperty(J)?t[J]:null}class vt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function yt(t){return"string"==typeof t?t:null==t?"":String(t)}function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():yt(t)}function bt(t,e){const n=e?` in ${e}`:"";throw new vt("201",`No provider for ${mt(t)} found${n}`)}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return Ot}function Ot(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),Et}function Et(){const t=It(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=It(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new wt(a&&a.currentValue,e,s===q),t[r]=e}function It(t){return t.__ngSimpleChanges__||null}let xt;function St(t){xt=t}function jt(t){return!!t.listen}_t.ngInherit=!0;const Ct={createRenderer:(t,e)=>void 0!==xt?xt:"undefined"!=typeof document?document:void 0};function At(t){for(;Array.isArray(t);)t=t[0];return t}function kt(t,e){return At(e[t.index])}function Nt(t,e){return t.data[e]}function Rt(t,e){const n=e[t];return ct(n)?n:n[0]}function Dt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Pt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function Mt(t){t[18]=0}function Vt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ft={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Ft.bindingsEnabled}function qt(){return Ft.lFrame.lView}function zt(){return Ft.lFrame.tView}function Bt(t){Ft.lFrame.contextLView=t}function Gt(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return Ft.lFrame.currentTNode}function $t(t,e){const n=Ft.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return Ft.lFrame.isParent}function Jt(){Ft.lFrame.isParent=!1}function Xt(){return Ft.isInCheckNoChangesMode}function Zt(t){Ft.isInCheckNoChangesMode=t}function Yt(){return Ft.lFrame.bindingIndex++}function Qt(t,e){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=t,te(e)}function te(t){Ft.lFrame.currentDirectiveIndex=t}function ee(){return Ft.lFrame.currentQueryIndex}function ne(t){Ft.lFrame.currentQueryIndex=t}function re(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ie(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=re(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ft.lFrame=se();return r.currentTNode=e,r.lView=t,!0}function oe(t){const e=se(),n=t[1];Ft.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function se(){const t=Ft.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ae(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=ae;function le(){const t=ae();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function he(){return Ft.lFrame.selectedIndex}function fe(t){Ft.lFrame.selectedIndex=t}function de(){const t=Ft.lFrame;return Nt(t.tView,t.selectedIndex)}function pe(){Ft.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function ge(){Ft.lFrame.currentNamespace=null}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function ye(t,e,n){we(t,e,3,n)}function me(t,e,n,r){(3&t[2])===n&&we(t,e,n,r)}function be(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(_e(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function _e(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Oe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ee(t,e,n){const r=jt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];Ie(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Te(t){return 3===t||4===t||6===t}function Ie(t){return 64===t.charCodeAt(0)}function xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Se(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Se(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function je(t){return-1!==t}function Ce(t){return 32767&t}function Ae(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let ke=!0;function Ne(t){const e=ke;return ke=t,e}let Re=0;function De(t,e){const n=Le(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Pe(r.data,t),Pe(e,null),Pe(r.blueprint,null));const i=Ue(t,e),o=t.injectorIndex;if(je(i)){const t=Ce(i),n=Ae(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Pe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Le(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ue(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Me(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Re++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ve(t,e,n){if(n&A.Optional)return t;bt(e,"NodeInjector")}function Fe(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&A.Optional):R(e,r,n&A.Optional)}finally{N(o)}}return Ve(r,e,n)}function He(t,e,n,r=A.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:ze:e}(n);if("function"==typeof o){if(!ie(e,t,r))return r&A.Host?Ve(i,n,r):Fe(e,n,r,i);try{const t=o();if(null!=t||r&A.Optional)return t;bt(n)}finally{ce()}}else if("number"==typeof o){let i=null,s=Le(t,e),u=-1,a=r&A.Host?e[16][6]:null;for((-1===s||r&A.SkipSelf)&&(u=-1===s?Ue(t,e):e[s+8],-1!==u&&We(r,!1)?(i=e[1],s=Ce(u),e=Ae(u,e)):s=-1);-1!==s;){const t=e[1];if($e(o,s,t.data)){const t=Be(s,e,n,i,r,a);if(t!==qe)return t}u=e[s+8],-1!==u&&We(r,e[1].data[s+8]===a)&&$e(o,s,e)?(i=t,s=Ce(u),e=Ae(u,e)):s=-1}}}return Fe(e,n,r,i)}const qe={};function ze(){return new Je(Gt(),qt())}function Be(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=Ge(u,s,n,null==r?ft(u)&&ke:r!=s&&0!=(3&u.type),i&A.Host&&o===u);return null!==a?Ke(e,s,a,u):qe}function Ge(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&pt(t)&&t.type===n)return a}return null}function Ke(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Oe){const s=i;s.resolving&&function(t,e){throw new vt("200",`Circular dependency in DI detected for ${t}`)}(mt(o[n]));const u=Ne(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?N(s.injectImpl):null;ie(t,r,A.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Ot(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&N(a),Ne(u),s.resolving=!1,ce()}}return i}function $e(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function We(t,e){return!(t&A.Self||t&A.Host&&e)}class Je{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return He(this._tNode,this._lView,t,void 0,e)}}function Xe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Te(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}function Ze(t,e,n){return D(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ye{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Qe=new Ye("AnalyzeForEntryComponents"),tn=Function;function en(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),en(r,e)):e!==t&&e.push(r)}return e}function nn(t,e){t.forEach(t=>Array.isArray(t)?nn(t,e):e(t))}function rn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function on(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const sn={},un=/\n/gm,an=g({provide:String,useValue:g});let cn;function ln(t){const e=cn;return cn=t,e}function hn(t,e=A.Default){if(void 0===cn)throw new Error("inject() must be called from an injection context");return null===cn?R(t,void 0,e):cn.get(t,e&A.Optional?null:void 0,e)}function fn(t,e=A.Default){return(k||hn)(w(t),e)}function dn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(fn(t,n))}else e.push(fn(r))}return e}function pn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const gn=pn(Ze("Inject",t=>({token:t})),-1),vn=pn(Ze("Optional"),8),yn=pn(Ze("SkipSelf"),4);let mn;function bn(t){var e;return(null===(e=function(){if(void 0===mn&&(mn=null,H.trustedTypes))try{mn=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return mn}())||void 0===e?void 0:e.createHTML(t))||t}class wn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _n extends wn{getTypeName(){return"HTML"}}class On extends wn{getTypeName(){return"Style"}}class En extends wn{getTypeName(){return"Script"}}class Tn extends wn{getTypeName(){return"URL"}}class In extends wn{getTypeName(){return"ResourceURL"}}function xn(t){return t instanceof wn?t.changingThisBreaksApplicationSecurity:t}function Sn(t,e){const n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function jn(t){return t instanceof wn&&t.getTypeName()||null}function Cn(t){return new _n(t)}function An(t){return new On(t)}function kn(t){return new En(t)}function Nn(t){return new Tn(t)}function Rn(t){return new In(t)}class Dn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(bn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Pn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=bn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=bn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ln=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Un=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mn(t){return(t=String(t)).match(Ln)||t.match(Un)?t:"unsafe:"+t}function Vn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Fn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Hn=Vn("area,br,col,hr,img,wbr"),qn=Vn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zn=Vn("rp,rt"),Bn=Fn(zn,qn),Gn=Fn(Hn,Fn(qn,Vn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fn(zn,Vn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bn),Kn=Vn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$n=Vn("srcset"),Wn=Fn(Kn,$n,Vn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jn=Vn("script,style,template");class Xn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Gn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Jn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Wn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Kn[o]&&(s=Mn(s)),$n[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Mn(t.trim())).join(", ")),this.buf.push(" ",e,'="',Qn(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Gn.hasOwnProperty(e)&&!Hn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Qn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Zn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yn=/([^\#-~ |!])/g;function Qn(t){return t.replace(/&/g,"&amp;").replace(Zn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Yn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tr;function er(t,e){let n=null;try{tr=tr||function(t){const e=new Pn(t);return function(){try{return!!(new window.DOMParser).parseFromString(bn(""),"text/html")}catch(t){return!1}}()?new Dn(e):e}(t);let r=e?String(e):"";n=tr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=tr.getInertBodyElement(r)}while(r!==o);return bn((new Xn).sanitizeChildren(nr(n)||n))}finally{if(n){const t=nr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function nr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var rr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ir(t){const e=function(){const t=qt();return t&&t[12]}();return e?e.sanitize(rr.URL,t)||"":Sn(t,"URL")?xn(t):Mn(yt(t))}function or(t){return t.ngDebugContext}function sr(t){return t.ngOriginalError}function ur(t,...e){t.error(...e)}class ar{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ur}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?or(t)?or(t):this._findContext(sr(t)):null}_findOriginalError(t){let e=sr(t);for(;e&&sr(e);)e=sr(e);return e}}function cr(t,e){t.__ngContext__=e}const lr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function hr(t){return t instanceof Function?t():t}var fr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function dr(t,e){return(void 0)(t,e)}function pr(t){const e=t[3];return lt(e)?e[3]:e}function gr(t){return yr(t[13])}function vr(t){return yr(t[4])}function yr(t){for(;null!==t&&!lt(t);)t=t[4];return t}function mr(t,e,n,r,i){if(null!=r){let o,s=!1;lt(r)?o=r:ct(r)&&(s=!0,r=r[0]);const u=At(r);0===t&&null!==n?null==i?Ir(e,n,u):Tr(e,n,u,i||null,!0):1===t&&null!==n?Tr(e,n,u,i||null,!0):2===t?function(t,e,n){const r=Sr(t,e);r&&function(t,e,n,r){jt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==At(n)&&mr(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Nr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function br(t,e,n){return jt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function wr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Vt(i,-1)),n.splice(r,1)}function _r(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&wr(o,r),e>0&&(t[n-1][4]=r[4]);const s=on(t,10+e);Nr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Or(t,e){if(!(256&e[2])){const n=e[11];jt(n)&&n.destroyNode&&Nr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Er(t[1],t);for(;e;){let n=null;if(ct(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ct(e)&&Er(e[1],e),e=e[3];null===e&&(e=t),ct(e)&&Er(e[1],e),n=e&&e[4]}e=n}}(e)}}function Er(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Oe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):At(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&jt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&lt(e[3])){n!==e[3]&&wr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Tr(t,e,n,r,i){jt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ir(t,e,n){jt(t)?t.appendChild(e,n):e.appendChild(n)}function xr(t,e,n,r,i){null!==r?Tr(t,e,n,r,i):Ir(t,e,n)}function Sr(t,e){return jt(t)?t.parentNode(e):e.parentNode}function jr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return kt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?kt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)xr(o,i,n[u],s,!1);else xr(o,i,n,s,!1)}function Cr(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return Ar(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Cr(t,n);{const n=t[e.index];return lt(n)?Ar(-1,n):At(n)}}if(32&n)return dr(e,t)()||At(t[e.index]);{const n=t[16],r=n[6],i=pr(n),o=r.projection[e.projection];return null!=o?Cr(i,o):Cr(t,e.next)}}return null}function Ar(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Cr(t,r)}return e[7]}function kr(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&cr(At(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)kr(t,e,n.child,r,i,o,!1),mr(e,t,i,u,o);else if(32&a){const s=dr(n,r);let a;for(;a=s();)mr(e,t,i,a,o);mr(e,t,i,u,o)}else 16&a?Rr(t,e,r,n,i,o):mr(e,t,i,u,o);n=s?n.projectionNext:n.next}}function Nr(t,e,n,r,i,o){kr(n,r,t.firstChild,e,i,o,!1)}function Rr(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)mr(e,t,i,u[a],o);else kr(t,e,u,s[3],i,o,!0)}function Dr(t,e,n){jt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Pr(t,e,n){jt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Lr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Ur(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Lr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Mr(t){return 4===t.type&&"ng-template"!==t.value}function Vr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Fr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Te(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!Vr(t,a,n)||""===a&&1===e.length){if(Hr(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!Ur(t.attrs,c,n)){if(Hr(r))return!1;s=!0}continue}const l=qr(8&r?"class":a,i,Mr(t),n);if(-1===l){if(Hr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Lr(e,c,0)||2&r&&c!==t){if(Hr(r))return!1;s=!0}}}}else{if(!s&&!Hr(r)&&!Hr(a))return!1;if(s&&Hr(a))continue;s=!1,r=a|1&r}}return Hr(r)||s}function Hr(t){return 0==(1&t)}function qr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function zr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Fr(t,e[r],n))return!0;return!1}function Br(t,e){return t?":not("+e.trim()+")":e}function Gr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Hr(s)||(e+=Br(o,i),i=""),r=s,o=o||!Hr(r);n++}return""!==i&&(e+=Br(o,i)),e}const Kr={};function $r(t){Wr(zt(),qt(),he()+t,Xt())}function Wr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ye(e,r,n)}else{const r=t.preOrderHooks;null!==r&&me(e,r,0,n)}fe(n)}function Jr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ne(i),n.contentQueries(2,e[o],o)}}}function Xr(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Mt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Zr(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Kt(),s=Wt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),Ft.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ft.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return $t(o,!0),o}function Yr(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Qr(t,e,n){oe(e);try{const r=t.viewQuery;null!==r&&Ci(1,r,n);const i=t.template;null!==i&&ni(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jr(t,e),t.staticViewQueries&&Ci(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ti(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,le()}}function ti(t,e,n,r){const i=e[2];if(256==(256&i))return;oe(e);const o=Xt();try{Mt(e),Ft.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ni(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&me(e,n,0,null),be(e,0)}if(function(t){for(let e=gr(t);null!==e;e=vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Vt(r,1),n[2]|=1024}}}(e),function(t){for(let e=gr(t);null!==e;e=vr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Jr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&me(e,n,1),be(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)fe(~r);else{const i=r,o=n[++t],s=n[++t];Qt(o,i),s(2,e[i])}}}finally{fe(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)Oi(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&Ci(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&me(e,n,2),be(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Vt(e[3],-1))}finally{le()}}function ei(t,e,n,r){const i=e[10],o=!Xt(),s=Pt(e);try{o&&!s&&i.begin&&i.begin(),s&&Qr(t,e,r),ti(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ni(t,e,n,r,i){const o=he();try{fe(-1),2&r&&e.length>20&&Wr(t,e,20,Xt()),n(r,i)}finally{fe(o)}}function ri(t,e,n){if(ht(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ii(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||De(n,e),cr(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=pt(r);o&&mi(e,n,r);const a=Ke(e,t,u,n);cr(a,e),null!==s&&bi(0,u-i,a,r,0,s),o&&(Rt(n.index,e)[8]=a)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ft.lFrame.currentDirectiveIndex;try{fe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];te(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||di(r,i)}}finally{fe(-1),te(s)}}(t,e,n))}function oi(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function si(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ui(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ui(t,e,n,r,i,o,s,u,a,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Kr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function ai(t,e,n,r){const i=ki(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ni(t).push(r,i.length-1))}function ci(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function li(t,e,n,r,i,o,s,u){const a=kt(e,n);let c,l=e.inputs;!u&&null!=l&&(c=l[r])?(Di(t,n,c,r,i),ft(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,jt(o)?o.setProperty(a,r,i):Ie(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function hi(t,e,n,r){let i=!1;if(Ht()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];zr(n,s.selectors,!1)&&(i||(i=[]),Me(De(n,e),t,s.type),pt(s)?(pi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,vi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=Yr(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=xe(n.mergedAttrs,c.hostAttrs),yi(t,n,e,a,c),gi(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||Mr(e)?null:wi(n,i);o.push(c),s=ci(n,a,s),u=ci(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new vt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=xe(n.mergedAttrs,n.attrs),i}function fi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function di(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function pi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function gi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pt(e)&&(n[""]=t)}}function vi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function yi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=gt(i.type)),s=new Oe(o,pt(i),null);t.blueprint[r]=s,n[r]=s,fi(t,e,0,r,Yr(t,n,i.hostVars,Kr),i)}function mi(t,e,n){const r=kt(e,t),i=si(n),o=t[10],s=Ii(t,Xr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function bi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function wi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function _i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Oi(t,e){const n=Rt(e,t);if(Lt(n)){const t=n[1];80&n[2]?ti(t,n,t.template,n[8]):n[5]>0&&Ei(n)}}function Ei(t){for(let n=gr(t);null!==n;n=vr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ti(t,e,t.template,e[8])}else e[5]>0&&Ei(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Lt(r)&&r[5]>0&&Ei(r)}}function Ti(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Qr(r,n,n[8])}function Ii(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xi(t){for(;t;){t[2]|=64;const e=pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Si(t,e,n){const r=e[10];r.begin&&r.begin();try{ti(t,e,t.template,n)}catch(i){throw Ri(e,i),i}finally{r.end&&r.end()}}function ji(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Dt(n),i=r[1];ei(i,r,i.template,n)}}(t[8])}function Ci(t,e,n){ne(0),e(t,n)}const Ai=(()=>Promise.resolve(null))();function ki(t){return t[7]||(t[7]=[])}function Ni(t){return t.cleanup||(t.cleanup=[])}function Ri(t,e){const n=t[9],r=n?n.get(ar,null):null;r&&r.handleError(e)}function Di(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function Pi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=y(i,t):2==o&&(r=y(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Li=new Ye("INJECTOR",-1);class Ui{get(t,e=sn){if(e===sn){const e=new Error(`NullInjectorError: No provider for ${v(t)}!`);throw e.name="NullInjectorError",e}return e}}const Mi=new Ye("Set Injector scope."),Vi={},Fi={},Hi=[];let qi;function zi(){return void 0===qi&&(qi=new Ui),qi}function Bi(t,e=null,n=null,r){return new Gi(t,n,e||zi(),r)}class Gi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&nn(e,n=>this.processProvider(n,t,e)),nn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Li,$i(void 0,this));const o=this.records.get(Mi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:v(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=sn,n=A.Default){this.assertNotDestroyed();const r=ln(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ye)&&E(t);e=n&&this.injectableDefInScope(n)?$i(Ki(t),Vi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?zi():this.parent).get(t,e=n&A.Optional&&e===sn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(v(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=v(e);if(Array.isArray(e))i=e.map(v).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):v(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(un,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ln(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(v(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{nn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];nn(r,t=>this.processProvider(t,n,r||Hi))}}this.injectorDefTypes.add(o),this.records.set(o,$i(r.factory,Vi));const u=r.providers;if(null!=u&&!s){const e=t;nn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ji(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return Wi(t)?$i(void 0,t.useValue):$i(function(t,e,n){let r;if(Ji(t)){const e=w(t);return gt(e)||Ki(e)}if(Wi(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>fn(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return gt(e)||Ki(e);r=()=>new e(...dn(t.deps))}var i;return r}(t),Vi)}(t);if(Ji(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=$i(void 0,Vi,!0),e.factory=()=>dn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Vi&&(e.value=Fi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ki(t){const e=E(t),n=null!==e?e.factory:gt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof Ye)throw new Error(`Token ${v(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${v(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function $i(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Wi(t){return null!==t&&"object"==typeof t&&an in t}function Ji(t){return"function"==typeof t}const Xi=function(t,e,n){return function(t,e=null,n=null,r){const i=Bi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Zi=(()=>{class t{static create(t,e){return Array.isArray(t)?Xi(t,e,""):Xi(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=sn,t.NULL=new Ui,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>fn(Li)}),t.__NG_ELEMENT_ID__=-1,t})();function Yi(t,e){ve(Dt(t)[1],Gt())}let Qi=null;function to(){if(!Qi){const t=H.Symbol;if(t&&t.iterator)Qi=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Qi=n)}}}return Qi}function eo(t){return!!no(t)&&(Array.isArray(t)||!(t instanceof Map)&&to()in t)}function no(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ro(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function io(t,e,n,r){const i=qt();return ro(i,Yt(),e)&&(zt(),function(t,e,n,r,i,o){const s=kt(t,e);!function(t,e,n,r,i,o,s){if(null==o)jt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?yt(o):s(o,r||"",i);jt(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],s,o,t.value,n,r,i)}(de(),i,t,e,n,r)),io}function oo(t,e,n,r,i,o,s,u){const a=qt(),c=zt(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=Zr(e,t,4,s||null,Ut(c,u));hi(e,n,l,Ut(c,a)),ve(e,l);const h=l.tViews=ui(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];$t(h,!1);const f=a[11].createComment("");jr(c,a,f,h),cr(f,a),Ii(a,a[l]=_i(f,a,f,h)),dt(h)&&ii(c,a,h),null!=s&&oi(a,h,u)}function so(t){return function(t,e){return t[e]}(Ft.lFrame.contextLView,20+t)}function uo(t,e=A.Default){const n=qt();return null===n?fn(t,e):He(Gt(),n,w(t),e)}function ao(t,e,n){const r=qt();return ro(r,Yt(),e)&&li(zt(),de(),r,t,e,r[11],n,!1),ao}function co(t,e,n,r,i){const o=i?"class":"style";Di(t,n,e.inputs[o],o,r)}function lo(t,e,n,r){const i=qt(),o=zt(),s=20+t,u=i[11],a=i[s]=br(u,e,Ft.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=Zr(e,t,2,i,Ut(u,o));return hi(e,n,a,Ut(u,s)),null!==a.attrs&&Pi(a,a.attrs,!1),null!==a.mergedAttrs&&Pi(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];$t(c,!0);const l=c.mergedAttrs;null!==l&&Ee(u,a,l);const h=c.classes;null!==h&&Pr(u,a,h);const f=c.styles;null!==f&&Dr(u,a,f),64!=(64&c.flags)&&jr(o,i,a,c),0===Ft.lFrame.elementDepthCount&&cr(a,i),Ft.lFrame.elementDepthCount++,dt(c)&&(ii(o,i,c),ri(o,c,i)),null!==r&&oi(i,c)}function ho(){let t=Gt();Wt()?Jt():(t=t.parent,$t(t,!1));const e=t;Ft.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(ve(n,t),ht(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&co(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&co(n,e,qt(),e.stylesWithoutHost,!1)}function fo(t,e,n,r){lo(t,e,n,r),ho()}function po(t,e,n){const r=qt(),i=zt(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ut(o,r),u=Zr(e,t,8,"ng-container",s);return null!==s&&Pi(u,s,!0),hi(e,n,u,Ut(o,i)),null!==e.queries&&e.queries.elementStart(e,u),u}(o,i,r,e,n):i.data[o];$t(s,!0);const u=r[o]=r[11].createComment("");jr(i,r,u,s),cr(u,r),dt(s)&&(ii(i,r,s),ri(i,s,r)),null!=n&&oi(r,s)}function go(){let t=Gt();const e=zt();Wt()?Jt():(t=t.parent,$t(t,!1)),e.firstCreatePass&&(ve(e,t),ht(t)&&e.queries.elementEnd(t))}function vo(){return qt()}function yo(t){return!!t&&"function"==typeof t.then}function mo(t){return!!t&&"function"==typeof t.subscribe}const bo=mo;function wo(t,e,n=!1,r){const i=qt(),o=zt(),s=Gt();return function(t,e,n,r,i,o,s=!1,u){const a=dt(r),c=t.firstCreatePass&&Ni(t),l=ki(e);let h=!0;if(3&r.type){const f=kt(r,e),d=u?u(f):q,p=d.target||f,g=l.length,v=u?t=>u(At(t[r.index])).target:r.index;if(jt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Oo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=Oo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=Oo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),wo}function _o(t,e,n){try{return!1!==e(n)}catch(r){return Ri(t,r),!1}}function Oo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&xi(s);let u=_o(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=_o(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Eo(t=1){return function(t){return(Ft.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ft.lFrame.contextLView))[8]}(t)}function To(t,e=""){const n=qt(),r=zt(),i=t+20,o=r.firstCreatePass?Zr(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return jt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);jr(r,n,s,o),$t(o,!1)}function Io(t){return xo("",t,""),Io}function xo(t,e,n){const r=qt(),i=function(t,e,n,r){return ro(t,Yt(),n)?e+yt(n)+r:Kr}(r,t,e,n);return i!==Kr&&function(t,e,n){const r=function(t,e){return At(e[t])}(e,t);!function(t,e,n){jt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,he(),i),xo}function So(t,e,n){const r=qt();return ro(r,Yt(),e)&&li(zt(),de(),r,t,e,r[11],n,!0),So}const jo=void 0;var Co=["en",[["a","p"],["AM","PM"],jo],[["AM","PM"],jo,jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jo,"{1} 'at' {0}",jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ao={};function ko(t,e,n){"string"!=typeof e&&(n=e,e=t[Lo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ao[e]=t,n&&(Ao[e][Lo.ExtraData]=n)}function No(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Po(e);if(n)return n;const r=e.split("-")[0];if(n=Po(r),n)return n;if("en"===r)return Co;throw new Error(`Missing locale data for the locale "${t}".`)}function Ro(t){return No(t)[Lo.CurrencyCode]||null}function Do(t){return No(t)[Lo.PluralCase]}function Po(t){return t in Ao||(Ao[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),Ao[t]}var Lo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Uo="en-US";function Mo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Uo=t.toLowerCase().replace(/_/g,"-"))}class Vo{}class Fo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${v(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ho=(()=>{class t{}return t.NULL=new Fo,t})();function qo(...t){}function zo(t,e){return new Go(kt(t,e))}const Bo=function(){return zo(Gt(),qt())};let Go=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Bo,t})();function Ko(t){return t instanceof Go?t.nativeElement:t}class $o{}let Wo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Jo(),t})();const Jo=function(){const t=qt(),e=Rt(Gt().index,t);return function(t){return t[11]}(ct(e)?e:t)};let Xo=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Zo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Yo=new Zo("11.1.1");class Qo{constructor(){}supports(t){return eo(t)}create(t){return new es(t)}}const ts=(t,e)=>e;class es{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ts}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<os(n,r,i)?e:n,s=os(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!eo(t))throw new Error(`Error trying to diff '${v(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[to()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ns(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new is),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new is),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ns{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class is{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new rs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function os(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ss{constructor(){}supports(t){return t instanceof Map||no(t)}create(){return new us}}class us{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||no(t)))throw new Error(`Error trying to diff '${v(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new as(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class as{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cs(){return new ls([new Qo])}let ls=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||cs()),deps:[[t,new yn,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:cs}),t})();function hs(){return new fs([new ss])}let fs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||hs()),deps:[[t,new yn,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:hs}),t})();function ds(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(At(o)),lt(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ds(e[1],e,n,r)}const s=n.type;if(8&s)ds(t,e,n.child,r);else if(32&s){const t=dr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=pr(t);ds(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ps{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ds(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(lt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(_r(t,n),on(e,n))}this._attachedToViewContainer=!1}Or(this._lView[1],this._lView)}onDestroy(t){ai(this._lView[1],this._lView,null,t)}markForCheck(){xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Si(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Zt(!0);try{Si(t,e,n)}finally{Zt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Nr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class gs extends ps{constructor(t){super(t),this._view=t}detectChanges(){ji(this._view)}checkNoChanges(){!function(t){Zt(!0);try{ji(t)}finally{Zt(!1)}}(this._view)}get context(){return null}}const vs=ms;let ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=vs,t.__ChangeDetectorRef__=!0,t})();function ms(t=!1){return function(t,e,n){if(!n&&ft(t)){const n=Rt(t.index,e);return new ps(n,n)}return 47&t.type?new ps(e[16],e):null}(Gt(),qt(),t)}const bs=[new ss],ws=new ls([new Qo]),_s=new fs(bs),Os=function(){return xs(Gt(),qt())};let Es=(()=>{class t{}return t.__NG_ELEMENT_ID__=Os,t})();const Ts=Es,Is=class extends Ts{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Xr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Qr(e,n,t),new ps(n)}};function xs(t,e){return 4&t.type?new Is(e,t,zo(t,e)):null}class Ss{}class js{}const Cs=function(){return Ps(Gt(),qt())};let As=(()=>{class t{}return t.__NG_ELEMENT_ID__=Cs,t})();const ks=As,Ns=class extends ks{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return zo(this._hostTNode,this._hostLView)}get injector(){return new Je(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ue(this._hostTNode,this._hostLView);if(je(t)){const e=Ae(t,this._hostLView),n=Ce(t);return new Je(e[1].data[n+8],e)}return new Je(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Rs(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ss,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(lt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ns(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],rn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=Ar(i,o),u=n[11],a=Sr(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Nr(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),rn(Ds(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Rs(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=_r(this._lContainer,e);n&&(on(Ds(this._lContainer),e),Or(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=_r(this._lContainer,e);return n&&null!=on(Ds(this._lContainer),e)?new ps(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Rs(t){return t[8]}function Ds(t){return t[8]||(t[8]=[])}function Ps(t,e){let n;const r=e[t.index];if(lt(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Tr(n,Sr(n,r),i,function(t,e){return jt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=_i(r,e,i,t),Ii(e,n)}return new Ns(n,t,e)}const Ls={};class Us extends Ho{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new Fs(e,this.ngModule)}}function Ms(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Vs=new Ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lr});class Fs extends Vo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Gr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ms(this.componentDef.inputs)}get outputs(){return Ms(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ls,i);return o!==Ls||r===Ls?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get($o,Ct),s=i.get(Xo,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(jt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):br(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:lr,clean:Ai,playerHandler:null,flags:0},f=ui(0,null,null,1,0,null,null,null,null,null),d=Xr(null,f,h,l,null,null,o,u,s,i);let p,g;oe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=Zr(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Pi(u,a,!0),null!==t&&(Ee(i,t,a),null!==u.classes&&Pr(i,t,u.classes),null!==u.styles&&Dr(i,t,u.styles)));const c=r.createRenderer(t,e),l=Xr(n,si(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(Me(De(u,n),s,e.type),pi(s,u),vi(u,n.length,1)),Ii(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)Ee(u,c,["ng-version",Yo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Hr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ee(u,c,t),e&&e.length>0&&Pr(u,c,e.join(" "))}if(g=Nt(f,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),yi(t,r,e,Yr(t,e,1,null),n));const i=Ke(e,t,r.directiveStart,r);cr(i,e);const o=kt(r,e);return o&&cr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Gt();e.contentQueries(1,s,t.directiveStart)}const u=Gt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fe(u.index),fi(n[1],u,0,u.directiveStart,u.directiveEnd,e),di(e,s)),s}(t,this.componentDef,d,h,[Yi]),Qr(f,d,null)}finally{le()}return new Hs(this.componentType,p,zo(g,d),d,g)}}class Hs extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new gs(r),this.componentType=t}get injector(){return new Je(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const qs=new Map;class zs extends Ss{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Us(this);const n=at(t),r=t[W]||null;r&&Mo(r),this._bootstrapComponents=hr(n.bootstrap),this._r3Injector=Bi(t,e,[{provide:Ss,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver}],v(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Zi.THROW_IF_NOT_FOUND,n=A.Default){return t===Zi||t===Ss||t===Li?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Bs extends js{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${v(e)} vs ${v(e.name)}`)}(i,qs.get(i),n),qs.set(i,n));const o=hr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new zs(this.moduleType,t)}}const Gs=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function Ks(){return this._results[to()]()}class $s{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=to(),n=$s.prototype;n[e]||(n[e]=Ks)}get changes(){return this._changes||(this._changes=new Gs)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=en(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ws{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ws(this.queryList)}setDirty(){this.queryList.setDirty()}}class Js{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Js(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==su(t,e).matches&&this.queries[e].setDirty()}}class Xs{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Zs{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Zs(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ys{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ys(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Qs(e,i)),this.matchTNodeWithReadOption(t,e,Ge(e,t,i,!1,!1))}else n===Es?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ge(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Go||r===As||r===Es&&4&e.type)this.addMatch(e.index,-2);else{const n=Ge(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Qs(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function tu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?zo(t,e):4&t.type?xs(t,e):null}(e,t):-2===n?function(t,e,n){return n===Go?zo(e,t):n===Es?xs(e,t):n===As?Ps(e,t):void 0}(t,e,r):Ke(t,t[1],n,e)}function eu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:tu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function nu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=eu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&nu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];nu(n[1],n,i,r)}}}}}return r}function ru(t){const e=qt(),n=zt(),r=ee();ne(r+1);const i=su(n,r);if(t.dirty&&Pt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?nu(n,e,r,[]):eu(n,e,i,r);t.reset(o,Ko),t.notifyOnChanges()}return!0}return!1}function iu(t,e,n,r){const i=zt();if(i.firstCreatePass){const o=Gt();(function(t,e,n){null===t.queries&&(t.queries=new Zs),t.queries.track(new Ys(e,n))})(i,new Xs(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new $s(4==(4&n));ai(t,e,r,r.destroy),null===e[19]&&(e[19]=new Js),e[19].queries.push(new Ws(r))}(i,qt(),n)}function ou(){return t=qt(),e=ee(),t[19].queries[e].queryList;var t,e}function su(t,e){return t.queries.getByIndex(e)}function uu(t,e){return xs(t,e)}function au(t=A.Default){const e=ms(!0);if(null!=e||t&A.Optional)return e;bt("ChangeDetectorRef")}const cu=new Ye("Application Initializer");let lu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=qo,this.reject=qo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();yo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(fn(cu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const hu=new Ye("AppId"),fu={provide:hu,useFactory:function(){return`${du()}${du()}${du()}`},deps:[]};function du(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pu=new Ye("Platform Initializer"),gu=new Ye("Platform ID"),vu=new Ye("appBootstrapListener");let yu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const mu=new Ye("LocaleId"),bu=new Ye("DefaultCurrencyCode");class wu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const _u=function(t){return new Bs(t)},Ou=_u,Eu=function(t){return Promise.resolve(_u(t))},Tu=function(t){const e=_u(t),n=hr(at(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new Fs(n)),t},[]);return new wu(e,n)},Iu=Tu,xu=function(t){return Promise.resolve(Tu(t))};let Su=(()=>{class t{constructor(){this.compileModuleSync=Ou,this.compileModuleAsync=Eu,this.compileModuleAndAllComponentsSync=Iu,this.compileModuleAndAllComponentsAsync=xu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const ju=(()=>Promise.resolve(0))();function Cu(t){"undefined"==typeof Zone?ju.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Au{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gs(!1),this.onMicrotaskEmpty=new Gs(!1),this.onStable=new Gs(!1),this.onError=new Gs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ru(t),Nu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ru(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,u)=>{try{return Du(t),n.invokeTask(i,o,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Pu(t)}},onInvoke:(n,r,i,o,s,u,a)=>{try{return Du(t),n.invoke(i,o,s,u,a)}finally{t.shouldCoalesceRunChangeDetection&&e(),Pu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ru(t),Nu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Au.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Au.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ku,qo,qo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ku={};function Nu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ru(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Du(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pu(t){t._nesting--,Nu(t)}class Lu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gs,this.onMicrotaskEmpty=new Gs,this.onStable=new Gs,this.onError=new Gs}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Uu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Au.assertNotInAngularZone(),Cu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(fn(Au))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Mu=(()=>{class t{constructor(){this._applications=new Map,qu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return qu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Vu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Fu(t){qu=t}let Hu,qu=new Vu,zu=!0,Bu=!1;function Gu(){return Bu=!0,zu}function Ku(){if(Bu)throw new Error("Cannot enable prod mode after platform setup.");zu=!1}const $u=new Ye("AllowMultipleToken");class Wu{constructor(t,e){this.name=t,this.token=e}}function Ju(t,e,n=[]){const r=`Platform: ${e}`,i=new Ye(r);return(e=[])=>{let o=Xu();if(!o||o.injector.get($u,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Mi,useValue:"platform"});!function(t){if(Hu&&!Hu.destroyed&&!Hu.injector.get($u,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hu=t.get(Zu);const e=t.get(pu,null);e&&e.forEach(t=>t())}(Zi.create({providers:t,name:r}))}return function(t){const e=Xu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Xu(){return Hu&&!Hu.destroyed?Hu:null}let Zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Lu:("zone.js"===t?void 0:t)||new Au({enableLongStackTrace:Gu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Au,useValue:n}];return n.run(()=>{const e=Zi.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(ar,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{ta(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return yo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(lu);return t.runInitializers(),t.donePromise.then(()=>(Mo(i.injector.get(mu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Yu({},e);return function(t,e,n){const r=new Bs(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Qu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${v(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(fn(Zi))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Yu(t,e){return Array.isArray(e)?e.reduce(Yu,t):Object.assign(Object.assign({},t),e)}let Qu=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Au.assertNotInAngularZone(),Cu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Vo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ss),i=n.create(Zi.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Uu,null),u=s&&i.injector.get(Mu);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),ta(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),Gu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ta(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(fn(Au),fn(yu),fn(Zi),fn(ar),fn(Ho),fn(lu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function ta(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ea{}class na{}const ra={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ia=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ra}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>oa(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>oa(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(fn(Su),fn(na,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function oa(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const sa=function(t){return null},ua=Ju(null,"core",[{provide:gu,useValue:"unknown"},{provide:Zu,deps:[Zi]},{provide:Mu,deps:[]},{provide:yu,deps:[]}]),aa=[{provide:Qu,useClass:Qu,deps:[Au,yu,Zi,ar,Ho,lu]},{provide:Vs,deps:[Au],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:lu,useClass:lu,deps:[[new vn,cu]]},{provide:Su,useClass:Su,deps:[]},fu,{provide:ls,useFactory:function(){return ws},deps:[]},{provide:fs,useFactory:function(){return _s},deps:[]},{provide:mu,useFactory:function(t){return Mo(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new gn(mu),new vn,new yn]]},{provide:bu,useValue:"USD"}];let ca=(()=>{class t{constructor(t){}}return t.\u0275mod=nt({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(fn(Qu))},providers:aa}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},ofXK:function(t,e,n){"use strict";n.d(e,"a",function(){return w}),n.d(e,"b",function(){return V}),n.d(e,"c",function(){return F}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return E}),n.d(e,"h",function(){return m}),n.d(e,"i",function(){return k}),n.d(e,"j",function(){return N}),n.d(e,"k",function(){return _}),n.d(e,"l",function(){return c}),n.d(e,"m",function(){return z}),n.d(e,"n",function(){return q}),n.d(e,"o",function(){return u}),n.d(e,"p",function(){return H}),n.d(e,"q",function(){return o}),n.d(e,"r",function(){return A}),n.d(e,"s",function(){return s});var r=n("fXoL");let i=null;function o(){return i}function s(t){i||(i=t)}class u{}const a=new r.r("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Cb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Ob)(f)}const h=new r.r("Location Initialized");let f=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a))},t.\u0275prov=Object(r.Cb)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f(Object(r.Ob)(a))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function v(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Cb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Ob)(a).location;return new _(Object(r.Ob)(c),e&&e.origin||"")}const w=new r.r("appBaseHref");let _=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(c),r.Ob(w,8))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(c),r.Ob(w,8))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=v(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(c))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=v,t.\u0275prov=Object(r.Cb)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new E(Object(r.Ob)(m),Object(r.Ob)(c))}function I(t){return t.replace(/\/index.html$/,"")}var x=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.lb;class j{}let C=(()=>{class t extends j{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.v))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let k=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.ub)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(r.t),r.Gb(r.u),r.Gb(r.l),r.Gb(r.E))},t.\u0275dir=r.Bb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(r.Q),r.Gb(r.L))},t.\u0275dir=r.Bb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.ub)(e)}'.`)}class P{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class L{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const U=new L,M=new P;let V=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return U;if(Object(r.rb)(e))return M;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.ub)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Qb())},t.\u0275pipe=r.Fb({name:"async",type:t,pure:!1}),t})(),F=(()=>{class t{}return t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({factory:function(e){return new(e||t)},providers:[{provide:j,useClass:C}]}),t})();const H="browser";function q(t){return"server"===t}let z=(()=>{class t{}return t.\u0275prov=Object(r.Cb)({token:t,providedIn:"root",factory:()=>new B(Object(r.Ob)(a),window)}),t})();class B{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=G(this.window.history)||G(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function G(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return a}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new v(i,u,r);return a},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return T}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.r("angularfire2.app.options"),b=new a.r("angularfire2.app.nameOrConfig"),w=new a.P("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:class{},useFactory:_,deps:[m,a.A,[new a.B,b]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=a.Eb({type:t}),t.\u0275inj=a.Db({factory:function(e){return new(e||t)(a.Ob(a.C))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},tyNb:function(t,e,n){"use strict";n.d(e,"a",function(){return On}),n.d(e,"b",function(){return Dn}),n.d(e,"c",function(){return Tn});var r=n("ofXK"),i=n("fXoL"),o=n("Cfvw"),s=n("LRne"),u=n("XNiG"),a=n("9ppp");class c extends u.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new a.a;return this._value}next(t){super.next(this._value=t)}}var l=n("z+Ro"),h=n("DH7j"),f=n("7o/Q");class d extends f.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class p extends f.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var g=n("SeVD"),v=n("HDdC");function y(t,e,n,r,i=new p(t,n,r)){if(!i.closed)return e instanceof v.a?e.subscribe(i):Object(g.a)(e)(i)}var m=n("yCtX");const b={};class w{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new _(t,this.resultSelector))}}class _ extends d{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(b),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(y(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===b?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var O=n("sVev"),E=n("GyhO"),T=n("EY2u");function I(t){return new v.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(o.a)(n):Object(T.b)()).subscribe(e)})}var x=n("lJxs"),S=n("eIep"),j=n("IzEk"),C=n("JX91"),A=n("Kqap"),k=n("pLZG"),N=n("zx2A");function R(t){return function(e){const n=new D(t),r=e.lift(n);return n.caught=r}}class D{constructor(t){this.selector=t}call(t,e){return e.subscribe(new P(t,this.selector,this.caught))}}class P extends N.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new N.a(this);this.add(r);const i=Object(N.c)(n,r);i!==r&&this.add(i)}}}var L=n("5+tZ");function U(t,e){return Object(L.a)(t,e,1)}var M=n("4I5i");function V(t){return function(e){return 0===t?Object(T.b)():e.lift(new F(t))}}class F{constructor(t){if(this.total=t,this.total<0)throw new M.a}call(t,e){return e.subscribe(new H(t,this.total))}}class H extends f.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var q=n("XDbj"),z=n("xbPD"),B=n("SpAZ"),G=n("SxV6"),K=n("vkgz"),$=n("quSY");class W{constructor(t){this.callback=t}call(t,e){return e.subscribe(new J(t,this.callback))}}class J extends f.a{constructor(t,e){super(t),this.add(new $.a(e))}}var X=n("bHdf");class Z{constructor(t,e){this.id=t,this.url=e}}class Y extends Z{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Q extends Z{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tt extends Z{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class et extends Z{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nt extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it extends Z{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ot extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class at{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ct{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ht{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pt{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gt(t){return new pt(t)}function vt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function yt(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mt(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bt(t[i],e[i]))return!1;return!0}function bt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function wt(t){return Array.prototype.concat.apply([],t)}function _t(t){return t.length>0?t[t.length-1]:null}function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Et(t){return Object(i.pb)(t)?t:Object(i.qb)(t)?Object(o.a)(Promise.resolve(t)):Object(s.a)(t)}function Tt(t,e,n){return n?function(t,e){return mt(t,e)}(t.queryParams,e.queryParams)&&It(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bt(t[n],e[n]))}(t.queryParams,e.queryParams)&&xt(t.root,e.root)}function It(t,e){if(!kt(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!It(t.children[n],e.children[n]))return!1}return!0}function xt(t,e){return St(t,e,e.segments)}function St(t,e,n){if(t.segments.length>n.length)return!!kt(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!kt(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!xt(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!kt(t.segments,r)&&!!t.children.primary&&St(t.children.primary,e,i)}}class jt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return Dt.serialize(this)}}class Ct{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ot(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pt(this)}}class At{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gt(this.parameters)),this._parameterMap}toString(){return qt(this)}}function kt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Nt{}class Rt{parse(t){const e=new $t(t);return new jt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Lt(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Mt(e)}=${Mt(t)}`).join("&"):`${Mt(e)}=${Mt(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Dt=new Rt;function Pt(t){return t.segments.map(t=>qt(t)).join("/")}function Lt(t,e){if(!t.hasChildren())return Pt(t);if(e){const e=t.children.primary?Lt(t.children.primary,!1):"",n=[];return Ot(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${Lt(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ot(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Ot(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[Lt(t.children.primary,!1)]:[`${n}:${Lt(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Pt(t)}/${e[0]}`:`${Pt(t)}/(${e.join("//")})`}}function Ut(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mt(t){return Ut(t).replace(/%3B/gi,";")}function Vt(t){return Ut(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ft(t){return decodeURIComponent(t)}function Ht(t){return Ft(t.replace(/\+/g,"%20"))}function qt(t){return`${Vt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Vt(t)}=${Vt(e[t])}`).join("")}`;var e}const zt=/^[^\/()?;=#]+/;function Bt(t){const e=t.match(zt);return e?e[0]:""}const Gt=/^[^=?&#]+/,Kt=/^[^?&#]+/;class $t{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ct(t,e)),n}parseSegment(){const t=Bt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new At(Ft(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Bt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Bt(this.remaining);t&&(n=t,this.capture(n))}t[Ft(e)]=Ft(n)}parseQueryParam(t){const e=function(t){const e=t.match(Gt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Kt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ht(e),i=Ht(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Bt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ct([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Wt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Jt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Jt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Xt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Xt(t,this._root).map(t=>t.value)}}function Jt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Jt(t,n);if(e)return e}return null}function Xt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Xt(t,n);if(r.length)return r.unshift(e),r}return[]}class Zt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Qt extends Wt{constructor(t,e){super(t),this.snapshot=e,oe(this,t)}toString(){return this.snapshot.toString()}}function te(t,e){const n=function(t,e){const n=new re([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ie("",new Zt(n,[]))}(t,e),r=new c([new At("",{})]),i=new c({}),o=new c({}),s=new c({}),u=new c(""),a=new ee(r,i,s,u,o,"primary",e,n.root);return a.snapshot=n.root,new Qt(new Zt(a,[]),n)}class ee{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(x.a)(t=>gt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(x.a)(t=>gt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ne(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class re{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ie extends Wt{constructor(t,e){super(e),this.url=t,oe(this,e)}toString(){return se(this._root)}}function oe(t,e){e.value._routerState=t,e.children.forEach(e=>oe(t,e))}function se(t){const e=t.children.length>0?` { ${t.children.map(se).join(", ")} } `:"";return`${t.value}${e}`}function ue(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),mt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),mt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ae(t,e){var n,r;return mt(t.params,e.params)&&kt(n=t.url,r=e.url)&&n.every((t,e)=>mt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||ae(t.parent,e.parent))}function ce(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ce(t,e,r);return ce(t,e)})}(t,e,n);return new Zt(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return le(e,t),t}{const n=new ee(new c((r=e.value).url),new c(r.params),new c(r.queryParams),new c(r.fragment),new c(r.data),r.outlet,r.component,r),i=e.children.map(e=>ce(t,e));return new Zt(n,i)}}var r}function le(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)le(t.children[n],e.children[n])}function he(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fe(t){return"object"==typeof t&&null!=t&&t.outlets}function de(t,e,n,r,i){let o={};return r&&Ot(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new jt(n.root===t?e:pe(n.root,t,e),o,i)}function pe(t,e,n){const r={};return Ot(t.children,(t,i)=>{r[i]=t===e?n:pe(t,e,n)}),new Ct(t.segments,r)}class ge{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&he(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(fe);if(r&&r!==_t(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ve{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ye(t,e,n){if(t||(t=new Ct([],{})),0===t.segments.length&&t.hasChildren())return me(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(fe(s))break;const u=`${s}`,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!Oe(u,a,e))return o;r+=2}else{if(!Oe(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ct(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ct(t.segments.slice(r.pathIndex),t.children),me(e,0,i)}return r.match&&0===i.length?new Ct(t.segments,{}):r.match&&!t.hasChildren()?be(t,e,n):r.match?me(t,0,i):be(t,e,n)}function me(t,e,n){if(0===n.length)return new Ct(t.segments,{});{const r=function(t){return fe(t[0])?t[0].outlets:{primary:t}}(n),i={};return Ot(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ye(t.children[r],e,n))}),Ot(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ct(t.segments,i)}}function be(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(fe(o)){const t=we(o.outlets);return new Ct(r,t)}if(0===i&&he(n[0])){r.push(new At(t.segments[e].path,_e(n[0]))),i++;continue}const s=fe(o)?o.outlets.primary:`${o}`,u=i<n.length-1?n[i+1]:null;s&&u&&he(u)?(r.push(new At(s,_e(u))),i+=2):(r.push(new At(s,{})),i++)}return new Ct(r,{})}function we(t){const e={};return Ot(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=be(new Ct([],{}),0,t))}),e}function _e(t){const e={};return Ot(t,(t,n)=>e[n]=`${t}`),e}function Oe(t,e,n){return t==n.path&&mt(e,n.parameters)}class Ee{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ue(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Yt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ot(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Yt(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Yt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ft(t.value.snapshot))}),t.children.length&&this.forwardEvent(new lt(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ue(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Te(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Te(t){ue(t.value),t.children.forEach(Te)}class Ie{constructor(t,e){this.routes=t,this.module=e}}function xe(t){return"function"==typeof t}function Se(t){return t instanceof jt}const je=Symbol("INITIAL_VALUE");function Ce(){return Object(S.a)(t=>function(...t){let e,n;return Object(l.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(h.a)(t[0])&&(t=t[0]),Object(m.a)(t,n).lift(new w(e))}(t.map(t=>t.pipe(Object(j.a)(1),Object(C.a)(je)))).pipe(Object(A.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==je)return t;if(r===je&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Se(r))return r}return t},t)},je),Object(k.a)(t=>t!==je),Object(x.a)(t=>Se(t)?t:!0===t),Object(j.a)(1)))}let Ae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Hb(0,"router-outlet")},directives:function(){return[Tn]},encapsulation:2}),t})();function ke(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ne(r,Re(e,r))}}function Ne(t,e){t.children&&ke(t.children,e)}function Re(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function De(t){const e=t.children&&t.children.map(De),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ae),n}function Pe(t){return t.outlet||"primary"}function Le(t,e){const n=t.filter(t=>Pe(t)===e);return n.push(...t.filter(t=>Pe(t)!==e)),n}const Ue={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Me(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ue):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yt)(n,t,e);if(!i)return Object.assign({},Ue);const o={};Ot(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ve(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Fe(t,e,n)&&"primary"!==Pe(n))}(t,n,r)){const i=new Ct(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Pe(o)){const n=new Ct([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Pe(o)]=n}return i}(t,e,r,new Ct(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Fe(t,e,n))}(t,n,r)){const o=new Ct(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(Fe(t,n,u)&&!i[Pe(u)]){const n=new Ct([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Pe(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ct(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Fe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function He(t,e,n,r){return!!(Pe(t)===r||"primary"!==r&&Fe(e,n,t))&&("**"===t.path||Me(e,t,n).matched)}function qe(t,e,n){return 0===e.length&&!t.children[n]}class ze{constructor(t){this.segmentGroup=t||null}}class Be{constructor(t){this.urlTree=t}}function Ge(t){return new v.a(e=>e.error(new ze(t)))}function Ke(t){return new v.a(e=>e.error(new Be(t)))}function $e(t){return new v.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class We{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.y)}apply(){const t=Ve(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ct(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(Object(x.a)(t=>this.createUrlTree(Je(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(R(t=>{if(t instanceof Be)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ze)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(x.a)(e=>this.createUrlTree(Je(e),t.queryParams,t.fragment))).pipe(R(t=>{if(t instanceof ze)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ct([],{primary:t}):t;return new jt(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(x.a)(t=>new Ct([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(o.a)(r).pipe(U(r=>{const i=n.children[r],o=Le(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(x.a)(t=>({segment:t,outlet:r})))}),Object(A.a)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(k.a)((e,n)=>t(e,n,r)):B.a,V(1),n?Object(z.a)(e):Object(q.a)(()=>new O.a))}())}expandSegment(t,e,n,r,i,u){return Object(o.a)(n).pipe(U(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,u).pipe(R(t=>{if(t instanceof ze)return Object(s.a)(null);throw t}))),Object(G.a)(t=>!!t),R((t,n)=>{if(t instanceof O.a||"EmptyError"===t.name){if(qe(e,r,i))return Object(s.a)(new Ct([],{}));throw new ze(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return He(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ge(e):Ge(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ke(i):this.lineralizeSegments(n,i).pipe(Object(L.a)(n=>{const i=new Ct(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=Me(e,r,i);if(!s)return Ge(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ke(l):this.lineralizeSegments(r,l).pipe(Object(L.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(x.a)(t=>(n._loadedConfig=t,new Ct(r,{})))):Object(s.a)(new Ct(r,{}));const{matched:o,consumedSegments:u,lastChild:a}=Me(e,n,r);if(!o)return Ge(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(L.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:l}=Ve(e,u,c,o),h=new Ct(a.segments,a.children);if(0===l.length&&h.hasChildren())return this.expandChildren(r,o,h).pipe(Object(x.a)(t=>new Ct(u,t)));if(0===o.length&&0===l.length)return Object(s.a)(new Ct(u,{}));const f=Pe(n)===i;return this.expandSegment(r,h,o,l,f?"primary":i,!0).pipe(Object(x.a)(t=>new Ct(u.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(s.a)(new Ie(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(s.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(L.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(x.a)(t=>(e._loadedConfig=t,t))):function(t){return new v.a(e=>e.error(vt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(s.a)(new Ie([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(s.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&xe(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!xe(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Et(o)});return Object(s.a)(i).pipe(Ce(),Object(K.a)(t=>{if(!Se(t))return;const e=vt(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(x.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(s.a)(n);if(r.numberOfChildren>1||!r.children.primary)return $e(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new jt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ot(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ot(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ct(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Je(t){const e={};for(const n of Object.keys(t.children)){const r=Je(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ct(t.segments.concat(e.segments),e.children)}return t}(new Ct(t.segments,e))}class Xe{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ze{constructor(t,e){this.component=t,this.route=e}}function Ye(t,e,n){const r=t._root;return tn(r,e?e._root:null,n,[r.value])}function Qe(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function tn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Yt(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!kt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kt(t.url,e.url)||!mt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ae(t,e)||!mt(t.queryParams,e.queryParams);case"paramsChange":default:return!ae(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Xe(r)):(o.data=s.data,o._resolvedData=s._resolvedData),tn(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Ze(u.outlet.component,s))}else s&&en(e,u,i),i.canActivateChecks.push(new Xe(r)),tn(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ot(o,(t,e)=>en(t,n.getContext(e),i)),i}function en(t,e,n){const r=Yt(t),i=t.value;Ot(r,(t,r)=>{en(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ze(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class nn{}function rn(t){return new v.a(e=>e.error(t))}class on{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Ve(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new re([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Zt(n,e),i=new ie(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ne(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Le(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!sn(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return qe(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!He(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?_t(n).parameters:{};i=new re(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cn(t),Pe(t),t.component,t,un(e),an(e)+n.length,ln(t))}else{const r=Me(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new re(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cn(t),Pe(t),t.component,t,un(e),an(e)+o.length,ln(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=Ve(e,o,s,u.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return null===t?null:[new Zt(i,t)]}if(0===u.length&&0===c.length)return[new Zt(i,[])];const l=Pe(t)===r,h=this.processSegment(u,a,c,l?"primary":r);return null===h?null:[new Zt(i,h)]}}function sn(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function un(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function an(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function cn(t){return t.data||{}}function ln(t){return t.resolve||{}}function hn(t){return Object(S.a)(e=>{const n=t(e);return n?Object(o.a)(n).pipe(Object(x.a)(()=>e)):Object(s.a)(e)})}class fn extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const dn=new i.r("ROUTES");class pn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(x.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ie(wt(r.injector.get(dn,void 0,i.q.Self|i.q.Optional)).map(De),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(o.a)(this.loader.load(t)):Et(t()).pipe(Object(L.a)(t=>t instanceof i.w?Object(s.a)(t):Object(o.a)(this.compiler.compileModuleAsync(t))))}}class gn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vn,this.attachRef=null}}class vn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new gn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class yn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function mn(t){throw t}function bn(t,e,n){return e.parse("/")}function wn(t,e){return Object(s.a)(null)}let _n=(()=>{class t{constructor(t,e,n,r,o,s,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new u.a,this.errorHandler=mn,this.malformedUriErrorHandler=bn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wn,afterPreactivation:wn},this.urlHandlingStrategy=new yn,this.routeReuseStrategy=new fn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(i.y),this.console=o.get(i.X);const h=o.get(i.A);this.isNgZoneEnabled=h instanceof i.A&&i.A.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new jt(new Ct([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pn(s,a,t=>this.triggerEvent(new ut(t)),t=>this.triggerEvent(new at(t))),this.routerState=te(this.currentUrlTree,this.rootComponentType),this.transitions=new c({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(k.a)(t=>0!==t.id),Object(x.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(S.a)(t=>{let n=!1,r=!1;return Object(s.a)(t).pipe(Object(K.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(S.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(s.a)(t).pipe(Object(S.a)(t=>{const n=this.transitions.getValue();return e.next(new Y(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?T.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,u=this.config,Object(S.a)(t=>function(t,e,n,r,i){return new We(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,u).pipe(Object(x.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(K.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(L.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const u=new on(t,e,n,r,i,o).recognize();return null===u?rn(new nn):Object(s.a)(u)}catch(u){return rn(u)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(x.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(K.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new nt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,u;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:u}=t,a=new Y(n,this.serializeUrl(r),i,o);e.next(a);const c=te(r,this.rootComponentType).snapshot;return Object(s.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},u),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),T.a}),hn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(K.a)(t=>{const e=new rt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(x.a)(t=>Object.assign(Object.assign({},t),{guards:Ye(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(L.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:a}}=n;return 0===a.length&&0===u.length?Object(s.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(o.a)(t).pipe(Object(L.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(s.a)(!0);const u=o.map(o=>{const s=Qe(o,e,i);let u;if(function(t){return t&&xe(t.canDeactivate)}(s))u=Et(s.canDeactivate(t,e,n,r));else{if(!xe(s))throw new Error("Invalid CanDeactivate guard");u=Et(s(t,e,n,r))}return u.pipe(Object(G.a)())});return Object(s.a)(u).pipe(Ce())}(t.component,t.route,n,e,r)),Object(G.a)(t=>!0!==t,!0))}(a,r,i,t).pipe(Object(L.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(o.a)(e).pipe(U(e=>Object(E.a)(function(t,e){return null!==t&&e&&e(new ct(t)),Object(s.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ht(t)),Object(s.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>I(()=>{const i=e.guards.map(i=>{const o=Qe(i,e.node,n);let s;if(function(t){return t&&xe(t.canActivateChild)}(o))s=Et(o.canActivateChild(r,t));else{if(!xe(o))throw new Error("Invalid CanActivateChild guard");s=Et(o(r,t))}return s.pipe(Object(G.a)())});return Object(s.a)(i).pipe(Ce())}));return Object(s.a)(i).pipe(Ce())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(s.a)(!0);const i=r.map(r=>I(()=>{const i=Qe(r,e,n);let o;if(function(t){return t&&xe(t.canActivate)}(i))o=Et(i.canActivate(e,t));else{if(!xe(i))throw new Error("Invalid CanActivate guard");o=Et(i(e,t))}return o.pipe(Object(G.a)())}));return Object(s.a)(i).pipe(Ce())}(t,e.route,n))),Object(G.a)(t=>!0!==t,!0))}(r,u,t,e):Object(s.a)(n)),Object(x.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(K.a)(t=>{if(Se(t.guardsResult)){const e=vt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new it(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(k.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new tt(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),hn(t=>{if(t.guards.canActivateChecks.length)return Object(s.a)(t).pipe(Object(K.a)(t=>{const e=new ot(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(S.a)(t=>{let n=!1;return Object(s.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(L.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(s.a)(t);let u=0;return Object(o.a)(n).pipe(U(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(s.a)({});const u={};return Object(o.a)(i).pipe(Object(L.a)(i=>function(t,e,n,r){const i=Qe(t,e,r);return Et(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(K.a)(t=>{u[i]=t}))),V(1),Object(L.a)(()=>Object.keys(u).length===i.length?Object(s.a)(u):T.a))}(t._resolve,t,e,r).pipe(Object(x.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ne(t,n).resolve),null)))}(t.route,e,r,i)),Object(K.a)(()=>u++),V(1),Object(L.a)(e=>u===n.length?Object(s.a)(t):T.a))})),Object(K.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new tt(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(K.a)(t=>{const e=new st(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),hn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(x.a)(t=>{const e=function(t,e,n){const r=ce(t,e._root,n?n._root:void 0);return new Qt(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(K.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(u=this.rootContexts,a=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(x.a)(t=>(new Ee(a,t.targetRouterState,t.currentRouterState,c).activate(u),t))),Object(K.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new tt(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new W(i))),R(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Se(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new tt(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new et(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return T.a}));var i,u,a,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ke(t),this.config=t.map(De),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return de(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ge(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ot(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ge(n,e,r)}(n);if(o.toRoot())return de(e.root,new Ct([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ve(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ve(t,t===e.root,0)}const r=he(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ve(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?me(s.segmentGroup,s.index,o.commands):ye(s.segmentGroup,s.index,o.commands);return de(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Se(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Se(t))return Tt(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Tt(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.N),i.Ob(Nt),i.Ob(vn),i.Ob(r.g),i.Ob(i.s),i.Ob(i.x),i.Ob(i.i),i.Ob(void 0))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),On=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new u.a,this.subscription=t.events.subscribe(t=>{t instanceof Q&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:En(this.skipLocationChange),replaceUrl:En(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:En(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(_n),i.Gb(ee),i.Gb(r.h))},t.\u0275dir=i.Bb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Rb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Nb("href",e.href,i.ac),i.yb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.wb]}),t})();function En(t){return""===t||!!t}let Tn=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new In(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(vn),i.Gb(i.Q),i.Gb(i.j),i.Pb("name"),i.Gb(i.h))},t.\u0275dir=i.Bb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class In{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ee?this.route:t===vn?this.childContexts:this.parent.get(t,e)}}class xn{}class Sn{preload(t,e){return Object(s.a)(null)}}let jn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new pn(e,n,e=>t.triggerEvent(new ut(e)),e=>t.triggerEvent(new at(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(k.a)(t=>t instanceof Q),U(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(o.a)(n).pipe(Object(X.a)(),Object(x.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(L.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(_n),i.Ob(i.x),i.Ob(i.i),i.Ob(i.s),i.Ob(xn))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),Cn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Y?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Q&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof dt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new dt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(_n),i.Ob(r.m),i.Ob(void 0))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();const An=new i.r("ROUTER_CONFIGURATION"),kn=new i.r("ROUTER_FORROOT_GUARD"),Nn=[r.g,{provide:Nt,useClass:Rt},{provide:_n,useFactory:function(t,e,n,i,o,s,u,a={},c,l){const h=new _n(null,t,e,n,i,o,s,wt(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=Object(r.q)();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Nt,vn,r.g,i.s,i.x,i.i,dn,An,[class{},new i.B],[class{},new i.B]]},vn,{provide:ee,useFactory:function(t){return t.routerState.root},deps:[_n]},{provide:i.x,useClass:i.K},jn,Sn,class{preload(t,e){return e().pipe(R(()=>Object(s.a)(null)))}},{provide:An,useValue:{enableTracing:!1}}];function Rn(){return new i.z("Router",_n)}let Dn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Nn,Mn(e),{provide:kn,useFactory:Un,deps:[[_n,new i.B,new i.J]]},{provide:An,useValue:n||{}},{provide:r.h,useFactory:Ln,deps:[r.l,[new i.p(r.a),new i.B],An]},{provide:Cn,useFactory:Pn,deps:[_n,r.m,An]},{provide:xn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Sn},{provide:i.z,multi:!0,useFactory:Rn},[Vn,{provide:i.d,multi:!0,useFactory:Fn,deps:[Vn]},{provide:qn,useFactory:Hn,deps:[Vn]},{provide:i.b,multi:!0,useExisting:qn}]]}}static forChild(e){return{ngModule:t,providers:[Mn(e)]}}}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)(i.Ob(kn,8),i.Ob(_n,8))}}),t})();function Pn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Cn(t,e,n)}function Ln(t,e,n={}){return n.useHash?new r.e(t,e):new r.k(t,e)}function Un(t){return"guarded"}function Mn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:dn,multi:!0,useValue:t}]}let Vn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new u.a}appInitializer(){return this.injector.get(r.f,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(_n),r=this.injector.get(An);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(s.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(An),n=this.injector.get(jn),r=this.injector.get(Cn),o=this.injector.get(_n),s=this.injector.get(i.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.s))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();function Fn(t){return t.appInitializer.bind(t)}function Hn(t){return t.bootstrapListener.bind(t)}const qn=new i.r("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t=null){return e=>e.lift(new o(t))}class o{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new s(t,this.defaultValue))}}class s extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xt9q:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",function(){return a});var r=n("ofXK"),i=n("tyNb"),o=n("fXoL");const s=[{path:"orders",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Ab({type:t,selectors:[["app-admin-orders"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Lb(0,"p"),o.ec(1,"admin-orders works!"),o.Kb())},styles:[""]}),t})()},{path:"products",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Ab({type:t,selectors:[["app-admin-products"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Lb(0,"p"),o.ec(1,"admin-products works!"),o.Kb())},styles:[""]}),t})()}];i.b.forChild(s);let u=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[i.b.forChild(s)],i.b]}),t})(),a=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[r.c,u]]}),t})()},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new a.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return a},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.d)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(a.join(" "))}c(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,h=u.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===u.type?r[h]:null;if(n.set(h,u),"PUBLIC"===u.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==u.serviceProps&&Object(s.g)(d,u.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,u.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(u)}catch(v){a={error:v}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.14",void 0),t.registerVersion("fire-js","")}(m),e.a=m},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),i=n("fXoL");class o extends r.o{constructor(){super()}supportsDOMEvents(){return!0}}class s extends o{static makeCurrent(){Object(r.s)(new s)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=a||(a=document.querySelector("base"),a)?a.getAttribute("href"):null;return null==e?null:(n=e,u||(u=document.createElement("a")),u.setAttribute("href",n),"/"===u.pathname.charAt(0)?u.pathname:"/"+u.pathname);var n}resetBaseElement(){a=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r.r)(document.cookie,t)}}let u,a=null;const c=new i.r("TRANSITION_ID"),l=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=Object(r.q)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,r.d,i.s],multi:!0}];class h{static init(){Object(i.W)(new h)}addToWindow(t){i.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.nb.getAllAngularRootElements=()=>t.getAllRootElements(),i.nb.frameworkStabilizers||(i.nb.frameworkStabilizers=[]),i.nb.frameworkStabilizers.push(t=>{const e=i.nb.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Object(r.q)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const f=new i.r("EventManagerPlugins");let d=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(f),i.Ob(i.A))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();class p{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Object(r.q)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let g=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(r.q)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(r.d))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();const y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},m=/%COMP%/g;function b(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?b(t,i,n):(i=i.replace(m,t),n.push(i))}return n}function w(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let _=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new O(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new E(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.R.ShadowDom:return new T(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=b(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(d),i.Ob(v),i.Ob(i.c))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();class O{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.G.DashCase|i.G.Important)?t.style.setProperty(e,n,r&i.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,w(n)):this.eventManager.addEventListener(t,e,w(n))}}class E extends O{constructor(t,e,n,r){super(t),this.component=n;const i=b(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(m,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(m,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class T extends O{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=b(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let I=(()=>{class t extends p{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(r.d))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();const x=["alt","control","meta","shift"],S={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},C={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let A=(()=>{class t extends p{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const o=t.parseEventName(n),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r.q)().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(x.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&j.hasOwnProperty(e)&&(e=j[e]))}return S[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),x.forEach(r=>{r!=n&&(0,C[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(r.d))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();const k=[{provide:i.C,useValue:r.p},{provide:i.D,useValue:function(){s.makeCurrent(),h.init()},multi:!0},{provide:r.d,useFactory:function(){return Object(i.tb)(document),document},deps:[]}],N=Object(i.S)(i.V,"browser",k),R=[[],{provide:i.Y,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:f,useClass:I,multi:!0,deps:[r.d,i.A,i.C]},{provide:f,useClass:A,multi:!0,deps:[r.d]},[],{provide:_,useClass:_,deps:[d,v,i.c]},{provide:i.F,useExisting:_},{provide:g,useExisting:v},{provide:v,useClass:v,deps:[r.d]},{provide:i.M,useClass:i.M,deps:[i.A]},{provide:d,useClass:d,deps:[f,i.A]},[]];let D=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:c,useExisting:i.c},l]}}}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)(i.Ob(t,12))},providers:R,imports:[r.c,i.f]}),t})();"undefined"!=typeof window&&window;const P={apiKey:"AIzaSyBrB1h9SUCxREPs6G6oPqY40y5ySB4u_zk",authDomain:"mexshop-3c42f.firebaseapp.com",projectId:"mexshop-3c42f",storageBucket:"mexshop-3c42f.appspot.com",messagingSenderId:"378832029940",appId:"1:378832029940:web:391e448ad1a2239d2d76a1",measurementId:"G-MBQ1P25DFM"};var L=n("spgP"),U=n("D0XW"),M=n("HDdC"),V=n("Cfvw"),F=n("LRne"),H=n("JX91"),q=n("7o/Q");function z(){return t=>t.lift(new B)}class B{call(t,e){return e.subscribe(new G(t))}}class G extends q.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var K=n("lJxs"),$=n("Kqap");class W{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new J(t,this.compare,this.keySelector))}}class J extends q.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var X=n("pLZG"),Z=n("pxpQ"),Y=n("Jgta"),Q=n("zIRd"),tt=n("q/0M"),et=n("qOnz"),nt=function(t,e){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function rt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var it,ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},st=st||{},ut=ot||self;function at(){}function ct(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function lt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ht="closure_uid_"+(1e9*Math.random()>>>0),ft=0;function dt(t,e,n){return t.call.apply(t.bind,arguments)}function pt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function gt(t,e,n){return(gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dt:pt).apply(null,arguments)}function vt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function yt(){return Date.now()}function mt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function bt(){this.j=this.j,this.i=this.i}bt.prototype.j=!1,bt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ht)&&t[ht]||(t[ht]=++ft)}(this)},bt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var wt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},_t=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ot(t){return Array.prototype.concat.apply([],arguments)}function Et(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Tt(t){return/^[\s\xa0]*$/.test(t)}var It,xt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function St(t,e){return-1!=t.indexOf(e)}function jt(t,e){return t<e?-1:t>e?1:0}t:{var Ct=ut.navigator;if(Ct){var At=Ct.userAgent;if(At){It=At;break t}}It=""}function kt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Nt(t){var e={};for(var n in t)e[n]=t[n];return e}var Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Rt.length;o++)n=Rt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pt(t){return Pt[" "](t),t}Pt[" "]=at;var Lt,Ut,Mt=St(It,"Opera"),Vt=St(It,"Trident")||St(It,"MSIE"),Ft=St(It,"Edge"),Ht=Ft||Vt,qt=St(It,"Gecko")&&!(St(It.toLowerCase(),"webkit")&&!St(It,"Edge"))&&!(St(It,"Trident")||St(It,"MSIE"))&&!St(It,"Edge"),zt=St(It.toLowerCase(),"webkit")&&!St(It,"Edge");function Bt(){var t=ut.document;return t?t.documentMode:void 0}t:{var Gt="",Kt=(Ut=It,qt?/rv:([^\);]+)(\)|;)/.exec(Ut):Ft?/Edge\/([\d\.]+)/.exec(Ut):Vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ut):zt?/WebKit\/(\S+)/.exec(Ut):Mt?/(?:Version)[ \/]?(\S+)/.exec(Ut):void 0);if(Kt&&(Gt=Kt?Kt[1]:""),Vt){var $t=Bt();if(null!=$t&&$t>parseFloat(Gt)){Lt=String($t);break t}}Lt=Gt}var Wt={};function Jt(t){return function(t,e){var n=Wt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=xt(String(Lt)).split("."),r=xt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=jt(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||jt(0==s[2].length,0==u[2].length)||jt(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var Xt=ut.document&&Vt&&(Bt()||parseInt(Lt,10))||void 0,Zt=!Vt||9<=Number(Xt),Yt=Vt&&!Jt("9"),Qt=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ut.addEventListener("test",at,e),ut.removeEventListener("test",at,e)}catch(n){}return t}();function te(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ee(t,e){if(te.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(qt){t:{try{Pt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ne[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}te.prototype.b=function(){this.defaultPrevented=!0},mt(ee,te);var ne={2:"touch",3:"pen",4:"mouse"};ee.prototype.b=function(){ee.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Yt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function oe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ie,this.Y=this.Z=!1}function se(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ue(t){this.src=t,this.a={},this.b=0}function ae(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=wt(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(se(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ce(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ue.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ce(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new oe(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var le="closure_lm_"+(1e6*Math.random()|0),he={};function fe(t,e,n,r,i){if(r&&r.once)return pe(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fe(t,e[o],n,r,i);return null}return n=Oe(n),t&&t[re]?t.va(e,n,lt(r)?!!r.capture:!!r,i):de(t,e,n,!1,r,i)}function de(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=lt(i)?!!i.capture:!!i;if(s&&!Zt)return null;var u=we(t);if(u||(t[le]=u=new ue(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=be,e=Zt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ye(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function pe(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)pe(t,e[o],n,r,i);return null}return n=Oe(n),t&&t[re]?t.wa(e,n,lt(r)?!!r.capture:!!r,i):de(t,e,n,!0,r,i)}function ge(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ge(t,e[o],n,r,i);else r=lt(r)?!!r.capture:!!r,n=Oe(n),t&&t[re]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ce(o=t.a[e],n,r,i))&&(se(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=we(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ce(e,n,r,i)),(n=-1<t?e[t]:null)&&ve(n))}function ve(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[re])ae(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ye(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=we(e))?(ae(n,t),0==n.b&&(n.src=null,e[le]=null)):se(t)}}}function ye(t){return t in he?he[t]:he[t]="on"+t}function me(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ve(t),n.call(r,e)}function be(t,e){if(t.Y)return!0;if(!Zt){if(!e)t:{e=["window","event"];for(var n=ut,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return me(t,e=new ee(e,this))}return me(t,new ee(e,this))}function we(t){return(t=t[le])instanceof ue?t:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(t){return"function"==typeof t?t:(t[_e]||(t[_e]=function(e){return t.handleEvent(e)}),t[_e])}function Ee(){bt.call(this),this.c=new ue(this),this.J=this,this.C=null}function Te(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new te(e,t);else if(e instanceof te)e.target=e.target||t;else{var i=e;Dt(e=new te(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ie(s,r,!0,e)&&i}if(i=Ie(s=e.a=t,r,!0,e)&&i,i=Ie(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ie(s=e.a=n[o],r,!1,e)&&i}function Ie(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&ae(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}mt(Ee,bt),Ee.prototype[re]=!0,(it=Ee.prototype).addEventListener=function(t,e,n,r){fe(this,t,e,n,r)},it.removeEventListener=function(t,e,n,r){ge(this,t,e,n,r)},it.G=function(){if(Ee.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)se(n[r]);delete e.a[t],e.b--}}this.C=null},it.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},it.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var xe=ut.JSON.stringify;function Se(){this.b=this.a=null}var je,Ce=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ke},function(t){t.reset()});function Ae(){var t=Pe,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ke(){this.next=this.b=this.a=null}function Ne(t){ut.setTimeout(function(){throw t},0)}function Re(t,e){je||function(){var t=ut.Promise.resolve(void 0);je=function(){t.then(Le)}}(),De||(je(),De=!0),Pe.add(t,e)}Se.prototype.add=function(t,e){var n=Ce.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ke.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ke.prototype.reset=function(){this.next=this.b=this.a=null};var De=!1,Pe=new Se;function Le(){for(var t;t=Ae();){try{t.a.call(t.b)}catch(n){Ne(n)}var e=Ce;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}De=!1}function Ue(t,e){Ee.call(this),this.b=t||1,this.a=e||ut,this.f=gt(this.Za,this),this.g=yt()}function Me(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ve(t,e,n){if("function"==typeof t)n&&(t=gt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=gt(t.handleEvent,t)}return 2147483647<Number(e)?-1:ut.setTimeout(t,e||0)}function Fe(t){t.a=Ve(function(){t.a=null,t.c&&(t.c=!1,Fe(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}mt(Ue,Ee),(it=Ue.prototype).aa=!1,it.M=null,it.Za=function(){if(this.aa){var t=yt()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Te(this,"tick"),this.aa&&(Me(this),this.start()))}},it.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=yt())},it.G=function(){Ue.X.G.call(this),Me(this),delete this.a};var He=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}nt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Fe(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ut.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(bt);function qe(t){bt.call(this),this.b=t,this.a={}}mt(qe,bt);var ze=[];function Be(t,e,n,r){Array.isArray(n)||(n&&(ze[0]=n.toString()),n=ze);for(var i=0;i<n.length;i++){var o=fe(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ge(t){kt(t.a,function(t,e){this.a.hasOwnProperty(e)&&ve(t)},t),t.a={}}function Ke(){this.a=!0}function $e(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return xe(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}qe.prototype.G=function(){qe.X.G.call(this),Ge(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ke.prototype.info=function(){};var We={},Je=null;function Xe(){return Je=Je||new Ee}function Ze(t){te.call(this,We.Fa,t)}function Ye(t){var e=Xe();Te(e,new Ze(e,t))}function Qe(t,e){te.call(this,We.STAT_EVENT,t),this.stat=e}function tn(t){var e=Xe();Te(e,new Qe(e,t))}function en(t){te.call(this,We.Ga,t)}function nn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ut.setTimeout(function(){t()},e)}We.Fa="serverreachability",mt(Ze,te),We.STAT_EVENT="statevent",mt(Qe,te),We.Ga="timingevent",mt(en,te);var rn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},on={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function sn(){}function un(){}sn.prototype.a=null;var an,cn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ln(){te.call(this,"d")}function hn(){te.call(this,"c")}function fn(){}function dn(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new qe(this),this.P=pn,this.R=new Ue(t=Ht?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}mt(ln,te),mt(hn,te),mt(fn,sn),an=new fn;var pn=45e3,gn={},vn={};function yn(t,e,n){t.H=1,t.i=Vn(Rn(e)),t.j=n,t.I=!0,mn(t,null)}function mn(t,e){t.u=yt(),_n(t),t.l=Rn(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Yn(n.b,"t",r),t.D=0,t.a=Kr(t.g,t.g.C?e:null),0<t.O&&(t.F=new He(gt(t.Ca,t,t.a),t.O)),Be(t.J,t.a,"readystatechange",t.Xa),e=t.B?Nt(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ye(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function bn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=wn(t,n);if(i==vn){4==e&&(t.h=4,tn(14),r=!1),$e(t.c,t.f,null,"[Incomplete Response]");break}if(i==gn){t.h=4,tn(15),$e(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}$e(t.c,t.f,i,null),xn(t,i)}4==e&&0==n.length&&(t.h=1,tn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mr(e),e.F=!0,tn(11))):($e(t.c,t.f,n,"[Invalid Chunked Response]"),In(t),Tn(t))}function wn(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?vn:(n=Number(e.substring(n,r)),isNaN(n)?gn:(r+=1)+n>e.length?vn:(e=e.substr(r,n),t.D=r+n,e))}function _n(t){t.T=yt()+t.P,On(t,t.P)}function On(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=nn(gt(t.Va,t),e)}function En(t){t.o&&(ut.clearTimeout(t.o),t.o=null)}function Tn(t){0==t.g.v||t.A||Hr(t.g,t)}function In(t){En(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Me(t.R),Ge(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function xn(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||or(n.b,t)))if(n.I=t.N,!t.C&&or(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Nd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Fr(n),Cr(n)}Ur(n),tn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=nn(gt(n.Sa,n),6e3));if(1>=ir(n.b)&&n.ea){try{n.ea()}catch(Nd){}n.ea=void 0}}else zr(n,11)}else if((t.C||n.a==t)&&Fr(n),!Tt(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(St(l,"spdy")||St(l,"quic")||St(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(sr(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,Mn(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=yt()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Gr(a,a.C?a.ga:null,a.fa),d.C){ur(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(En(p),_n(p)),a.a=d}else Lr(a);0<n.g.length&&Nr(n)}else"stop"!=i[0]&&"close"!=i[0]||zr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?zr(n,7):jr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ye(4)}catch(Nd){}}function Sn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ct(t)||"string"==typeof t)_t(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ct(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ct(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function jn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof jn)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Cn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];An(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)An(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(it=dn.prototype).setTimeout=function(t){this.P=t},it.Xa=function(t){t=t.target;var e=this.F;e&&3==Tr(t)?e.f():this.Ca(t)},it.Ca=function(t){try{if(t==this.a)t:{var e=Tr(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ht&&!this.a.$())){this.A||4!=e||7==n||Ye(8==n||0>=r?3:2),En(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tt(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,tn(12),In(this),Tn(this);break t}$e(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,xn(this,a)}this.I?(bn(this,e,o),Ht&&this.b&&3==e&&(Be(this.J,this.R,"tick",this.Wa),this.R.start())):($e(this.c,this.f,o,null),xn(this,o)),4==e&&In(this),this.b&&!this.A&&(4==e?Hr(this.g,this):(this.b=!1,_n(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,tn(12)):(this.h=0,tn(13)),In(this),Tn(this)}}}catch(c){}},it.Wa=function(){if(this.a){var t=Tr(this.a),e=this.a.$();this.D<e.length&&(En(this),bn(this,t,e),this.b&&4!=t&&_n(this))}},it.cancel=function(){this.A=!0,In(this)},it.Va=function(){this.o=null;var t=yt();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ye(3),tn(17)),In(this),this.h=2,Tn(this)):On(this,this.T-t)},(it=jn.prototype).K=function(){Cn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},it.L=function(){return Cn(this),this.a.concat()},it.get=function(t,e){return An(this.b,t)?this.b[t]:e},it.set=function(t,e){An(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},it.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var kn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Nn){this.a=void 0!==e?e:t.a,Dn(this,t.f),this.j=t.j,Pn(this,t.c),Ln(this,t.h),this.g=t.g,e=t.b;var n=new Wn;n.c=e.c,e.a&&(n.a=new jn(e.a),n.b=e.b),Un(this,n),this.i=t.i}else t&&(n=String(t).match(kn))?(this.a=!!e,Dn(this,n[1]||"",!0),this.j=Fn(n[2]||""),Pn(this,n[3]||"",!0),Ln(this,n[4]),this.g=Fn(n[5]||"",!0),Un(this,n[6]||"",!0),this.i=Fn(n[7]||"")):(this.a=!!e,this.b=new Wn(null,this.a))}function Rn(t){return new Nn(t)}function Dn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e,n){t.c=n?Fn(e,!0):e}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Un(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Jn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Yn(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Hn(e,Kn)),t.b=new Wn(e,t.a))}function Mn(t,e,n){t.b.set(e,n)}function Vn(t){return Mn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^yt()).toString(36)),t}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Hn(e,zn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Hn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hn(n,"/"==n.charAt(0)?Gn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Hn(n,$n)),t.join("")};var zn=/[#\/\?@]/g,Bn=/[#\?:]/g,Gn=/[#\?]/g,Kn=/[#\?@]/g,$n=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jn(t){t.a||(t.a=new jn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xn(t,e){Jn(t),e=Qn(t,e),An(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,An((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Cn(t)))}function Zn(t,e){return Jn(t),e=Qn(t,e),An(t.a.b,e)}function Yn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(Qn(t,e),Et(n)),t.b+=n.length)}function Qn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(it=Wn.prototype).add=function(t,e){Jn(this),this.c=null,t=Qn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},it.forEach=function(t,e){Jn(this),this.a.forEach(function(n,r){_t(n,function(n){t.call(e,n,r,this)},this)},this)},it.L=function(){Jn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},it.K=function(t){Jn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=Ot(e,this.a.get(Qn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ot(e,t[n])}return e},it.set=function(t,e){return Jn(this),this.c=null,Zn(this,t=Qn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},it.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},it.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var tr=function(){return function(t,e){this.b=t,this.a=e}}();function er(t){this.g=t||nr,t=ut.PerformanceNavigationTiming?0<(t=ut.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ut.ia&&ut.ia.ya&&ut.ia.ya()&&ut.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var nr=10;function rr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ir(t){return t.b?1:t.a?t.a.size:0}function or(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function sr(t,e){t.a?t.a.add(e):t.b=e}function ur(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ar(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=rt(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Et(t.c)}function cr(){}function lr(){this.a=new cr}function hr(t,e,n){var r=n||"";try{Sn(t,function(t,n){var i=t;lt(t)&&(i=xe(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(wp){throw e.push(r+"type="+encodeURIComponent("_badmap")),wp}}function fr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}er.prototype.cancel=function(){var t,e;if(this.c=ar(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=rt(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},cr.prototype.stringify=function(t){return ut.JSON.stringify(t,void 0)},cr.prototype.parse=function(t){return ut.JSON.parse(t,void 0)};var dr=ut.JSON.parse;function pr(t){Ee.call(this),this.headers=new jn,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gr,this.D=this.F=!1}mt(pr,Ee);var gr="",vr=/^https?$/i,yr=["POST","PUT"];function mr(t){return"content-type"==t.toLowerCase()}function br(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,wr(t),Or(t)}function wr(t){t.u||(t.u=!0,Te(t,"complete"),Te(t,"error"))}function _r(t){if(t.b&&void 0!==st&&(!t.s[1]||4!=Tr(t)||2!=t.W()))if(t.l&&4==Tr(t))Ve(t.za,0,t);else if(Te(t,"readystatechange"),4==Tr(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(kn)[1]||null;if(!o&&ut.self&&ut.self.location){var s=ut.self.location.protocol;o=s.substr(0,s.length-1)}i=!vr.test(o?o.toLowerCase():"")}e=i}if(e)Te(t,"complete"),Te(t,"success");else{t.h=6;try{var u=2<Tr(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",wr(t)}}finally{Or(t)}}}function Or(t,e){if(t.a){Er(t);var n=t.a,r=t.s[0]?at:null;t.a=null,t.s=null,e||Te(t,"ready");try{n.onreadystatechange=r}catch(wp){}}}function Er(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ut.clearTimeout(t.m),t.m=null)}function Tr(t){return t.a?t.a.readyState:0}function Ir(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return kt(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Mn(t,e,n))}function xr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sr(t){this.pa=0,this.g=[],this.c=new Ke,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=xr("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=xr("baseRetryDelayMs",5e3,t),this.Ra=xr("retryDelaySeedMs",1e4,t),this.Ma=xr("forwardChannelMaxRetries",2,t),this.ma=xr("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new er(t&&t.concurrentRequestLimit),this.ka=new lr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function jr(t){if(Ar(t),3==t.v){var e=t.R++,n=Rn(t.B);Mn(n,"SID",t.J),Mn(n,"RID",e),Mn(n,"TYPE","terminate"),Dr(t,n),(e=new dn(t,t.c,e,void 0)).H=2,e.i=Vn(Rn(n)),n=!1,ut.navigator&&ut.navigator.sendBeacon&&(n=ut.navigator.sendBeacon(e.i.toString(),"")),!n&&ut.Image&&((new Image).src=e.i,n=!0),n||(e.a=Kr(e.g,null),e.a.ba(e.i)),e.u=yt(),_n(e)}Br(t)}function Cr(t){t.a&&(Mr(t),t.a.cancel(),t.a=null)}function Ar(t){Cr(t),t.j&&(ut.clearTimeout(t.j),t.j=null),Fr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ut.clearTimeout(t.h),t.h=null)}function kr(t,e){t.g.push(new tr(t.Oa++,e)),3==t.v&&Nr(t)}function Nr(t){rr(t.b)||t.h||(t.h=!0,Re(t.Ba,t),t.u=0)}function Rr(t,e){var n;n=e?e.f:t.R++;var r=Rn(t.B);Mn(r,"SID",t.J),Mn(r,"RID",n),Mn(r,"AID",t.P),Dr(t,r),t.i&&t.l&&Ir(r,t.i,t.l),n=new dn(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Pr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),sr(t.b,n),yn(n,r,e)}function Dr(t,e){t.f&&Sn({},function(t,n){Mn(e,n,t)})}function Pr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?gt(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{hr(l,s,"req"+c+"_")}catch(ji){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Lr(t){t.a||t.j||(t.T=1,Re(t.Aa,t),t.o=0)}function Ur(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=nn(gt(t.Aa,t),qr(t,t.o)),t.o++,0))}function Mr(t){null!=t.s&&(ut.clearTimeout(t.s),t.s=null)}function Vr(t){t.a=new dn(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Rn(t.la);Mn(e,"RID","rpc"),Mn(e,"SID",t.J),Mn(e,"CI",t.H?"0":"1"),Mn(e,"AID",t.P),Dr(t,e),Mn(e,"TYPE","xmlhttp"),t.i&&t.l&&Ir(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Vn(Rn(e)),n.j=null,n.I=!0,mn(n,t)}function Fr(t){null!=t.m&&(ut.clearTimeout(t.m),t.m=null)}function Hr(t,e){var n=null;if(t.a==e){Fr(t),Mr(t),t.a=null;var r=2}else{if(!or(t.b,e))return;n=e.s,ur(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=yt()-e.u;var i=t.u;Te(r=Xe(),new en(r,n,e,i)),Nr(t)}else Lr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ir(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=nn(gt(t.Ba,t,e),qr(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ur(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:zr(t,5);break;case 4:zr(t,10);break;case 3:zr(t,6);break;default:zr(t,2)}}function qr(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function zr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=gt(t.Ya,t);n||(n=new Nn("//www.google.com/images/cleardot.gif"),ut.location&&"http"==ut.location.protocol||Dn(n,"https"),Vn(n)),function(t,e){var n=new Ke;if(ut.Image){var r=new Image;r.onload=vt(fr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vt(fr,n,r,"TestLoadImage: error",!1,e),r.onabort=vt(fr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vt(fr,n,r,"TestLoadImage: timeout",!1,e),ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else tn(2);t.v=0,t.f&&t.f.ra(e),Br(t),Ar(t)}function Br(t){t.v=0,t.I=-1,t.f&&(0==ar(t.b).length&&0==t.g.length||(t.b.c.length=0,Et(t.g),t.g.length=0),t.f.qa())}function Gr(t,e,n){var r=function(t){return t instanceof Nn?Rn(t):new Nn(t,void 0)}(n);if(""!=r.c)e&&Pn(r,e+"."+r.c),Ln(r,r.h);else{var i=ut.location;r=function(t,e,n,r){var i=new Nn(null,void 0);return t&&Dn(i,t),e&&Pn(i,e),n&&Ln(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&kt(t.V,function(t,e){Mn(r,e,t)}),n=t.na,(e=t.A)&&n&&Mn(r,e,n),Mn(r,"VER",t.ha),Dr(t,r),r}function Kr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pr(t.Na)).F=t.C,e}function $r(){}function Wr(){if(Vt&&!(10<=Number(Xt)))throw Error("Environmental error: no available transport.")}function Jr(t,e){Ee.call(this),this.a=new Sr(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Tt(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tt(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Yr(this)}function Xr(t){ln.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Zr(){hn.call(this),this.status=1}function Yr(t){this.a=t}(it=pr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:an),this.a.onreadystatechange=gt(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void br(this,o)}t=n||"";var i=new jn(this.headers);r&&Sn(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=mr,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ut.FormData&&t instanceof ut.FormData,!(0<=wt(yr,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Er(this),0<this.o&&((this.D=function(t){return Vt&&Jt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=gt(this.xa,this)):this.m=Ve(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){br(this,o)}},it.xa=function(){void 0!==st&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Te(this,"timeout"),this.abort(8))},it.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Te(this,"complete"),Te(this,"abort"),Or(this))},it.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Or(this,!0)),pr.X.G.call(this)},it.za=function(){this.j||(this.A||this.l||this.g?_r(this):this.Ua())},it.Ua=function(){_r(this)},it.W=function(){try{return 2<Tr(this)?this.a.status:-1}catch(Ut){return-1}},it.$=function(){try{return this.a?this.a.responseText:""}catch(Ut){return""}},it.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dr(e)}},it.ua=function(){return this.h},it.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(it=Sr.prototype).ha=8,it.v=1,it.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new dn(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Dt(r=Nt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pr(this,n,e),Mn(i=Rn(this.B),"RID",t),Mn(i,"CVER",22),this.A&&Mn(i,"X-HTTP-Session-Id",this.A),Dr(this,i),this.i&&r&&Ir(i,this.i,r),sr(this.b,n),this.Ia&&Mn(i,"TYPE","init"),this.da?(Mn(i,"$req",e),Mn(i,"SID","null"),n.U=!0,yn(n,i,null)):yn(n,i,e),this.v=2}}else 3==this.v&&(t?Rr(this,t):0==this.g.length||rr(this.b)||Rr(this))},it.Aa=function(){if(this.j=null,Vr(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=nn(gt(this.Ta,this),t)}},it.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,tn(10),Cr(this),Vr(this))},it.Sa=function(){null!=this.m&&(this.m=null,Cr(this),Ur(this),tn(19))},it.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),tn(2)):(this.c.info("Failed to ping google.com"),tn(1))},(it=$r.prototype).ta=function(){},it.sa=function(){},it.ra=function(){},it.qa=function(){},it.Ja=function(){},Wr.prototype.a=function(t,e){return new Jr(t,e)},mt(Jr,Ee),Jr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;tn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Gr(t,null,t.fa),Nr(t)},Jr.prototype.close=function(){jr(this.a)},Jr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,kr(this.a,e)}else this.l?((e={}).__data__=xe(t),kr(this.a,e)):kr(this.a,t)},Jr.prototype.G=function(){this.a.f=null,delete this.f,jr(this.a),delete this.a,Jr.X.G.call(this)},mt(Xr,ln),mt(Zr,hn),mt(Yr,$r),Yr.prototype.ta=function(){Te(this.a,"a")},Yr.prototype.sa=function(t){Te(this.a,new Xr(t))},Yr.prototype.ra=function(t){Te(this.a,new Zr(t))},Yr.prototype.qa=function(){Te(this.a,"b")},Wr.prototype.createWebChannel=Wr.prototype.a,Jr.prototype.send=Jr.prototype.h,Jr.prototype.open=Jr.prototype.g,Jr.prototype.close=Jr.prototype.close,rn.NO_ERROR=0,rn.TIMEOUT=8,rn.HTTP_ERROR=6,on.COMPLETE="complete",un.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.va,pr.prototype.listenOnce=pr.prototype.wa,pr.prototype.getLastError=pr.prototype.Qa,pr.prototype.getLastErrorCode=pr.prototype.ua,pr.prototype.getStatus=pr.prototype.W,pr.prototype.getResponseJson=pr.prototype.Pa,pr.prototype.getResponseText=pr.prototype.$,pr.prototype.send=pr.prototype.ba;var Qr=rn,ti=on,ei=We,ni=un,ri=pr,ii=n("30Go"),oi=new tt.b("@firebase/firestore");function si(){return oi.logLevel}function ui(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(oi.logLevel<=tt.a.DEBUG){var r=e.map(li);oi.debug.apply(oi,Object(ii.g)(["Firestore (8.2.5): "+t],r))}}function ai(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(oi.logLevel<=tt.a.ERROR){var r=e.map(li);oi.error.apply(oi,Object(ii.g)(["Firestore (8.2.5): "+t],r))}}function ci(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(oi.logLevel<=tt.a.WARN){var r=e.map(li);oi.warn.apply(oi,Object(ii.g)(["Firestore (8.2.5): "+t],r))}}function li(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(wp){return t}}function hi(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.5) INTERNAL ASSERTION FAILED: "+t;throw ai(e),new Error(e)}function fi(t,e){t||hi()}function di(t,e){return t}function pi(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var gi=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=pi(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function vi(t,e){return t<e?-1:t>e?1:0}function yi(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function mi(t){return t+"\0"}var bi=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return vi(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();bi.h=new bi("");var wi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_i=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ii.c)(e,t),e}(Error),Oi=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(bi.fromBase64String(e))}catch(e){throw new _i(wi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(bi.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Ei=function(t){this._=t};function Ti(){if("undefined"==typeof Uint8Array)throw new _i(wi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ii(){if("undefined"==typeof atob)throw new _i(wi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.fromBase64String=function(t){return Ii(),new e(Oi.fromBase64String(t))},e.fromUint8Array=function(t){return Ti(),new e(Oi.fromUint8Array(t))},e.prototype.toBase64=function(){return Ii(),this._.toBase64()},e.prototype.toUint8Array=function(){return Ti(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ei),Si=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},ji=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ci=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ci.UNAUTHENTICATED=new Ci(null),Ci.P=new Ci("google-credentials-uid"),Ci.g=new Ci("first-party-uid");var Ai=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},ki=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Ci.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Ni=function(){function t(t){var e=this;this.C=null,this.currentUser=Ci.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(ui("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(fi("string"==typeof n.accessToken),new Ai(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return fi(null===t||"string"==typeof t),new Ci(t)},t}(),Ri=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Ci.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Di=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Ri(this.k,this.M))},t.prototype.S=function(t){t(Ci.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Pi=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Pi.U=-1;var Li=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _i(wi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _i(wi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _i(wi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _i(wi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?vi(this.nanoseconds,t.nanoseconds):vi(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ui=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Li(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Mi=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&hi(),void 0===n?n=t.length-e:n>t.length-e&&hi(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new _i(wi.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Mi),Fi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Fi.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new _i(wi.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new _i(wi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new _i(wi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new _i(wi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Mi),qi=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Vi.ct(e))},t.dt=function(e){return new t(Vi.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Vi.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Vi.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Vi(e.slice()))},t}();function zi(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gi(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ki=function(){function t(t){this.fields=t,t.sort(Hi.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return yi(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),$i=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(fi(!!t),"string"==typeof t){var e=0,n=$i.exec(t);if(fi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ji(t.seconds),nanos:Ji(t.nanos)}}function Ji(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Xi(t){return"string"==typeof t?bi.fromBase64String(t):bi.fromUint8Array(t)}function Zi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yi(t){var e=t.mapValue.fields.__previous_value__;return Zi(e)?Yi(e):e}function Qi(t){var e=Wi(t.mapValue.fields.__local_write_time__.timestampValue);return new Li(e.seconds,e.nanos)}function to(t){return null==t}function eo(t){return 0===t&&1/t==-1/0}function no(t){return"number"==typeof t&&Number.isInteger(t)&&!eo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zi(t)?4:10:hi()}function io(t,e){var n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qi(t).isEqual(Qi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Wi(t.timestampValue),r=Wi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Xi(t.bytesValue).isEqual(Xi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ji(t.geoPointValue.latitude)===Ji(e.geoPointValue.latitude)&&Ji(t.geoPointValue.longitude)===Ji(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ji(t.integerValue)===Ji(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ji(t.doubleValue),r=Ji(e.doubleValue);return n===r?eo(n)===eo(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return yi(t.arrayValue.values||[],e.arrayValue.values||[],io);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(zi(n)!==zi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!io(n[i],r[i])))return!1;return!0}(t,e);default:return hi()}}function oo(t,e){return void 0!==(t.values||[]).find(function(t){return io(t,e)})}function so(t,e){var n=ro(t),r=ro(e);if(n!==r)return vi(n,r);switch(n){case 0:return 0;case 1:return vi(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ji(t.integerValue||t.doubleValue),r=Ji(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return uo(t.timestampValue,e.timestampValue);case 4:return uo(Qi(t),Qi(e));case 5:return vi(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Xi(t),r=Xi(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=vi(n[i],r[i]);if(0!==o)return o}return vi(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=vi(Ji(t.latitude),Ji(e.latitude));return 0!==n?n:vi(Ji(t.longitude),Ji(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=so(n[i],r[i]);if(o)return o}return vi(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=vi(r[s],o[s]);if(0!==u)return u;var a=so(n[r[s]],i[o[s]]);if(0!==a)return a}return vi(r.length,o.length)}(t.mapValue,e.mapValue);default:throw hi()}}function uo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return vi(t,e);var n=Wi(t),r=Wi(e),i=vi(n.seconds,r.seconds);return 0!==i?i:vi(n.nanos,r.nanos)}function ao(t){return co(t)}function co(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Wi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xi(t.bytesValue).toBase64():"referenceValue"in t?qi.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=co(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+co(t.fields[o])}return e+"}"}(t.mapValue):hi();var e}function lo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function ho(t){return!!t&&"integerValue"in t}function fo(t){return!!t&&"arrayValue"in t}function po(t){return!!t&&"nullValue"in t}function go(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vo(t){return!!t&&"mapValue"in t}var yo=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!vo(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return io(this.proto,t.proto)},t}(),mo=function(){function t(t){void 0===t&&(t=yo.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ro(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Hi.at(),this.Rt);return null!=t?new yo(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=vo(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function bo(t){var e=[];return Bi(t.fields||{},function(t,n){var r=new Hi([t]);if(vo(n)){var i=bo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Ki(e)}var wo=function(t,e){this.key=t,this.version=e},_o=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(ii.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(wo),Oo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(ii.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(wo),Eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(wo),To=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Io(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new To(t,e,n,r,i,o,s)}function xo(t){var e=di(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+ao(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),to(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Vo(e.startAt)),e.endAt&&(n+="|ub:",n+=Vo(e.endAt)),e.St=n}return e.St}function So(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ho(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!io(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zo(t.startAt,e.startAt)&&zo(t.endAt,e.endAt)}function jo(t){return qi.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Co=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ii.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Ao(t,n,r):"array-contains"===n?new Do(t,r):"in"===n?new Po(t,r):"not-in"===n?new Lo(t,r):"array-contains-any"===n?new Uo(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new ko(t,n):new No(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(so(e,this.value)):null!==e&&ro(this.value)===ro(e)&&this.Ct(so(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return hi()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ao=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=qi.dt(r.referenceValue),i}return Object(ii.c)(e,t),e.prototype.matches=function(t){var e=qi.J(t.key,this.key);return this.Ct(e)},e}(Co),ko=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ro(0,n),r}return Object(ii.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Co),No=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ro(0,n),r}return Object(ii.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Co);function Ro(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return qi.dt(t.referenceValue)})}var Do=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ii.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return fo(e)&&oo(e.arrayValue,this.value)},e}(Co),Po=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ii.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&oo(this.value.arrayValue,e)},e}(Co),Lo=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ii.c)(e,t),e.prototype.matches=function(t){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!oo(this.value.arrayValue,e)},e}(Co),Uo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ii.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!fo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return oo(e.value.arrayValue,t)})},e}(Co),Mo=function(t,e){this.position=t,this.before=e};function Vo(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ao(t)}).join(",")}var Fo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ho(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function qo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?qi.J(qi.dt(s.referenceValue),n.key):so(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function zo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!io(t.position[n],e.position[n]))return!1;return!0}var Bo=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Ft=null,this.Ot=null};function Go(t,e,n,r,i,o,s,u){return new Bo(t,e,n,r,i,o,s,u)}function Ko(t){return new Bo(t)}function $o(t){return!to(t.limit)&&"F"===t.limitType}function Wo(t){return!to(t.limit)&&"L"===t.limitType}function Jo(t){return t.Nt.length>0?t.Nt[0].field:null}function Xo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Zo(t){return null!==t.collectionGroup}function Yo(t){var e=di(t);if(null===e.Ft){e.Ft=[];var n=Xo(e),r=Jo(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new Fo(n)),e.Ft.push(new Fo(Hi.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var u=s[o];e.Ft.push(u),u.field.ht()&&(i=!0)}if(!i){var a=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new Fo(Hi.lt(),a))}}}return e.Ft}function Qo(t){var e=di(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Io(e.path,e.collectionGroup,Yo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Yo(e);r<i.length;r++){var o=i[r];n.push(new Fo(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Mo(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Mo(e.startAt.position,!e.startAt.before):null;e.Ot=Io(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ot}function ts(t,e,n){return new Bo(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function es(t,e){return So(Qo(t),Qo(e))&&t.limitType===e.limitType}function ns(t){return xo(Qo(t))+"|lt:"+t.limitType}function rs(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+ao(e.value);var e}).join(", ")+"]"),to(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Vo(t.startAt)),t.endAt&&(e+=", endAt: "+Vo(t.endAt)),"Target("+e+")"}(Qo(t))+"; limitType="+t.limitType+")"}function is(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):qi.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!qo(t.startAt,Yo(t),e)||t.endAt&&qo(t.endAt,Yo(t),e))}(t,e)}function os(t){return function(e,n){for(var r=!1,i=0,o=Yo(t);i<o.length;i++){var s=o[i],u=ss(s,e,n);if(0!==u)return u;r=r||s.field.ht()}return 0}}function ss(t,e,n){var r=t.field.ht()?qi.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?so(r,i):hi()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return hi()}}var us=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Ui.min()),void 0===o&&(o=Ui.min()),void 0===s&&(s=bi.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function as(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eo(e)?"-0":e}}function cs(t){return{integerValue:""+t}}function ls(t,e){return no(e)?cs(e):as(t,e)}var hs=function(){this.Ut=void 0};function fs(t,e,n){return t instanceof gs?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof vs?ys(t,e):t instanceof ms?bs(t,e):function(t,e){var n=ps(t,e),r=_s(n)+_s(t.Qt);return ho(n)&&ho(t.Qt)?cs(r):as(t.Kt,r)}(t,e)}function ds(t,e,n){return t instanceof vs?ys(t,e):t instanceof ms?bs(t,e):n}function ps(t,e){return t instanceof ws?ho(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e}(hs),vs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ii.c)(e,t),e}(hs);function ys(t,e){for(var n=Os(e),r=function(t){n.some(function(e){return io(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ms=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ii.c)(e,t),e}(hs);function bs(t,e){for(var n=Os(e),r=function(t){n=n.filter(function(e){return!io(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ws=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(ii.c)(e,t),e}(hs);function _s(t){return Ji(t.integerValue||t.doubleValue)}function Os(t){return fo(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Es=function(t,e){this.field=t,this.transform=e},Ts=function(t,e){this.version=t,this.transformResults=e},Is=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function xs(t,e){return void 0!==t.updateTime?e instanceof _o&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof _o}var Ss=function(){};function js(t,e,n){return t instanceof Rs?function(t,e,n){var r=t.value;if(n.transformResults){var i=Ls(t.fieldTransforms,e,n.transformResults);r=Ms(t.fieldTransforms,r,i)}return new _o(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ds?function(t,e,n){if(!xs(t.Gt,e))return new Eo(t.key,n.version);var r=Ps(t,e,n.transformResults?Ls(t.fieldTransforms,e,n.transformResults):[]);return new _o(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Oo(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Cs(t,e,n,r){return t instanceof Rs?function(t,e,n,r){if(!xs(t.Gt,e))return e;var i=t.value,o=Us(t.fieldTransforms,n,e);i=Ms(t.fieldTransforms,i,o);var s=Ns(e);return new _o(t.key,s,i,{bt:!0})}(t,e,r):t instanceof Ds?function(t,e,n,r){if(!xs(t.Gt,e))return e;var i=Ns(e),o=Ps(t,e,Us(t.fieldTransforms,n,e));return new _o(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return xs(t.Gt,e)?new Oo(t.key,Ui.min()):e}(t,e)}function As(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof _o?e.field(o.field):void 0,u=ps(o.transform,s||null);null!=u&&(n=null==n?(new mo).set(o.field,u):n.set(o.field,u))}return n?n.yt():null}(t.fieldTransforms,e)}function ks(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&yi(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof vs&&e instanceof vs||t instanceof ms&&e instanceof ms?yi(t.elements,e.elements,io):t instanceof ws&&e instanceof ws?io(t.Qt,e.Qt):t instanceof gs&&e instanceof gs}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Ns(t){return t instanceof _o?t.version:Ui.min()}var Rs=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(ii.c)(e,t),e}(Ss),Ds=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(ii.c)(e,t),e}(Ss);function Ps(t,e,n){var r;return r=function(t,e){var n=new mo(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof _o?e.data():yo.empty()),Ms(t.fieldTransforms,r,n)}function Ls(t,e,n){var r=[];fi(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof _o&&(u=e.field(o.field)),r.push(ds(s,u,n[i]))}return r}function Us(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof _o&&(c=n.field(u.field)),i.push(fs(a,c,e))}return i}function Ms(t,e,n){for(var r=new mo(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Vs,Fs,Hs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(ii.c)(e,t),e}(Ss),qs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(ii.c)(e,t),e}(Ss),zs=function(t){this.count=t};function Bs(t){switch(t){case wi.OK:return hi();case wi.CANCELLED:case wi.UNKNOWN:case wi.DEADLINE_EXCEEDED:case wi.RESOURCE_EXHAUSTED:case wi.INTERNAL:case wi.UNAVAILABLE:case wi.UNAUTHENTICATED:return!1;case wi.INVALID_ARGUMENT:case wi.NOT_FOUND:case wi.ALREADY_EXISTS:case wi.PERMISSION_DENIED:case wi.FAILED_PRECONDITION:case wi.ABORTED:case wi.OUT_OF_RANGE:case wi.UNIMPLEMENTED:case wi.DATA_LOSS:return!0;default:return hi()}}function Gs(t){if(void 0===t)return ai("GRPC error has no .code"),wi.UNKNOWN;switch(t){case Vs.OK:return wi.OK;case Vs.CANCELLED:return wi.CANCELLED;case Vs.UNKNOWN:return wi.UNKNOWN;case Vs.DEADLINE_EXCEEDED:return wi.DEADLINE_EXCEEDED;case Vs.RESOURCE_EXHAUSTED:return wi.RESOURCE_EXHAUSTED;case Vs.INTERNAL:return wi.INTERNAL;case Vs.UNAVAILABLE:return wi.UNAVAILABLE;case Vs.UNAUTHENTICATED:return wi.UNAUTHENTICATED;case Vs.INVALID_ARGUMENT:return wi.INVALID_ARGUMENT;case Vs.NOT_FOUND:return wi.NOT_FOUND;case Vs.ALREADY_EXISTS:return wi.ALREADY_EXISTS;case Vs.PERMISSION_DENIED:return wi.PERMISSION_DENIED;case Vs.FAILED_PRECONDITION:return wi.FAILED_PRECONDITION;case Vs.ABORTED:return wi.ABORTED;case Vs.OUT_OF_RANGE:return wi.OUT_OF_RANGE;case Vs.UNIMPLEMENTED:return wi.UNIMPLEMENTED;case Vs.DATA_LOSS:return wi.DATA_LOSS;default:return hi()}}(Fs=Vs||(Vs={}))[Fs.OK=0]="OK",Fs[Fs.CANCELLED=1]="CANCELLED",Fs[Fs.UNKNOWN=2]="UNKNOWN",Fs[Fs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fs[Fs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fs[Fs.NOT_FOUND=5]="NOT_FOUND",Fs[Fs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fs[Fs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fs[Fs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fs[Fs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fs[Fs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fs[Fs.ABORTED=10]="ABORTED",Fs[Fs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fs[Fs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fs[Fs.INTERNAL=13]="INTERNAL",Fs[Fs.UNAVAILABLE=14]="UNAVAILABLE",Fs[Fs.DATA_LOSS=15]="DATA_LOSS";var Ks=function(){function t(t,e){this.J=t,this.root=e||Ws.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Ws.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Ws.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new $s(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new $s(this.root,t,this.J,!1)},t.prototype.se=function(){return new $s(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new $s(this.root,t,this.J,!0)},t}(),$s=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Ws=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw hi();if(this.right._e())throw hi();var t=this.left.me();if(t!==this.right.me())throw hi();return t+(this._e()?0:1)},t}();Ws.EMPTY=null,Ws.RED=!0,Ws.Jt=!1,Ws.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw hi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw hi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw hi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw hi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw hi()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Ws(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Js=function(){function t(t){this.J=t,this.data=new Ks(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Xs(this.data.ee())},t.prototype.ne=function(t){return new Xs(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Xs=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Zs=new Ks(qi.J);function Ys(){return Zs}function Qs(){return Ys()}var tu=new Ks(qi.J);function eu(){return tu}var nu=new Ks(qi.J);function ru(){return nu}var iu=new Js(qi.J);function ou(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=iu,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var su=new Js(vi);function uu(){return su}var au=function(){function t(t){this.J=t?function(e,n){return t(e,n)||qi.J(e.key,n.key)}:function(t,e){return qi.J(t.key,e.key)},this.Ve=eu(),this.pe=new Ks(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),cu=function(){function t(){this.ve=new Ks(qi.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):hi():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),lu=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=u}return t.Fe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,au.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&es(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),hu=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,fu.Be(e,n)),new t(Ui.min(),r,uu(),Ys(),ou())},t}(),fu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(bi.h,n,ou(),ou(),ou())},t}(),du=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},pu=function(t,e){this.targetId=t,this.Ge=e},gu=function(t,e,n,r){void 0===n&&(n=bi.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},vu=function(){function t(){this.ze=0,this.He=bu(),this.Je=bi.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=ou(),e=ou(),n=ou();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:hi()}}),new fu(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=bu()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),yu=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Ys(),this.fn=mu(),this.dn=new Js(vi)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof _o?this.En(r,t.je):t.je instanceof Oo&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:hi()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(jo(i))if(0===n){var o=new qi(i.path);this.Tn(e,o,new Oo(o,Ui.min()))}else fi(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&jo(o.target)){var s=new qi(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Oo(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=ou();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new hu(t,n,this.dn,this._n,r);return this._n=Ys(),this.fn=mu(),this.dn=new Js(vi),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new vu,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Js(vi),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||ui("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new vu),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function mu(){return new Ks(qi.J)}function bu(){return new Ks(qi.J)}var wu={asc:"ASCENDING",desc:"DESCENDING"},_u={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ou=function(t,e){this.T=t,this.qt=e};function Eu(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tu(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Iu(t,e){return Eu(t,e.G())}function xu(t){return fi(!!t),Ui.W(function(t){var e=Wi(t);return new Li(e.seconds,e.nanos)}(t))}function Su(t,e){return function(t){return new Vi(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function ju(t){var e=Vi.ct(t);return fi(Yu(e)),e}function Cu(t,e){return Su(t.T,e.path)}function Au(t,e){var n=ju(e);if(n.get(1)!==t.T.projectId)throw new _i(wi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new _i(wi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new qi(Du(n))}function ku(t,e){return Su(t.T,e)}function Nu(t){var e=ju(t);return 4===e.length?Vi.at():Du(e)}function Ru(t){return new Vi(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Du(t){return fi(t.length>4&&"documents"===t.get(4)),t.X(5)}function Pu(t,e,n){return{name:Cu(t,e),fields:n.proto.mapValue.fields}}function Lu(t,e,n){var r=Au(t,e.name),i=xu(e.updateTime),o=new yo({mapValue:{fields:e.fields}});return new _o(r,i,o,{hasCommittedMutations:!!n})}function Uu(t,e){var n;if(e instanceof Rs)n={update:Pu(t,e.key,e.value)};else if(e instanceof Hs)n={delete:Cu(t,e.key)};else if(e instanceof Ds)n={update:Pu(t,e.key,e.data),updateMask:Zu(e.zt)};else{if(!(e instanceof qs))return hi();n={verify:Cu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof gs)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof vs)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof ms)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof ws)return{fieldPath:e.field.ot(),increment:n.Qt};throw hi()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Iu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:hi()}(t,e.Gt)),n}function Mu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Is.updateTime(xu(t.updateTime)):void 0!==t.exists?Is.exists(t.exists):Is.Wt()}(e.currentDocument):Is.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(fi("REQUEST_TIME"===e.setToServerValue),n=new gs):"appendMissingElements"in e?n=new vs(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ms(e.removeAllFromArray.values||[]):"increment"in e?n=new ws(t,e.increment):hi();var r=Hi._t(e.fieldPath);return new Es(r,n)}(t,e)}):[];if(e.update){var i=Au(t,e.update.name),o=new yo({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Ki((t.fieldPaths||[]).map(function(t){return Hi._t(t)}))}(e.updateMask);return new Ds(i,o,s,n,r)}return new Rs(i,o,n,r)}if(e.delete){var u=Au(t,e.delete);return new Hs(u,n)}if(e.verify){var a=Au(t,e.verify);return new qs(a,n)}return hi()}function Vu(t,e){return{documents:[ku(t,e.path)]}}function Fu(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ku(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ku(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(go(t.value))return{unaryFilter:{field:$u(t.field),op:"IS_NAN"}};if(po(t.value))return{unaryFilter:{field:$u(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(go(t.value))return{unaryFilter:{field:$u(t.field),op:"IS_NOT_NAN"}};if(po(t.value))return{unaryFilter:{field:$u(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$u(t.field),op:Ku(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:$u(t.field),direction:Gu(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||to(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=zu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=zu(e.endAt)),n}function Hu(t){var e=Nu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=qu(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new Fo(Wu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return to(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Bu(n.startAt));var l=null;return n.endAt&&(l=Bu(n.endAt)),Go(e,i,u,s,a,"F",c,l)}function qu(t){return t?void 0!==t.unaryFilter?[Xu(t)]:void 0!==t.fieldFilter?[Ju(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return qu(t)}).reduce(function(t,e){return t.concat(e)}):hi():[]}function zu(t){return{before:t.before,values:t.position}}function Bu(t){return new Mo(t.values||[],!!t.before)}function Gu(t){return wu[t]}function Ku(t){return _u[t]}function $u(t){return{fieldPath:t.ot()}}function Wu(t){return Hi._t(t.fieldPath)}function Ju(t){return Co.create(Wu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return hi()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Wu(t.unaryFilter.field);return Co.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Wu(t.unaryFilter.field);return Co.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wu(t.unaryFilter.field);return Co.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wu(t.unaryFilter.field);return Co.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return hi()}}function Zu(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function Yu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Qu=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},ta=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&hi(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),ea=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Qu,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new ia(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=ca(e.target.error);n.qn.reject(new ia(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ia(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(ui("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new sa(e)},t}(),na=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(et.h)())&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ui("SimpleDb","Removing database:",t),ua(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(et.h)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(ii.b)(this,void 0,void 0,function(){var e,n=this;return Object(ii.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ui("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ia(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new _i(wi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ia(t,n))},i.onupgradeneeded=function(t){ui("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ui("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ii.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(ii.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(ii.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Jn(t)];case 2:return u.db=h.sent(),e=ea.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),ta.reject(t)}).Mn(),a={},s.catch(function(){}),[4,e.Un];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return ui("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ra=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return ua(this.ts.delete())},t}(),ia=function(t){function e(e,n){var r=this;return(r=t.call(this,wi.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ii.c)(e,t),e}(_i);function oa(t){return"IndexedDbTransactionError"===t.name}var sa=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ui("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ui("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ua(n)},t.prototype.add=function(t){return ui("SimpleDb","ADD",this.store.name,t,t),ua(this.store.add(t))},t.prototype.get=function(t){var e=this;return ua(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ui("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ui("SimpleDb","DELETE",this.store.name,t),ua(this.store.delete(t))},t.prototype.count=function(){return ui("SimpleDb","COUNT",this.store.name),ua(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){ui("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new ta(function(n,r){e.onerror=function(t){var e=ca(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new ta(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ra(i),s=e(i.primaryKey,i.value,o);if(s instanceof ta){var u=s.catch(function(t){return o.done(),ta.reject(t)});n.push(u)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return ta.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ua(t){return new ta(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ca(t.target.error);n(e)}})}var aa=!1;function ca(t){var e=na.Kn(Object(et.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new _i("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return aa||(aa=!0,setTimeout(function(){throw r},0)),r}}return t}var la=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Qu,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new _i(wi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function ha(t,e){if(ai("AsyncQueue",e+": "+t),oa(t))return new _i(wi.UNAVAILABLE,e+": "+t);throw t}var fa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",da=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function pa(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=va(e)),e=ga(t.get(n),e);return va(e)}function ga(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function va(t){return t+"\x01\x01"}function ya(t){var e=t.length;if(fi(e>=2),2===e)return fi("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Vi.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&hi(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:hi()}o=s+2}return new Vi(r)}var ma=function(t,e){this.seconds=t,this.nanoseconds=e},ba=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ba.store="owner",ba.key="owner";var wa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};wa.store="mutationQueues",wa.keyPath="userId";var _a=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};_a.store="mutations",_a.keyPath="batchId",_a.userMutationsIndex="userMutationsIndex",_a.userMutationsKeyPath=["userId","batchId"];var Oa=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,pa(e)]},t.key=function(t,e,n){return[t,pa(e),n]},t}();Oa.store="documentMutations",Oa.PLACEHOLDER=new Oa;var Ea=function(t,e){this.path=t,this.readTime=e},Ta=function(t,e){this.path=t,this.version=e},Ia=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ia.store="remoteDocuments",Ia.readTimeIndex="readTimeIndex",Ia.readTimeIndexPath="readTime",Ia.collectionReadTimeIndex="collectionReadTimeIndex",Ia.collectionReadTimeIndexPath=["parentPath","readTime"];var xa=function(t){this.byteSize=t};xa.store="remoteDocumentGlobal",xa.key="remoteDocumentGlobalKey";var Sa=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Sa.store="targets",Sa.keyPath="targetId",Sa.queryTargetsIndexName="queryTargetsIndex",Sa.queryTargetsKeyPath=["canonicalId","targetId"];var ja=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ja.store="targetDocuments",ja.keyPath=["targetId","path"],ja.documentTargetsIndex="documentTargetsIndex",ja.documentTargetsKeyPath=["path","targetId"];var Ca=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ca.key="targetGlobalKey",Ca.store="targetGlobal";var Aa=function(t,e){this.collectionId=t,this.parent=e};Aa.store="collectionParents",Aa.keyPath=["collectionId","parent"];var ka=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ka.store="clientMetadata",ka.keyPath="clientId";var Na=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Na.store="bundles",Na.keyPath="bundleId";var Ra=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ra.store="namedQueries",Ra.keyPath="name";var Da=Object(ii.g)(Object(ii.g)(Object(ii.g)(Object(ii.g)([wa.store,_a.store,Oa.store,Ia.store,Sa.store,ba.store,Ca.store,ja.store],[ka.store]),[xa.store]),[Aa.store]),[Na.store,Ra.store]),Pa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(ii.c)(e,t),e}(da);function La(t,e){var n=di(t);return na.Hn(n.bs,e)}var Ua=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=js(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Cs(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Cs(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},ou())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&yi(this.mutations,t.mutations,function(t,e){return ks(t,e)})&&yi(this.baseMutations,t.baseMutations,function(t,e){return ks(t,e)})},t}(),Ma=function(){function t(t,e,n,r){this.batch=t,this.Fs=e,this.Cs=n,this.Os=r}return t.from=function(e,n,r){fi(e.mutations.length===r.length);for(var i=ru(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Va=function(t){this.ks=t};function Fa(t,e){if(e.document)return Lu(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=qi.Tt(e.noDocument.path),r=Ga(e.noDocument.readTime);return new Oo(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=qi.Tt(e.unknownDocument.path);return r=Ga(e.unknownDocument.version),new Eo(i,r)}return hi()}function Ha(t,e,n){var r=qa(n),i=e.key.path.Z().rt();if(e instanceof _o){var o=function(t,e){return{name:Cu(t,e.key),fields:e.vt().mapValue.fields,updateTime:Eu(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new Ia(null,null,o,s,r,i)}if(e instanceof Oo){var u=e.key.path.rt(),a=Ba(e.version);return s=e.hasCommittedMutations,new Ia(null,new Ea(u,a),null,s,r,i)}if(e instanceof Eo){var c=e.key.path.rt(),l=Ba(e.version);return new Ia(new Ta(c,l),null,null,!0,r,i)}return hi()}function qa(t){var e=t.G();return[e.seconds,e.nanoseconds]}function za(t){var e=new Li(t[0],t[1]);return Ui.W(e)}function Ba(t){var e=t.G();return new ma(e.seconds,e.nanoseconds)}function Ga(t){var e=new Li(t.seconds,t.nanoseconds);return Ui.W(e)}function Ka(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Mu(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return Mu(t.ks,e)}),s=Li.fromMillis(e.localWriteTimeMs);return new Ua(e.batchId,s,n,o)}function $a(t){var e,n,r=Ga(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ga(t.lastLimboFreeSnapshotVersion):Ui.min();return void 0!==t.query.documents?(fi(1===(n=t.query).documents.length),e=Qo(Ko(Nu(n.documents[0])))):e=function(t){return Qo(Hu(t))}(t.query),new us(e,t.targetId,0,t.lastListenSequenceNumber,r,i,bi.fromBase64String(t.resumeToken))}function Wa(t,e){var n,r=Ba(e.Mt),i=Ba(e.lastLimboFreeSnapshotVersion);n=jo(e.target)?Vu(t.ks,e.target):Fu(t.ks,e.target);var o=e.resumeToken.toBase64();return new Sa(e.targetId,xo(e.target),r,o,e.sequenceNumber,i,n)}function Ja(t){var e=Hu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ts(e,e.limit,"L"):e}var Xa=function(){function t(){}return t.prototype.Ms=function(t,e){return Za(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ga(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return Za(t).put({bundleId:(n=e).id,createTime:Ba(xu(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Ya(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ja(e.bundledQuery),readTime:Ga(e.readTime)};var e})},t.prototype.Bs=function(t,e){return Ya(t).put(function(t){return{name:t.name,readTime:Ba(xu(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Za(t){return La(t,Na.store)}function Ya(t){return La(t,Ra.store)}var Qa=function(){function t(){this.qs=new tc}return t.prototype.Us=function(t,e){return this.qs.add(e),ta.resolve()},t.prototype.Qs=function(t,e){return ta.resolve(this.qs.getEntries(e))},t}(),tc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Js(Vi.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Js(Vi.J)).rt()},t}(),ec=function(){function t(){this.Ks=new tc}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var o={collectionId:r,parent:pa(i)};return nc(t).put(o)}return ta.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[mi(e),""],!1,!0);return nc(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(ya(o.parent))}return n})},t}();function nc(t){return La(t,Aa.store)}var rc={Ws:!1,js:0,Gs:0,zs:0},ic=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function oc(t){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(e){if(t.code!==wi.FAILED_PRECONDITION||t.message!==fa)throw t;return ui("LocalStore","Unexpectedly lost primary lease"),[2]})})}ic.Zs=10,ic.ti=1e3,ic.ei=new ic(41943040,ic.Zs,ic.ti),ic.ni=new ic(-1,0,0);var sc=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Bi(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return Gi(this.ri)},t}(),uc=function(){function t(){this.oi=new sc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:Ui.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?ta.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function ac(t,e,n){var r=t.store(_a.store),i=t.store(Oa.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.ls({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){fi(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Oa.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ta.$n(o).next(function(){return c})}function cc(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw hi();e=t.noDocument}return JSON.stringify(e).length}var lc=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return fi(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fc(t).ls({index:_a.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,o=dc(t),s=fc(t);return s.add({}).next(function(u){fi("number"==typeof u);for(var a=new Ua(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Uu(t.ks,e)}),i=n.mutations.map(function(e){return Uu(t.ks,e)});return new _a(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,a),l=[],h=new Js(function(t,e){return vi(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Oa.key(i.userId,p.key.path,u);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Oa.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[u]=a.keys()}),ta.$n(l).next(function(){return a})})},t.prototype.yi=function(t,e){var n=this;return fc(t).get(e).next(function(t){return t?(fi(t.userId===n.userId),Ka(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?ta.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return fc(t).ls({index:_a.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(fi(e.batchId>=r),o=Ka(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fc(t).ls({index:_a.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fc(t).os(_a.userMutationsIndex,n).next(function(t){return t.map(function(t){return Ka(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=Oa.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return dc(t).ls({range:i},function(r,i,s){var u=r[0],a=r[2],c=ya(r[1]);if(u===n.userId&&e.path.isEqual(c))return fc(t).get(a).next(function(t){if(!t)throw hi();fi(t.userId===n.userId),o.push(Ka(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Si=function(t,e){var n=this,r=new Js(vi),i=[];return e.forEach(function(e){var o=Oa.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=dc(t).ls({range:s},function(t,i,o){var s=t[0],u=t[2],a=ya(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),ta.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Oa.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Js(vi);return dc(t).ls({range:s},function(t,e,o){var s=t[0],a=t[2],c=ya(t[1]);s===n.userId&&r.st(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Di(t,u)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(fc(t).get(e).next(function(t){if(null===t)throw hi();fi(t.userId===n.userId),r.push(Ka(n.Kt,t))}))}),ta.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return ac(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),ta.forEach(r,function(e){return n.Ii.Fi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Oi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return ta.resolve();var r=IDBKeyRange.lowerBound(Oa.prefixForUser(e.userId)),i=[];return dc(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=ya(t[1]);i.push(o)}else r.done()}).next(function(){fi(0===i.length)})})},t.prototype.ki=function(t,e){return hc(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return pc(t).get(this.userId).next(function(t){return t||new wa(e.userId,-1,"")})},t}();function hc(t,e,n){var r=Oa.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return dc(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function fc(t){return La(t,_a.store)}function dc(t){return La(t,Oa.store)}function pc(t){return La(t,wa.store)}var gc=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),vc=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new gc(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return Ui.W(new Li(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Wi=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.ji=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return yc(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return fi(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return yc(t).ls(function(s,u){var a=$a(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Yi(t,a)))}).next(function(){return ta.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return yc(t).ls(function(t,n){var r=$a(n);e(r)})},t.prototype.Ui=function(t){return mc(t).get(Ca.key).next(function(t){return fi(null!==t),t})},t.prototype.Qi=function(t,e){return mc(t).put(Ca.key,e)},t.prototype.zi=function(t,e){return yc(t).put(Wa(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=xo(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return yc(t).ls({range:r,index:Sa.queryTargetsIndexName},function(t,n,r){var o=$a(n);So(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],o=bc(t);return e.forEach(function(e){var s=pa(e.path);i.push(o.put(new ja(n,s))),i.push(r.Ii.sr(t,n,e))}),ta.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=bc(t);return ta.forEach(e,function(e){var o=pa(e.path);return ta.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=bc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=bc(t),i=ou();return r.ls({range:n,hs:!0},function(t,e,n){var r=ya(t[1]),o=new qi(r);i=i.add(o)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=pa(e.path),r=IDBKeyRange.bound([n],[mi(n)],!1,!0),i=0;return bc(t).ls({index:ja.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return yc(t).get(e).next(function(t){return t?$a(t):null})},t}();function yc(t){return La(t,Sa.store)}function mc(t){return La(t,Ca.store)}function bc(t){return La(t,ja.store)}function wc(t,e){var n=t[1],r=e[1],i=vi(t[0],e[0]);return 0===i?vi(n,r):i}var _c=function(){function t(t){this.ar=t,this.buffer=new Js(wc),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Oc=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;ui("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(ii.b)(e,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return oa(e=n.sent())?(ui("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,oc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),Ec=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return ta.resolve(Pi.U);var r=new _c(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(ui("LruGarbageCollector","Garbage collection skipped; disabled"),ta.resolve(rc)):this.br(t).next(function(r){return r<n.params.Hs?(ui("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),rc):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(ui("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.Vr(t,n)}).next(function(t){return a=Date.now(),si()<=tt.a.DEBUG&&ui("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),ta.resolve({Ws:!0,js:r,Gs:i,zs:t})})},t}(),Tc=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Ec(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return Ic(t,n)},t.prototype.rr=function(t,e,n){return Ic(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Fi=function(t,e){return Ic(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return pc(t)._s(function(r){return hc(t,r,e).next(function(t){return t&&(n=!0),ta.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Or().Fr(),i=[],o=0;return this.Cr(t,function(s,u){if(u<=e){var a=n.Nr(t,s).next(function(e){if(!e)return o++,r.fi(t,s).next(function(){return r._i(s),bc(t).delete([0,pa(s.path)])})});i.push(a)}}).next(function(){return ta.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Ic(t,e)},t.prototype.Cr=function(t,e){var n,r=bc(t),i=Pi.U;return r.ls({index:ja.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Pi.U&&e(new qi(ya(n)),i),i=s,n=o):i=Pi.U}).next(function(){i!==Pi.U&&e(new qi(ya(n)),i)})},t.prototype.br=function(t){return this.db.Or().Mr(t)},t}();function Ic(t,e){return bc(t).put(function(t,e){return new ja(0,pa(t.path),e)}(e,t.vs))}var xc=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return Cc(t).put(Ac(e),n)},t.prototype._i=function(t,e){var n=Cc(t),r=Ac(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return Cc(t).get(Ac(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return Cc(t).get(Ac(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:cc(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Qs();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=Qs(),i=new Ks(qi.J);return this.qr(t,e,function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,cc(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return ta.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Cc(t).ls({range:r},function(t,e,r){for(var s=qi.Tt(t);o&&qi.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.Wr=function(t,e,n){var r=this,i=eu(),o=e.path.length+1,s={};if(n.isEqual(Ui.min())){var u=e.path.rt();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.rt(),c=qa(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Ia.collectionReadTimeIndex}return Cc(t).ls(s,function(t,n,s){if(t.length===o){var u=Fa(r.Kt,n);e.path.st(u.key.path)?u instanceof _o&&is(e,u)&&(i=i.Ht(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Fr=function(t){return new Sc(this,!!t&&t.jr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return jc(t).get(xa.key).next(function(t){return fi(!!t),t})},t.prototype.Lr=function(t,e){return jc(t).put(xa.key,e)},t.prototype.$r=function(t){if(t){var e=Fa(this.Kt,t);return e instanceof Oo&&e.version.isEqual(Ui.min())?null:e}return null},t}(),Sc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.jr=n,r.zr=new sc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(ii.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Js(function(t,e){return vi(t.ot(),e.ot())});return this.oi.forEach(function(o,s){var u=e.zr.get(o);if(s.li){var a=Ha(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=cc(a);r+=c-u,n.push(e.Gr.ui(t,o,a))}else if(r-=u,e.jr){var l=Ha(e.Gr.Kt,new Oo(o,Ui.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),ta.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(uc);function jc(t){return La(t,xa.store)}function Cc(t){return La(t,Ia.store)}function Ac(t){return t.path.rt()}var kc=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;fi(n<r&&n>=0&&r<=11);var o=new ea("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ba.store)}(t),function(t){t.createObjectStore(wa.store,{keyPath:wa.keyPath}),t.createObjectStore(_a.store,{keyPath:_a.keyPath,autoIncrement:!0}).createIndex(_a.userMutationsIndex,_a.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Oa.store)}(t),Nc(t),function(t){t.createObjectStore(Ia.store)}(t));var s=ta.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ja.store),t.deleteObjectStore(Sa.store),t.deleteObjectStore(Ca.store)}(t),Nc(t)),s=s.next(function(){return function(t){var e=t.store(Ca.store),n=new Ca(0,0,Ui.min().G(),0);return e.put(Ca.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(_a.store).os().next(function(n){t.deleteObjectStore(_a.store),t.createObjectStore(_a.store,{keyPath:_a.keyPath,autoIncrement:!0}).createIndex(_a.userMutationsIndex,_a.userMutationsKeyPath,{unique:!0});var r=e.store(_a.store),i=n.map(function(t){return r.put(t)});return ta.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(ka.store,{keyPath:ka.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Hr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(xa.store)}(t),i.Jr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Yr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Xr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ia.store);e.createIndex(Ia.readTimeIndex,Ia.readTimeIndexPath,{unique:!1}),e.createIndex(Ia.collectionReadTimeIndex,Ia.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Zr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Na.store,{keyPath:Na.keyPath})}(t),function(t){t.createObjectStore(Ra.store,{keyPath:Ra.keyPath})}(t)})),s},t.prototype.Jr=function(t){var e=0;return t.store(Ia.store).ls(function(t,n){e+=cc(n)}).next(function(){var n=new xa(e);return t.store(xa.store).put(xa.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(wa.store),r=t.store(_a.store);return n.os().next(function(n){return ta.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(_a.userMutationsIndex,i).next(function(r){return ta.forEach(r,function(r){fi(r.userId===n.userId);var i=Ka(e.Kt,r);return ac(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(ja.store),n=t.store(Ia.store);return t.store(Ca.store).get(Ca.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new Vi(n),s=function(t){return[0,pa(t)]}(o);r.push(e.get(s).next(function(n){return n?ta.resolve():function(n){return e.put(new ja(0,pa(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return ta.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(Aa.store,{keyPath:Aa.keyPath});var n=e.store(Aa.store),r=new tc,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:pa(i)})}};return e.store(Ia.store).ls({hs:!0},function(t,e){var n=new Vi(t);return i(n.Z())}).next(function(){return e.store(Oa.store).ls({hs:!0},function(t,e){var n=ya(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(Sa.store);return n.ls(function(t,r){var i=$a(r),o=Wa(e.Kt,i);return n.put(o)})},t}();function Nc(t){t.createObjectStore(ja.store,{keyPath:ja.keyPath}).createIndex(ja.documentTargetsIndex,ja.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Sa.store,{keyPath:Sa.keyPath}).createIndex(Sa.queryTargetsIndexName,Sa.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ca.store)}var Rc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dc=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=u,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.Wn())throw new _i(wi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Tc(this,i),this.lo=n+"main",this.Kt=new Va(a),this._o=new na(this.lo,11,new kc(this.Kt)),this.fo=new vc(this.Ii,this.Kt),this.Ti=new ec,this.wo=function(t,e){return new xc(t,e)}(this.Kt,this.Ti),this.Eo=new Xa,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _i(wi.FAILED_PRECONDITION,Rc);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.Wi(e)})}).then(function(e){t.io=new Pi(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(ii.b)(e,void 0,void 0,function(){return Object(ii.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(ii.b)(e,void 0,void 0,function(){return Object(ii.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(ii.b)(e,void 0,void 0,function(){return Object(ii.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Lc(e).put(new ka(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(oa(e))return ui("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ui("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return Pc(t).get(ba.key).next(function(t){return ta.resolve(e.Co(t))})},t.prototype.xo=function(t){return Lc(t).delete(this.clientId)},t.prototype.No=function(){return Object(ii.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(ii.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=La(t,ka.store);return e.os().next(function(t){var n=r.Oo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return ta.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?ta.resolve(!0):Pc(t).get(ba.key).next(function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new _i(wi.FAILED_PRECONDITION,Rc);return!1}}return!(!e.networkEnabled||!e.inForeground)||Lc(t).os().next(function(t){return void 0===e.Oo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ui("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(ii.b)(this,void 0,void 0,function(){var t=this;return Object(ii.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[ba.store,ka.store],function(e){var n=new Pa(e,Pi.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Oo=function(t,e){var n=this;return t.filter(function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Lc(e).os().next(function(e){return t.Oo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return lc.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.Wo=function(){return this.Ti},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ui("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Da,function(o){return r=new Pa(o,i.io?i.io.next():Pi.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw ai("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new _i(wi.FAILED_PRECONDITION,fa);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return Pc(t).get(ba.key).next(function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new _i(wi.FAILED_PRECONDITION,Rc)})},t.prototype.Do=function(t){var e=new ba(this.clientId,this.allowTabSynchronization,Date.now());return Pc(t).put(ba.key,e)},t.Wn=function(){return na.Wn()},t.prototype.So=function(t){var e=this,n=Pc(t);return n.get(ba.key).next(function(t){return e.Co(t)?(ui("IndexedDbPersistence","Releasing primary lease."),n.delete(ba.key)):ta.resolve()})},t.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ai("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return ui("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ai("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){ai("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Pc(t){return La(t,ba.store)}function Lc(t){return La(t,ka.store)}function Uc(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Mc=function(t,e){this.progress=t,this.zo=e},Vc=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=Qs();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),o=Ys();return i.forEach(function(t,e){e||(e=new Oo(t,Ui.min())),o=o.Ht(t,e)}),o})},t.prototype.Wr=function(t,e,n){return function(t){return qi.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Zo(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new qi(e)).next(function(t){var e=eu();return t instanceof _o&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=eu();return this.Ti.Qs(t,i).next(function(s){return ta.forEach(s,function(s){var u=function(t,e){return new Bo(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.Wr(t,e,n).next(function(n){return r=n,o.Ho.Ci(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=Cs(a,r.get(c),0,o.Ss);r=l instanceof _o?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){is(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=ou(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof Ds&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof _o&&(c=c.Ht(t,e))}),c})},t}(),Fc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=ou(),i=ou(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Hc=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.Wr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Ui.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return($o(e)||Wo(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(si()<=tt.a.DEBUG&&ui("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),rs(e)),i.uc.Wr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new Js(os(t));return e.forEach(function(e,r){r instanceof _o&&is(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return si()<=tt.a.DEBUG&&ui("QueryEngine","Using full collection scan to execute query:",rs(e)),this.uc.Wr(t,e,Ui.min())},t}(),qc=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Ks(vi),this.wc=new sc(function(t){return xo(t)},So),this.Ec=Ui.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new Vc(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function zc(t,e,n,r){return new qc(t,e,n,r)}function Bc(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ii.d)(this,function(s){switch(s.label){case 0:return n=di(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.bi(t).next(function(s){return o=s,r=n.persistence.Ko(e),i=new Vc(n.Tc,r,n.persistence.Wo()),r.bi(t)}).next(function(e){for(var n=[],r=[],s=ou(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function Gc(t,e){var n=di(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Fr({jr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=ta.resolve();return o.forEach(function(t){s=s.next(function(){return r.fi(e,t)}).next(function(e){var o=e,s=n.Os.get(t);fi(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Fs)})}),s.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function Kc(t){var e=di(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function $c(t,e){var n=di(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Fr({jr:!0});i=n.dc;var s=[];e.Oe.forEach(function(e,o){var u=i.get(o);if(u){s.push(n.fo.ir(t,e.Ke,o).next(function(){return n.fo.nr(t,e.Ue,o)}));var a=e.resumeToken;if(a.o()>0){var c=u.$t(a,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return fi(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(u,c,e)&&s.push(n.fo.Ji(t,c))}}});var u=Ys();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))}),s.push(Wc(t,o,e.Me,r,void 0).next(function(t){u=t})),!r.isEqual(Ui.min())){var a=n.fo.Ki(t).next(function(e){return n.fo.ji(t,t.vs,r)});s.push(a)}return ta.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,u)})}).then(function(t){return n.dc=i,t})}function Wc(t,e,n,r,i){var o=ou();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Ys();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Oo&&s.version.isEqual(Ui.min())?(e._i(n,a),o=o.Ht(n,s)):null==u||s.version.u(u.version)>0||0===s.version.u(u.version)&&u.hasPendingWrites?(e.ui(s,a),o=o.Ht(n,s)):ui("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function Jc(t,e){var n=di(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function Xc(t,e){var n=di(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?ta.resolve(r=i):n.fo.qi(t).next(function(i){return r=new us(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function Zc(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ii.d)(this,function(u){switch(u.label){case 0:r=di(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!oa(s=u.sent()))throw s;return ui("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function Yc(t,e,n){var r=di(t),i=Ui.min(),o=ou();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=di(t),i=r.wc.get(n);return void 0!==i?ta.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Qo(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.Wr(t,e,n?i:Ui.min(),n?o:ou())}).next(function(t){return{documents:t,Pc:o}})})}function Qc(t,e){var n=di(t),r=di(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function tl(t){var e=di(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=di(t),i=Ys(),o=qa(n),s=Cc(e),u=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Ia.readTimeIndex,range:u},function(t,e){var n=Fa(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{zo:i,readTime:za(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function el(t){return Object(ii.b)(this,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){return[2,(e=di(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Cc(t),n=Ui.min();return e.ls({index:Ia.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=za(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function nl(t,e,n,r){return Object(ii.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(ii.d)(this,function(p){switch(p.label){case 0:for(i=di(t),o=ou(),s=Ys(),u=ru(),a=0,c=n;a<c.length;a++)h=e.yc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),u=u.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Fr({jr:!0}),[4,Xc(i,function(t){return Qo(Ko(Vi.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Wc(t,f,s,Ui.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function rl(t,e,n){return void 0===n&&(n=ou()),Object(ii.b)(this,void 0,void 0,function(){var r,i;return Object(ii.d)(this,function(o){switch(o.label){case 0:return[4,Xc(t,Qo(Ja(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=di(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=xu(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(bi.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var il=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return ta.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:xu(n.createTime)}),ta.resolve()},t.prototype.$s=function(t,e){return ta.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Ja(t.bundledQuery),readTime:xu(t.readTime)}}(e)),ta.resolve()},t}(),ol=function(){function t(){this.Sc=new Js(sl.Dc),this.Cc=new Js(sl.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new sl(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Fc(new sl(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new qi(new Vi([])),r=new sl(n,t),i=new sl(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new qi(new Vi([])),n=new sl(e,t),r=new sl(e,t+1),i=ou();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new sl(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),sl=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return qi.J(t.key,e.key)||vi(t.$c,e.$c)},t.xc=function(t,e){return vi(t.$c,e.$c)||qi.J(t.key,e.key)},t}(),ul=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Js(sl.Dc)}return t.prototype.Ri=function(t){return ta.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Ua(i,e,n,r);this.Ho.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.qc=this.qc.add(new sl(a.key,i)),this.Ti.Us(t,a.key.path.Z())}return ta.resolve(o)},t.prototype.yi=function(t,e){return ta.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return ta.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return ta.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return ta.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new sl(e,0),i=new sl(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),ta.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new Js(vi);return e.forEach(function(t){var e=new sl(t,0),i=new sl(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),ta.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;qi.Et(i)||(i=i.child(""));var o=new sl(new qi(i),0),s=new Js(vi);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),ta.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;fi(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return ta.forEach(e.mutations,function(i){var o=new sl(i.key,e.batchId);return r=r.delete(o),n.Ii.Fi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new sl(e,0),r=this.qc.Pe(n);return ta.resolve(e.isEqual(r&&r.key))},t.prototype.Oi=function(t){return ta.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),al=function(){function t(t,e){this.Ti=t,this.jc=e,this.docs=new Ks(qi.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return ta.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Qs();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),ta.resolve(r)},t.prototype.Wr=function(t,e,n){for(var r=eu(),i=new qi(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),u=s.value,a=u.li,c=u.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||a instanceof _o&&is(e,a)&&(r=r.Ht(a.key,a))}return ta.resolve(r)},t.prototype.Gc=function(t,e){return ta.forEach(this.docs,function(t){return e(t)})},t.prototype.Fr=function(t){return new cl(this)},t.prototype.Mr=function(t){return ta.resolve(this.size)},t}(),cl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(ii.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),ta.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(uc),ll=function(){function t(t){this.persistence=t,this.zc=new sc(function(t){return xo(t)},So),this.lastRemoteSnapshotVersion=Ui.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new ol,this.targetCount=0,this.Yc=gc.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),ta.resolve()},t.prototype.Ki=function(t){return ta.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Wi=function(t){return ta.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),ta.resolve(this.highestTargetId)},t.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),ta.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new gc(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,ta.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),ta.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,ta.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,u.targetId)),i++)}),ta.$n(o).next(function(){return i})},t.prototype.tr=function(t){return ta.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return ta.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),ta.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Fi(t,e))}),ta.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),ta.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return ta.resolve(n)},t.prototype.ki=function(t,e){return ta.resolve(this.Jc.ki(e))},t}(),hl=function(){function t(t,e){var n=this;this.Xc={},this.io=new Pi(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new ll(this),this.Ti=new Qa,this.wo=function(t,e){return new al(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new Va(e),this.Eo=new il(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.Wo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new ul(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;ui("MemoryPersistence","Starting transaction:",t);var i=new fl(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return ta.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),fl=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(ii.c)(e,t),e}(da),dl=function(){function t(t){this.persistence=t,this.sa=new ol,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw hi()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),ta.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),ta.resolve()},t.prototype.Fi=function(t,e){return this.oa.add(e.toString()),ta.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return ta.forEach(this.oa,function(r){var i=qi.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return ta.Bn([function(){return ta.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function pl(t,e){return"firestore_clients_"+t+"_"+e}function gl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function vl(t,e){return"firestore_targets_"+t+"_"+e}var yl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new _i(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(ai("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ml=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new _i(r.error.code,r.error.message)),i?new t(e,r.state,o):(ai("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=uu(),s=0;i&&s<r.activeTargetIds.length;++s)i=no(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ai("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),wl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ai("SharedClientState","Failed to parse online state: "+e),null)},t}(),_l=function(){function t(){this.activeTargetIds=uu()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ol=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Ks(vi),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=pl(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new _l),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ii.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(ii.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(pl(this.persistenceKey,r)))&&(o=bl.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(u=this.ba(s))&&this.va(u),a=0,c=this.Ia;a<c.length;a++)this.Ea(c[a]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(vl(this.persistenceKey,t));if(n){var r=ml.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(vl(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ui("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ui("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ui("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ui("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(ii.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(ii.d)(this,function(u){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Pi.U;if(null!=t)try{var n=JSON.parse(t);fi("number"==typeof n),e=n}catch(t){ai("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Pi.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new yl(this.currentUser,t,e,n),i=gl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=gl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=vl(this.persistenceKey,t),i=new ml(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return bl.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return yl.aa(new Ci(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return ml.aa(r,e)},t.prototype.ba=function(t){return wl.aa(t)},t.prototype.Xa=function(t){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(ui("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this.fa.iu(s,u).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=uu();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),El=function(){function t(){this.ru=new _l,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new _l,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Tl=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Il=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){ui("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){ui("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),xl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Sl=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),jl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(ii.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new ri;s.listenOnce(ti.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Qr.NO_ERROR:var e=s.getResponseJson();ui("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Qr.TIMEOUT:ui("Connection",'RPC "'+t+'" timed out'),o(new _i(wi.DEADLINE_EXCEEDED,"Request time out"));break;case Qr.HTTP_ERROR:var n=s.getStatus();if(ui("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(wi).indexOf(e)>=0?e:wi.UNKNOWN}(r.status);o(new _i(u,r.message))}else o(new _i(wi.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new _i(wi.UNAVAILABLE,"Connection failed."));break;default:hi()}}finally{ui("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Wr,i=Xe(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(et.m)()||Object(et.o)()||Object(et.k)()||Object(et.l)()||Object(et.p)()||Object(et.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ui("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new Sl({du:function(t){c?ui("Connection","Not sending because WebChannel is closed:",t):(a||(ui("Connection","Opening WebChannel transport."),u.open(),a=!0),ui("Connection","WebChannel sending:",t),u.send(t))},wu:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,ni.EventType.OPEN,function(){c||ui("Connection","WebChannel transport opened.")}),h(u,ni.EventType.CLOSE,function(){c||(c=!0,ui("Connection","WebChannel transport closed"),l.Pu())}),h(u,ni.EventType.ERROR,function(t){c||(c=!0,ci("Connection","WebChannel transport errored:",t),l.Pu(new _i(wi.UNAVAILABLE,"The operation could not be completed")))}),h(u,ni.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];fi(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ui("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Vs[t];if(void 0!==e)return Gs(e)}(i),s=r.message;void 0===o&&(o=wi.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new _i(o,s)),u.close()}else ui("Connection","WebChannel received:",n),l.yu(n)}}),h(i,ei.STAT_EVENT,function(t){10===t.stat?ui("Connection","Detected buffering proxy"):11===t.stat&&ui("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);ui("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return ui("RestConnection","Received: ",t),t},function(e){throw ci("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.5",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+xl[t]},t}());function Cl(){return"undefined"!=typeof window?window:null}function Al(){return"undefined"!=typeof document?document:null}function kl(t){return new Ou(t,!0)}var Nl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&ui("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Rl=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Nl(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===wi.RESOURCE_EXHAUSTED?(ai(e.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===wi.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new _i(wi.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(ii.b)(t,void 0,void 0,function(){return Object(ii.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return ui("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.ju===t?n():(ui("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Dl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(ii.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:hi()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(fi(void 0===e||"string"==typeof e),bi.fromBase64String(e||"")):(fi(void 0===e||e instanceof Uint8Array),bi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?wi.UNKNOWN:Gs(t.code);return new _i(e,t.message||"")}(u);n=new gu(r,i,o,s||null)}else if("documentChange"in e){i=Au(t,(r=e.documentChange).document.name),o=xu(r.document.updateTime);var u=new yo({mapValue:{fields:r.document.fields}}),a=(s=new _o(i,o,u,{}),r.targetIds||[]);n=new du(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Au(t,(r=e.documentDelete).document),o=r.readTime?xu(r.readTime):Ui.min(),u=new Oo(i,o),n=new du([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=Au(t,(r=e.documentRemove).document),n=new du([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return hi();var c=e.filter;i=new zs(r=c.count||0),n=new pu(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Ui.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ui.min():e.readTime?xu(e.readTime):Ui.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Ru(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=jo(r)?{documents:Vu(t,r)}:{query:Fu(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Tu(t,e.resumeToken):e.Mt.u(Ui.min())>0&&(n.readTime=Eu(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hi()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Ru(this.Kt),e.removeTarget=t,this.eh(e)},e}(Rl),Pl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(ii.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(fi(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(fi(void 0!==e),t.map(function(t){return function(t,e){var n=xu(t.updateTime?t.updateTime:e);n.isEqual(Ui.min())&&(n=xu(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ts(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=xu(t.commitTime);return this.listener.wh(n,e)}return fi(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Ru(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Uu(e.Kt,t)})};this.eh(n)},e}(Rl),Ll=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(ii.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new _i(wi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===wi.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===wi.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Ul=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(ai(e),this.Ph=!1):ui("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Ml=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(ii.b)(o,void 0,void 0,function(){return Object(ii.d)(this,function(t){switch(t.label){case 0:return $l(this)?(ui("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ii.b)(this,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return(e=di(t)).Fh.add(4),[4,Fl(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Vl(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Ul(n,r)};function Vl(t){return Object(ii.b)(this,void 0,void 0,function(){var e,n;return Object(ii.d)(this,function(r){switch(r.label){case 0:if(!$l(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Fl(t){return Object(ii.b)(this,void 0,void 0,function(){var e,n;return Object(ii.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Hl(t,e){var n=di(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Kl(n)?Gl(n):ah(n).Ju()&&zl(n,e))}function ql(t,e){var n=di(t),r=ah(n);n.Nh.delete(e),r.Ju()&&Bl(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():$l(n)&&n.Mh.set("Unknown"))}function zl(t,e){t.Lh.cn(e.targetId),ah(t).hh(e)}function Bl(t,e){t.Lh.cn(e),ah(t).lh(e)}function Gl(t){t.Lh=new yu({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),ah(t).start(),t.Mh.yh()}function Kl(t){return $l(t)&&!ah(t).Hu()&&t.Nh.size>0}function $l(t){return 0===di(t).Fh.size}function Wl(t){t.Lh=void 0}function Jl(t){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(e){return t.Nh.forEach(function(e,n){zl(t,e)}),[2]})})}function Xl(t,e){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(n){return Wl(t),Kl(t)?(t.Mh.ph(e),Gl(t)):t.Mh.set("Unknown"),[2]})})}function Zl(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i,o;return Object(ii.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof gu&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ii.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ui("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Yl(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof du?t.Lh.wn(e):e instanceof pu?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Ui.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Kc(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(bi.h,n.Mt)),Bl(t,e);var r=new us(n.target,e,1,n.sequenceNumber);zl(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ui("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Yl(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Yl(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r=this;return Object(ii.d)(this,function(i){switch(i.label){case 0:if(!oa(e))throw e;return t.Fh.add(1),[4,Fl(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Kc(t.Sh)}),t.fs.bo(function(){return Object(ii.b)(r,void 0,void 0,function(){return Object(ii.d)(this,function(e){switch(e.label){case 0:return ui("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Vl(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Ql(t,e){return e().catch(function(n){return Yl(t,n,e)})}function th(t){return Object(ii.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(ii.d)(this,function(s){switch(s.label){case 0:e=di(t),n=ch(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return $l(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Jc(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=ch(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Yl(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return eh(e)&&nh(e),[2]}})})}function eh(t){return $l(t)&&!ch(t).Hu()&&t.xh.length>0}function nh(t){ch(t).start()}function rh(t){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(e){return ch(t).Th(),[2]})})}function ih(t){return Object(ii.b)(this,void 0,void 0,function(){var e,n,r;return Object(ii.d)(this,function(i){for(e=ch(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function oh(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i;return Object(ii.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Ma.from(r,e,n),[4,Ql(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,th(t)];case 2:return o.sent(),[2]}})})}function sh(t,e){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(n){switch(n.label){case 0:return e&&ch(t).fh?[4,function(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r;return Object(ii.d)(this,function(i){switch(i.label){case 0:return Bs(r=e.code)&&r!==wi.ABORTED?(n=t.xh.shift(),ch(t).Xu(),[4,Ql(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,th(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return eh(t)&&nh(t),[2]}})})}function uh(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n;return Object(ii.d)(this,function(r){switch(r.label){case 0:return n=di(t),e?(n.Fh.delete(2),[4,Vl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Fl(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ah(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=di(t);return r.mh(),new Dl(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Jl.bind(null,t),Iu:Xl.bind(null,t),uh:Zl.bind(null,t)}),t.Oh.push(function(n){return Object(ii.b)(e,void 0,void 0,function(){return Object(ii.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Kl(t)?Gl(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Wl(t),e.label=3;case 3:return[2]}})})})),t.Qh}function ch(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=di(t);return r.mh(),new Pl(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:rh.bind(null,t),Iu:sh.bind(null,t),Eh:ih.bind(null,t),wh:oh.bind(null,t)}),t.Oh.push(function(n){return Object(ii.b)(e,void 0,void 0,function(){return Object(ii.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,th(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(ui("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var lh=function(){this.Wh=void 0,this.listeners=[]},hh=function(){this.queries=new sc(function(t){return ns(t)},es),this.onlineState="Unknown",this.jh=new Set};function fh(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(ii.d)(this,function(c){switch(c.label){case 0:if(n=di(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new lh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return u=c.sent(),a=ha(u,"Initialization of query '"+rs(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&vh(n),[2]}})})}function dh(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ii.d)(this,function(u){return n=di(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function ph(t,e){for(var n=di(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].Hh(s)&&(r=!0);u.Wh=s}}r&&vh(n)}function gh(t,e,n){var r=di(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function vh(t){t.jh.forEach(function(t){t.next()})}var yh=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new lu(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=lu.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),mh=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),bh=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Au(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Lu(this.Kt,t.document,!1):new Oo(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return xu(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new bh(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||ou()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ii.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(ii.d)(this,function(o){switch(o.label){case 0:return[4,nl(this.Sh,new bh(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,rl(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mc(Object.assign({},this.progress),t))]}})})}}();var wh=function(t){this.key=t},_h=function(t){this.key=t},Oh=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=ou(),this.Ce=ou(),this.ll=os(t),this._l=new au(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new cu,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,u=!1,a=$o(this.query)&&i.size===this.query.limit?i.last():null,c=Wo(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof _o?e:null;h&&(h=is(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.ll(h,a)>0||c&&n.ll(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),$o(this.query)||Wo(this.query))for(;s.size>this.query.limit;){var l=$o(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:u,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hi()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],u=0===this.hl.size&&this.qe?1:0,a=u!==this.ul;return this.ul=u,0!==o.length||a?{snapshot:new lu(this.query,t._l,i,o,t.Ce,0===u,a,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new cu,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=ou(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new _h(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new wh(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=ou();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return lu.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Eh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Th=function(t){this.key=t,this.yl=!1},Ih=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new sc(function(t){return ns(t)},es),this.Dl=new Map,this.Cl=[],this.xl=new Ks(qi.J),this.Nl=new Map,this.Fl=new ol,this.Ol={},this.kl=new Map,this.Ml=gc.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function xh(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ii.d)(this,function(u){switch(u.label){case 0:return n=ef(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Xc(n.Sh,Qo(e))];case 2:return o=u.sent(),s=n.pl.ka(o.targetId),[4,Sh(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.$l&&Hl(n.gl,o),u.label=4;case 4:return[2,r]}})})}function Sh(t,e,n,r){return Object(ii.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(ii.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(ii.b)(this,void 0,void 0,function(){var i,o,s;return Object(ii.d)(this,function(u){switch(u.label){case 0:return(i=e.view.dl(n))._c?[4,Yc(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(Fh(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,Yc(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Oh(e,i.Pc),s=o.dl(i.documents),u=fu.Be(n,r&&"Offline"!==t.onlineState),a=o.Ei(s,t.$l,u),Fh(t,n,a.ml),c=new Eh(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),a.snapshot)]}})})}function jh(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(ii.d)(this,function(o){switch(o.label){case 0:return n=di(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!es(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Zc(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),ql(n.gl,r.targetId),Mh(n,r.targetId)}).catch(oc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Mh(n,r.targetId),[4,Zc(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Ch(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ii.d)(this,function(u){switch(u.label){case 0:r=nf(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=di(t),i=Li.now(),o=e.reduce(function(t,e){return t.add(e.key)},ou());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=As(c,n.get(c.key));null!=l&&s.push(new Ds(c.key,l,bo(l.proto.mapValue),Is.exists(!0)))}return r.Ho.Pi(t,i,s,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=u.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Ks(vi)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,zh(r,i.oi)];case 3:return u.sent(),[4,th(r.gl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=ha(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Ah(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r;return Object(ii.d)(this,function(i){switch(i.label){case 0:n=di(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,$c(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(fi(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?fi(r.yl):t.Ke.size>0&&(fi(r.yl),r.yl=!1))}),[4,zh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,oc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function kh(t,e,n){var r=di(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=di(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&vh(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Nh(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(ii.d)(this,function(c){switch(c.label){case 0:return(r=di(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new Ks(qi.J)).Ht(o,new Oo(o,Ui.min())),u=ou().add(o),a=new hu(Ui.min(),new Map,new Js(vi),s,u),[4,Ah(r,a)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),qh(r),[3,4];case 2:return[4,Zc(r.Sh,e,!1).then(function(){return Mh(r,e,n)}).catch(oc)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Rh(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(ii.d)(this,function(o){switch(o.label){case 0:n=di(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Gc(n.Sh,e)];case 2:return i=o.sent(),Uh(n,r,null),Lh(n,r),n.pl.Fa(r,"acknowledged"),[4,zh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,oc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Dh(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i;return Object(ii.d)(this,function(o){switch(o.label){case 0:r=di(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=di(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return fi(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),Uh(r,e,n),Lh(r,e),r.pl.Fa(e,"rejected",n),[4,zh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,oc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ph(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ii.d)(this,function(u){switch(u.label){case 0:$l((n=di(t)).gl)||ui("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=di(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=u.sent(),s=ha(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Lh(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Uh(t,e,n){var r=di(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Mh(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.ki(e)||Vh(t,e)})}function Vh(t,e){var n=t.xl.get(e);null!==n&&(ql(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),qh(t))}function Fh(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof wh?(t.Fl.sr(o.key,e),Hh(t,o)):o instanceof _h?(ui("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.rr(o.key,e),t.Fl.ki(o.key)||Vh(t,o.key)):hi()}}function Hh(t,e){var n=e.key;t.xl.get(n)||(ui("SyncEngine","New document in limbo: "+n),t.Cl.push(n),qh(t))}function qh(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Th(e)),t.xl=t.xl.Ht(e,n),Hl(t.gl,new us(Qo(Ko(e.path)),n,2,Pi.U))}}function zh(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ii.d)(this,function(u){switch(u.label){case 0:return r=di(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,u){s.push(r.Bl(u,e,n).then(function(t){if(t){r.$l&&r.pl.qa(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Fc.cc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vl.uh(i),[4,function(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(ii.d)(this,function(l){switch(l.label){case 0:n=di(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ta.forEach(e,function(e){return ta.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return ta.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!oa(r=l.sent()))throw r;return ui("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.dc.get(u),c=a.Bt(a.Mt),n.dc=n.dc.Ht(u,c));return[2]}})})}(r.Sh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Bh(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r;return Object(ii.d)(this,function(i){switch(i.label){case 0:return(n=di(t)).currentUser.isEqual(e)?[3,3]:(ui("SyncEngine","User change. New user:",e.R()),[4,Bc(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new _i(wi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,zh(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Gh(t,e){var n=di(t),r=n.Nl.get(e);if(r&&r.yl)return ou().add(r.key);var i=ou(),o=n.Dl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.Sl.get(u[s]);i=i.ye(a.view.fl)}return i}function Kh(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(ii.d)(this,function(o){switch(o.label){case 0:return[4,Yc((n=di(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Fh(n,e.targetId,i.ml),i)]}})})}function $h(t){return Object(ii.b)(this,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){return[2,tl((e=di(t)).Sh).then(function(t){return zh(e,t)})]})})}function Wh(t,e,n,r){return Object(ii.b)(this,void 0,void 0,function(){var i,o;return Object(ii.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=di(t),r=di(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):ta.resolve(null)})})}((i=di(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,th(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Uh(i,e,r||null),Lh(i,e),function(t,e){di(di(t).Ho).Ni(e)}(i.Sh,e)):hi(),s.label=4;case 4:return[4,zh(i,o)];case 5:return s.sent(),[3,7];case 6:ui("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Jh(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(ii.d)(this,function(c){switch(c.label){case 0:return ef(n=di(t)),nf(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Xh(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,uh(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Hl(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],a=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?u.push(e):a=a.then(function(){return Mh(n,e),Zc(n.Sh,e,!0)}),ql(n.gl,e)}),[4,a]);case 4:return c.sent(),[4,Xh(n,u)];case 5:return c.sent(),function(t){var e=di(t);e.Nl.forEach(function(t,n){ql(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new Ks(qi.J)}(n),n.Ll=!1,[4,uh(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Xh(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(ii.d)(this,function(g){switch(g.label){case 0:n=di(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Dl.get(u=s[o]))&&0!==c.length?[4,Xc(n.Sh,Qo(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Kh(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Qc(n.Sh,u)];case 8:return p=g.sent(),[4,Xc(n.Sh,p)];case 9:return a=g.sent(),[4,Sh(n,Zh(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function Zh(t){return Go(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Yh(t){var e=di(t);return di(di(e.Sh).persistence).Qo()}function Qh(t,e,n,r){return Object(ii.b)(this,void 0,void 0,function(){var i,o,s;return Object(ii.d)(this,function(u){switch(u.label){case 0:return(i=di(t)).Ll?(ui("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tl(i.Sh)];case 3:return o=u.sent(),s=hu.$e(e,"current"===n),[4,zh(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Zc(i.Sh,e,!0)];case 6:return u.sent(),Mh(i,e,r),[3,8];case 7:hi(),u.label=8;case 8:return[2]}})})}function tf(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(ii.d)(this,function(f){switch(f.label){case 0:if(!(r=ef(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(ui("SyncEngine","Adding an already active target "+s),[3,5]):[4,Qc(r.Sh,s)]:[3,6];case 2:return u=f.sent(),[4,Xc(r.Sh,u)];case 3:return a=f.sent(),[4,Sh(r,Zh(u),a.targetId,!1)];case 4:f.sent(),Hl(r.gl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ii.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Zc(r.Sh,t,!1).then(function(){ql(r.gl,t),Mh(r,t)}).catch(oc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function ef(t){var e=di(t);return e.gl.Ch.Bh=Ah.bind(null,e),e.gl.Ch.Sn=Gh.bind(null,e),e.gl.Ch.$h=Nh.bind(null,e),e.vl.uh=ph.bind(null,e.Vl),e.vl.ql=gh.bind(null,e.Vl),e}function nf(t){var e=di(t);return e.gl.Ch.qh=Rh.bind(null,e),e.gl.Ch.Uh=Dh.bind(null,e),e}var rf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(e){switch(e.label){case 0:return this.Kt=kl(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return zc(this.persistence,new Hc,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new hl(dl.ra,this.Kt)},t.prototype.jl=function(t){return new El},t.prototype.terminate=function(){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),of=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ii.c)(e,t),e.prototype.initialize=function(e){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,el(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,nf(this.Xl.fa)];case 4:return n.sent(),[4,th(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return zc(this.persistence,new Hc,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Oc(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=Uc(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?ic.Xs(this.cacheSizeBytes):ic.ei;return new Dc(this.synchronizeTabs,e,t.clientId,n,t.fs,Cl(),Al(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new El},e}(rf),sf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ii.c)(e,t),e.prototype.initialize=function(e){return Object(ii.b)(this,void 0,void 0,function(){var n,r=this;return Object(ii.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Ol?(this.pl.fa={nu:Wh.bind(null,n),su:Qh.bind(null,n),iu:tf.bind(null,n),Qo:Yh.bind(null,n),eu:$h.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(ii.b)(r,void 0,void 0,function(){return Object(ii.d)(this,function(e){switch(e.label){case 0:return[4,Jh(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Cl();if(!Ol.Wn(e))throw new _i(wi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Uc(t.gu.T,t.gu.persistenceKey);return new Ol(e,t.fs,n,t.clientId,t.Yl)},e}(of),uf=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n=this;return Object(ii.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return kh(n.fa,t,1)},this.gl.Ch.s_=Bh.bind(null,this.fa),[4,uh(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new hh},t.prototype.Zl=function(t){var e=kl(t.gu.T),n=new jl(t.gu);return function(t,e,n){return new Ll(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return kh(s.fa,t,0)},o=Il.Wn()?new Il:new Tl,new Ml(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Ih(t,e,n,r,i,o);return s&&(u.Ll=!0),u}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(ii.b)(this,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return e=di(t),ui("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Fl(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),af=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),cf=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Qu,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(ii.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(ii.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new mh(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(ii.b)(this,void 0,void 0,function(){var t,e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(ii.b)(this,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(ii.b)(this,void 0,void 0,function(){var t,e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new _i(wi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Hi(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),lf=function(t){this._methodName=t};function hf(t,e,n){if(!n)throw new _i(wi.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ff(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _i(wi.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function df(t,e,n,r){if(!0===e&&!0===r)throw new _i(wi.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function pf(t){if(!qi.Et(t))throw new _i(wi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function gf(t){if(qi.Et(t))throw new _i(wi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function vf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":hi()}function yf(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new _i(wi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vf(t);throw new _i(wi.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function mf(t,e){if(e<=0)throw new _i(wi.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var bf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new _i(wi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _i(wi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,df("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),wf=new Map,_f=function(){function t(t,e){this.w_="(lite)",this.E_=new bf({}),this.T_=!1,t instanceof ji?(this.I_=t,this.m_=new ki):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _i(wi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ji(t.options.projectId)}(t),this.m_=new Ni(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new _i(wi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new _i(wi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new bf(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new ki;switch(t.type){case"gapi":var e=t.client;return fi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Di(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new _i(wi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,T:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=wf.get(this))&&(ui("ComponentProvider","Removing Datastore"),wf.delete(this),t.terminate()),Promise.resolve();var t},t}(),Of=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Tf(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Ef=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Tf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ko(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(ii.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Of(this.firestore,null,new qi(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Ef);function If(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ei&&(t=t._),hf("collection","path",e),t instanceof _f)return gf(n=Vi.ct.apply(Vi,Object(ii.g)([e],r))),new Tf(t,null,n);if(!(t instanceof Of||t instanceof Tf))throw new _i(wi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gf(n=Vi.ct.apply(Vi,Object(ii.g)([t.path],r)).child(Vi.ct(e))),new Tf(t.firestore,null,n)}function xf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ei&&(t=t._),1===arguments.length&&(e=gi.t()),hf("doc","path",e),t instanceof _f)return pf(n=Vi.ct.apply(Vi,Object(ii.g)([e],r))),new Of(t,null,new qi(n));if(!(t instanceof Of||t instanceof Tf))throw new _i(wi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pf(n=t.D_.child(Vi.ct.apply(Vi,Object(ii.g)([e],r)))),new Of(t.firestore,t instanceof Tf?t.v_:null,new qi(n))}function Sf(t,e){return t instanceof Ei&&(t=t._),e instanceof Ei&&(e=e._),(t instanceof Of||t instanceof Tf)&&(e instanceof Of||e instanceof Tf)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function jf(t,e){return t instanceof Ei&&(t=t._),e instanceof Ei&&(e=e._),t instanceof Ef&&e instanceof Ef&&t.firestore===e.firestore&&es(t.C_,e.C_)&&t.v_===e.v_}var Cf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new _i(wi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _i(wi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return vi(this.x_,t.x_)||vi(this.N_,t.N_)},t}(),Af=/^__.*__$/,kf=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Ds(t,this.data,this.zt,e,this.fieldTransforms):new Rs(t,this.data,e,this.fieldTransforms)},t}(),Nf=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Ds(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Rf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hi()}}var Df=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return td(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Rf(this.k_)&&Af.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Pf=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||kl(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Df({k_:t,methodName:e,j_:n,path:Hi.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Lf(t){var e=t.p_(),n=kl(t.I_);return new Pf(t.I_,!!e.ignoreUndefinedProperties,n)}function Uf(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Xf("Data must be an object, but it was:",s,r);var u,a,c=Wf(r,s);if(o.merge)u=new Ki(s.zt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Zf(e,f[h],n);if(!s.contains(d))throw new _i(wi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ed(l,d)||l.push(d)}u=new Ki(l),a=s.fieldTransforms.filter(function(t){return u.It(t.field)})}else u=null,a=s.fieldTransforms;return new kf(new yo(c),u,a)}var Mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(lf);function Vf(t,e,n){return new Df({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.prototype.z_=function(t){return new Es(t.path,new gs)},e.prototype.isEqual=function(t){return t instanceof e},e}(lf),Hf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(ii.c)(e,t),e.prototype.z_=function(t){var e=Vf(this,t,!0),n=this.H_.map(function(t){return $f(t,e)}),r=new vs(n);return new Es(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lf),qf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(ii.c)(e,t),e.prototype.z_=function(t){var e=Vf(this,t,!0),n=this.H_.map(function(t){return $f(t,e)}),r=new ms(n);return new Es(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lf),zf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(ii.c)(e,t),e.prototype.z_=function(t){var e=new ws(t.Kt,ls(t.Kt,this.J_));return new Es(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(lf);function Bf(t,e,n,r){var i=t.G_(1,e,n);Xf("Data must be an object, but it was:",i,r);var o=[],s=new mo;Bi(r,function(t,r){var u=Qf(e,t,n);r instanceof Ei&&(r=r._);var a=i.U_(u);if(r instanceof Mf)o.push(u);else{var c=$f(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new Ki(o);return new Nf(s.yt(),u,i.fieldTransforms)}function Gf(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[Zf(e,r,n)],a=[i];if(o.length%2!=0)throw new _i(wi.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Zf(e,o[c])),a.push(o[c+1]);for(var l=[],h=new mo,f=u.length-1;f>=0;--f)if(!ed(l,u[f])){var d=u[f],p=a[f];p instanceof Ei&&(p=p._);var g=s.U_(d);if(p instanceof Mf)l.push(d);else{var v=$f(p,g);null!=v&&(l.push(d),h.set(d,v))}}var y=new Ki(l);return new Nf(h.yt(),y,s.fieldTransforms)}function Kf(t,e,n,r){return void 0===r&&(r=!1),$f(n,t.G_(r?4:3,e))}function $f(t,e){if(t instanceof Ei&&(t=t._),Jf(t))return Xf("Unsupported field value:",e,t),Wf(t,e);if(t instanceof lf)return function(t,e){if(!Rf(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=$f(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ei&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ls(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Li.fromDate(t);return{timestampValue:Eu(e.Kt,n)}}if(t instanceof Li)return n=new Li(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Eu(e.Kt,n)};if(t instanceof Cf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oi)return{bytesValue:Tu(e.Kt,t.l)};if(t instanceof Of){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Su(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+vf(t))}(t,e)}function Wf(t,e){var n={};return Gi(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Bi(t,function(t,r){var i=$f(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Jf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Li||t instanceof Cf||t instanceof Oi||t instanceof Of||t instanceof lf)}function Xf(t,e,n){if(!Jf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=vf(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Zf(t,e,n){if(e instanceof Ei&&(e=e._),e instanceof cf)return e.d_;if("string"==typeof e)return Qf(t,e);throw td("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Yf=new RegExp("[~\\*/\\[\\]]");function Qf(t,e,n){if(e.search(Yf)>=0)throw td("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(cf.bind.apply(cf,Object(ii.g)([void 0],e.split("."))))).d_}catch(r){throw td("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function td(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new _i(wi.INVALID_ARGUMENT,(u+=". ")+t+a)}function ed(t,e){return t.some(function(t){return t.isEqual(e)})}var nd=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(ii.b)(this,void 0,void 0,function(){var e,n=this;return Object(ii.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new _i(wi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(ii.d)(this,function(a){switch(a.label){case 0:return n=di(t),r=Ru(n.Kt)+"/documents",i={documents:e.map(function(t){return Cu(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){fi(!!e.found);var n=Au(t,e.found.name),r=xu(e.found.updateTime),i=new yo({mapValue:{fields:e.found.fields}});return new _o(n,r,i,{})}(t,e):"missing"in e?function(t,e){fi(!!e.missing),fi(!!e.readTime);var n=Au(t,e.missing),r=xu(e.readTime);return new Oo(n,r)}(t,e):hi()}(n.Kt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());fi(!!e),u.push(e)}),u)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Oo||t instanceof _o?n.sf(t):hi()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Hs(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(ii.b)(this,void 0,void 0,function(){var t,e=this;return Object(ii.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=qi.ft(n);e.mutations.push(new qs(r,e.Gt(r)))}),[4,function(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(ii.d)(this,function(o){switch(o.label){case 0:return n=di(t),r=Ru(n.Kt)+"/documents",i={writes:e.map(function(t){return Uu(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof _o)e=t.version;else{if(!(t instanceof Oo))throw hi();e=Ui.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _i(wi.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Is.updateTime(e):Is.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Ui.min()))throw new _i(wi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Is.updateTime(e)}return Is.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),rd=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Nl(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(ii.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(ii.d)(this,function(r){return t=new nd(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!to(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Bs(e)}return!1},t}(),id=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Ci.UNAUTHENTICATED,this.clientId=gi.t(),this._f=function(){},this.N=new Qu,this.credentials.S(function(t){ui("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new _i(wi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Qu;return this.fs.Tf(function(){return Object(ii.b)(t,void 0,void 0,function(){var t,n;return Object(ii.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=ha(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function od(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(ii.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),ui("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(ii.b)(i,void 0,void 0,function(){return Object(ii.d)(this,function(t){switch(t.label){case 0:return[4,Bc(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function sd(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r;return Object(ii.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,ud(t)];case 1:return n=i.sent(),ui("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r;return Object(ii.d)(this,function(i){switch(i.label){case 0:return(n=di(t)).fs.Af(),ui("RemoteStore","RemoteStore received new credentials"),r=$l(n),n.Fh.add(3),[4,Fl(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Vl(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function ud(t){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(ui("FirestoreClient","Using default OfflineComponentProvider"),[4,od(t,new rf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function ad(t){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(ui("FirestoreClient","Using default OnlineComponentProvider"),[4,sd(t,new uf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function cd(t){return ud(t).then(function(t){return t.persistence})}function ld(t){return ud(t).then(function(t){return t.Sh})}function hd(t){return ad(t).then(function(t){return t.gl})}function fd(t){return ad(t).then(function(t){return t.fa})}function dd(t){return Object(ii.b)(this,void 0,void 0,function(){var e,n;return Object(ii.d)(this,function(r){switch(r.label){case 0:return[4,ad(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=xh.bind(null,e.fa),n.Jh=jh.bind(null,e.fa),n)]}})})}function pd(t,e,n){var r=this;void 0===n&&(n={});var i=new Qu;return t.fs.ys(function(){return Object(ii.b)(r,void 0,void 0,function(){var r;return Object(ii.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new af({next:function(o){e.ys(function(){return dh(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new _i(wi.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new _i(wi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new yh(Ko(n.path),o,{includeMetadataChanges:!0,sl:!0});return fh(t,s)},[4,dd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function gd(t,e,n){var r=this;void 0===n&&(n={});var i=new Qu;return t.fs.ys(function(){return Object(ii.b)(r,void 0,void 0,function(){var r;return Object(ii.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new af({next:function(n){e.ys(function(){return dh(t,s)}),n.fromCache&&"server"===r.source?i.reject(new _i(wi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new yh(n,o,{includeMetadataChanges:!0,sl:!0});return fh(t,s)},[4,dd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var vd=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Nl(this,"async_queue_retry"),this.vf=function(){var e=Al();e&&ui("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Al();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Al();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(ii.b)(this,void 0,void 0,function(){var t,e=this;return Object(ii.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!oa(t=n.sent()))throw t;return ui("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,ai("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=la.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&hi()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(ii.b)(this,void 0,void 0,function(){var t;return Object(ii.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),yd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new vd,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(ii.c)(e,t),e.prototype.b_=function(){return this.Lf||bd(this),this.Lf.terminate()},e}(_f);function md(t){return t.Lf||bd(t),t.Lf.df(),t.Lf}function bd(t){var e=t.p_(),n=function(t,e,n){return new Si(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new id(t.m_,t.Mf,n)}function wd(t,e,n){var r=this,i=new Qu;return t.fs.enqueue(function(){return Object(ii.b)(r,void 0,void 0,function(){var r;return Object(ii.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,od(t,n)];case 1:return o.sent(),[4,sd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===wi.FAILED_PRECONDITION||t.code===wi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function _d(t){if(t.R_||t.P_)throw new _i(wi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Od=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),ro(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ji(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Xi(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw hi()}},t.prototype.jf=function(t,e){var n=this,r={};return Bi(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Cf(Ji(t.latitude),Ji(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Yi(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Qi(t));default:return null}},t.prototype.Bf=function(t){var e=Wi(t);return new Li(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Vi.ct(t);fi(Yu(n));var r=new ji(n.get(1),n.get(3)),i=new qi(n.X(5));return r.isEqual(e)||ai("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Ed=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Of(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Td(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Id("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ed);function Id(t,e){return"string"==typeof e?Qf(t,e):e instanceof Ei?e._.d_:e.d_}function xd(t){if(Wo(t)&&0===t.Nt.length)throw new _i(wi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sd=function(){};function jd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Cd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(ii.c)(e,t),e.prototype.Yf=function(t){var e=Lf(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new _i(wi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ld(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(Pd(r,t,l[c]));u={arrayValue:{values:a}}}else u=Pd(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ld(s,o),u=Kf(n,"where",s,"in"===o||"not-in"===o);var h=Co.create(i,o,u);return function(t,e){if(e.xt()){var n=Xo(t);if(null!==n&&!n.isEqual(e.field))throw new _i(wi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Jo(t);null!==r&&Ud(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new _i(wi.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Ef(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Bo(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Sd),Ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(ii.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new _i(wi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new _i(wi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fo(e,n);return function(t,e){if(null===Jo(t)){var n=Xo(t);null!==n&&Ud(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Ef(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Bo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Sd),kd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(ii.c)(e,t),e.prototype.Yf=function(t){return new Ef(t.firestore,t.v_,ts(t.C_,this.nd,this.sd))},e}(Sd),Nd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(ii.c)(e,t),e.prototype.Yf=function(t){var e=Dd(t,this.type,this.rd,this.od);return new Ef(t.firestore,t.v_,function(t,e){return new Bo(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Sd),Rd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(ii.c)(e,t),e.prototype.Yf=function(t){var e=Dd(t,this.type,this.rd,this.od);return new Ef(t.firestore,t.v_,function(t,e){return new Bo(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Sd);function Dd(t,e,n,r){if(n[0]instanceof Ei&&(n[0]=n[0]._),n[0]instanceof Ed)return function(t,e,n,r,i){if(!r)throw new _i(wi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Yo(t);s<u.length;s++){var a=u[s];if(a.field.ht())o.push(lo(e,r.key));else{var c=r.field(a.field);if(Zi(c))throw new _i(wi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.ot();throw new _i(wi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Mo(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Lf(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new _i(wi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ht()){if("string"!=typeof c)throw new _i(wi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Zo(t)&&-1!==c.indexOf("/"))throw new _i(wi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Vi.ct(c));if(!qi.Et(l))throw new _i(wi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new qi(l);u.push(lo(e,h))}else{var f=Kf(n,r,c);u.push(f)}}return new Mo(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Pd(t,e,n){if(n instanceof Ei&&(n=n._),"string"==typeof n){if(""===n)throw new _i(wi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zo(e)&&-1!==n.indexOf("/"))throw new _i(wi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Vi.ct(n));if(!qi.Et(r))throw new _i(wi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return lo(t,new qi(r))}if(n instanceof Of)return lo(t,n.S_);throw new _i(wi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+vf(n)+".")}function Ld(t,e){if(!Array.isArray(t)||0===t.length)throw new _i(wi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new _i(wi.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ud(t,e,n){if(!n.isEqual(e))throw new _i(wi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Md(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Vd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Fd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ii.c)(e,t),e.prototype.Uf=function(t){return new Oi(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Of(this.firestore,null,e)},e}(Od),Hd=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),qd=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).zf=e,u.ad=e,u.metadata=o,u}return Object(ii.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new zd(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Id("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Ed),zd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(qd),Bd=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Hd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new zd(n.zf,n.Hf,r.key,r,new Hd(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new _i(wi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new zd(t.zf,t.Hf,e.doc.key,e.doc,new Hd(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new zd(t.zf,t.Hf,e.doc.key,e.doc,new Hd(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Gd(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function Gd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hi()}}function Kd(t,e){return t instanceof qd&&e instanceof qd?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Bd&&e instanceof Bd&&t.zf===e.zf&&jf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var $d=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ii.c)(e,t),e.prototype.Uf=function(t){return new Oi(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Of(this.firestore,null,e)},e}(Od);function Wd(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=yf(t,Of);var o=yf(t.firestore,yd),s=Lf(o);return e instanceof Ei&&(e=e._),Xd(o,[("string"==typeof e||e instanceof cf?Gf(s,"updateDoc",t.S_,e,n,r):Bf(s,"updateDoc",t.S_,e)).F_(t.S_,Is.exists(!0))])}function Jd(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ei&&(t=t._);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Md(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Md(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Of)c=yf(t.firestore,yd),l=Ko(t.S_.path),a={next:function(e){i[u]&&i[u](Zd(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=yf(t,Ef);c=yf(d.firestore,yd),l=d.C_;var p=new $d(c);a={next:function(t){i[u]&&i[u](new Bd(c,p,d,t))},error:i[u+1],complete:i[u+2]},xd(t.C_)}return function(t,e,n,r){var i=this,o=new af(r),s=new yh(e,o,n);return t.fs.ys(function(){return Object(ii.b)(i,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return e=fh,[4,dd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(ii.b)(i,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return e=dh,[4,dd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(md(c),l,h,a)}function Xd(t,e){return function(t,e){var n=this,r=new Qu;return t.fs.ys(function(){return Object(ii.b)(n,void 0,void 0,function(){var n;return Object(ii.d)(this,function(i){switch(i.label){case 0:return n=Ch,[4,fd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(md(t),e)}function Zd(t,e,n){var r=n.docs.get(e.S_),i=new $d(t);return new qd(t,i,e.S_,r,new Hd(n.hasPendingWrites,n.fromCache),e.v_)}var Yd=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Lf(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Qd(t,this.zf),i=Vd(r.v_,e,n),o=Uf(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Is.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=Qd(t,this.zf);return e instanceof Ei&&(e=e._),o="string"==typeof e||e instanceof cf?Gf(this.wd,"WriteBatch.update",s.S_,e,n,r):Bf(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,Is.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Qd(t,this.zf);return this.fd=this.fd.concat(new Hs(e.S_,Is.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new _i(wi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Qd(t,e){if(t instanceof Ei&&(t=t._),t.firestore!==e)throw new _i(wi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var tp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(ii.c)(e,t),e.prototype.get=function(e){var n=this,r=Qd(e,this.zf),i=new $d(this.zf);return t.prototype.get.call(this,e).then(function(t){return new qd(n.zf,i,r.S_,t.Jf,new Hd(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Lf(t)}return t.prototype.get=function(t){var e=this,n=Qd(t,this.zf),r=new Fd(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return hi();var i=t[0];if(i instanceof Oo)return new Ed(e.zf,r,n.S_,null,n.v_);if(i instanceof _o)return new Ed(e.zf,r,i.key,i,n.v_);throw hi()})},t.prototype.set=function(t,e,n){var r=Qd(t,this.zf),i=Vd(r.v_,e,n),o=Uf(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Qd(t,this.zf);return e instanceof Ei&&(e=e._),o="string"==typeof e||e instanceof cf?Gf(this.wd,"Transaction.update",s.S_,e,n,r):Bf(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=Qd(t,this.zf);return this.Td.delete(e.S_),this},t}()),ep=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_d(t=yf(t,yd));var n=md(t),r=t.p_(),i=new uf;return wd(n,i,new of(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_d(t=yf(t,yd));var e=md(t),n=t.p_(),r=new uf;return wd(e,r,new sf(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new _i(wi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Qu;return t.Mf.Tf(function(){return Object(ii.b)(e,void 0,void 0,function(){var e;return Object(ii.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ii.b)(this,void 0,void 0,function(){return Object(ii.d)(this,function(e){switch(e.label){case 0:return na.Wn()?[4,na.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Uc(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),np=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ji||(i.md=e),i}return Object(ii.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=yf(t,_f)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&ci("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(ii.b)(e,void 0,void 0,function(){var e,n;return Object(ii.d)(this,function(r){switch(r.label){case 0:return[4,cd(t)];case 1:return e=r.sent(),[4,hd(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=di(t);return e.Fh.delete(0),Vl(e)}(n))]}})})})}(md(yf(this._,yd)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(ii.b)(e,void 0,void 0,function(){var e,n;return Object(ii.d)(this,function(r){switch(r.label){case 0:return[4,cd(t)];case 1:return e=r.sent(),[4,hd(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(ii.b)(this,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return(e=di(t)).Fh.add(0),[4,Fl(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(md(yf(this._,yd)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&df("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.md&&(this.md._removeServiceInstance("firestore"),this.md._removeServiceInstance("firestore-exp")),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Qu;return t.fs.ys(function(){return Object(ii.b)(e,void 0,void 0,function(){var e;return Object(ii.d)(this,function(r){switch(r.label){case 0:return e=Ph,[4,fd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(md(yf(this._,yd)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new af(e);return t.fs.ys(function(){return Object(ii.b)(n,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){di(t).jh.add(e),e.next()},[4,dd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(ii.b)(n,void 0,void 0,function(){var e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){di(t).jh.delete(e)},[4,dd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(md(t=yf(t,yd)),Md(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new _i(wi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new vp(this,If(this._,t))}catch(t){throw ap(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new up(this,xf(this._,t))}catch(t){throw ap(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new dp(this,function(t,e){if(t=yf(t,_f),hf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _i(wi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ef(t,null,function(t){return new Bo(Vi.at(),t)}(e))}(this._,t))}catch(t){throw ap(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Qu;return t.fs.ys(function(){return Object(ii.b)(n,void 0,void 0,function(){var n;return Object(ii.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return ad(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new rd(t.fs,n,e,r).run(),[2]}})})}),r.promise}(md(t),function(n){return e(new tp(t,n))})}(this._,function(n){return t(new ip(e,n))})},e.prototype.batch=function(){var t=this;return md(this._),new op(new Yd(this._,function(e){return Xd(t._,e)}))},e.prototype.loadBundle=function(t){throw new _i(wi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new _i(wi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ei),rp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ii.c)(e,t),e.prototype.Uf=function(t){return new xi(new Oi(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return up.Ad(e,this.firestore,null)},e}(Od),ip=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new rp(e),r}return Object(ii.c)(e,t),e.prototype.get=function(t){var e=this,n=yp(t);return this._.get(n).then(function(t){return new hp(e.zf,new qd(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=yp(t);return n?(ff("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=yp(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(ii.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=yp(t);return this._.delete(e),this},e}(Ei),op=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.prototype.set=function(t,e,n){var r=yp(t);return n?(ff("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=yp(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(ii.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=yp(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Ei),sp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).zf=e,i.Hf=n,i}return Object(ii.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new zd(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null);return this._.fromFirestore(new fp(this.zf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},e.Rd=function(t,n){var r=e.Pd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new rp(t),n),i.set(n,o)),o},e}(Ei);sp.Pd=new WeakMap;var up=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new rp(e),r}return Object(ii.c)(e,t),e.yd=function(t,n,r){if(t.length%2!=0)throw new _i(wi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Of(n._,r,new qi(t)))},e.Ad=function(t,n,r){return new e(n,new Of(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new vp(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new vp(this.firestore,If(this._,t))}catch(t){throw ap(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ei&&(t=t._),t instanceof Of&&Sf(this._,t)},e.prototype.set=function(t,e){e=ff("DocumentReference.set",e);try{return function(t,e,n){t=yf(t,Of);var r=yf(t.firestore,yd),i=Vd(t.v_,e,n);return Xd(r,[Uf(Lf(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Is.Wt())])}(this._,t,e)}catch(t){throw ap(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Wd(this._,t):Wd.apply(void 0,Object(ii.g)([this._,t,e],n))}catch(t){throw ap(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Xd(yf((t=this._).firestore,yd),[new Hs(t.S_,Is.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=cp(e),i=lp(e,function(e){return new hp(t.firestore,new qd(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return Jd(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=yf(t,Of);var e=yf(t.firestore,yd),n=md(e),r=new $d(e);return function(t,e){var n=this,r=new Qu;return t.fs.ys(function(){return Object(ii.b)(n,void 0,void 0,function(){var n;return Object(ii.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i;return Object(ii.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=di(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof _o?n.resolve(i):i instanceof Oo?n.resolve(null):n.reject(new _i(wi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ha(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,ld(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new qd(e,r,t.S_,n,new Hd(n instanceof _o&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=yf(t,Of);var e=yf(t.firestore,yd);return pd(md(e),t.S_,{source:"server"}).then(function(n){return Zd(e,t,n)})}(this._):function(t){t=yf(t,Of);var e=yf(t.firestore,yd);return pd(md(e),t.S_).then(function(n){return Zd(e,t,n)})}(this._)).then(function(t){return new hp(e.firestore,new qd(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(sp.Rd(this.firestore,t)))},e}(Ei);function ap(t,e,n){return t.message=t.message.replace(e,n),t}function cp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Md(r))return r}return{}}function lp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Md(t[0])?t[0]:Md(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(ii.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new up(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Kd(this._,t._)},e}(Ei),fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(hp),dp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new rp(e),r}return Object(ii.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,jd(this._,function(t,e,n){var r=e,i=Id("where",t);return new Cd(i,r,n)}(t,n,r)))}catch(t){throw ap(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,jd(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Id("orderBy",t);return new Ad(r,n)}(t,n)))}catch(t){throw ap(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,jd(this._,function(t){return mf("limit",t),new kd("limit",t,"F")}(t)))}catch(t){throw ap(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,jd(this._,function(t){return mf("limitToLast",t),new kd("limitToLast",t,"L")}(t)))}catch(t){throw ap(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Nd("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw ap(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Nd("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw ap(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Rd("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw ap(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Rd("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw ap(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return jf(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=yf(t,Ef);var e=yf(t.firestore,yd),n=md(e),r=new $d(e);return function(t,e){var n=this,r=new Qu;return t.fs.ys(function(){return Object(ii.b)(n,void 0,void 0,function(){var n;return Object(ii.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(ii.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Yc(t,e,!0)];case 1:return u=a.sent(),r=new Oh(e,u.Pc),i=r.dl(u.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=ha(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,ld(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Bd(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=yf(t,Ef);var e=yf(t.firestore,yd),n=md(e),r=new $d(e);return gd(n,t.C_,{source:"server"}).then(function(n){return new Bd(e,r,t,n)})}(this._):function(t){t=yf(t,Ef);var e=yf(t.firestore,yd),n=md(e),r=new $d(e);return xd(t.C_),gd(n,t.C_).then(function(n){return new Bd(e,r,t,n)})}(this._)).then(function(t){return new gp(e.firestore,new Bd(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=cp(e),i=lp(e,function(e){return new gp(t.firestore,new Bd(t.firestore._,t.Hf,t._,e.ud))});return Jd(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(sp.Rd(this.firestore,t)))},e}(Ei),pp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(ii.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new fp(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Ei),gp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(ii.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new dp(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new fp(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new pp(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new fp(n.zf,r))})},e.prototype.isEqual=function(t){return Kd(this._,t._)},e}(Ei),vp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(ii.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new up(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new up(this.firestore,void 0===t?xf(this._):xf(this._,t))}catch(t){throw ap(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=yf(t.firestore,yd),r=xf(t),i=Vd(t.v_,e);return Xd(n,[Uf(Lf(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Is.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new up(e.firestore,t)})},e.prototype.isEqual=function(t){return Sf(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(sp.Rd(this.firestore,t)))},e}(dp);function yp(t){return t instanceof Ei&&(t=t._),yf(t,Of)}var mp=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(cf.bind.apply(cf,Object(ii.g)([void 0],e))))||this}return Object(ii.c)(e,t),e.documentId=function(){return new e(Hi.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Ei&&(t=t._),t instanceof cf&&this._.d_.isEqual(t.d_)},e}(Ei),bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ii.c)(e,t),e.serverTimestamp=function(){var t=new Ff("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Mf("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hf("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qf("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new zf("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Ei);!function(){function t(){this.gd={},this.Vd=new Qu,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Vd.promise.catch(t)},t.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},t.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},t.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)}}();var wp,_p=n("/6Yf"),Op={Firestore:np,GeoPoint:Cf,Timestamp:Li,Blob:xi,Transaction:ip,WriteBatch:op,DocumentReference:up,DocumentSnapshot:hp,Query:dp,QueryDocumentSnapshot:fp,QuerySnapshot:gp,CollectionReference:vp,FieldPath:mp,FieldValue:bp,setLogLevel:function(t){oi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new _p.a("firestore",function(t){return function(t,e){return new np(t,new yd(t,e),new ep)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Op)))})(wp=Q.a),wp.registerVersion("@firebase/firestore","2.1.4");var Ep=n("XNiG"),Tp=n("VRyK"),Ip=n("eIep"),xp=n("qgXg"),Sp=n("quSY"),jp=n("9ppp"),Cp=n("Ylt2");class Ap extends Ep.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new kp(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new jp.a;if(this.isStopped||this.hasError?o=Sp.a.EMPTY:(this.observers.push(t),o=new Cp.a(this,t)),r&&t.add(t=new Z.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||xp.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class kp{constructor(t,e){this.time=t,this.value=e}}function Np(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new Ap(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}var Rp=n("SxV6");function Dp(t,e){return e?Object(Ip.a)(()=>t,e):Object(Ip.a)(()=>t)}var Pp=n("tf+s");const Lp=new i.r("angularfire2.auth.use-emulator"),Up=new i.r("angularfire2.auth.settings"),Mp=new i.r("angularfire2.auth.tenant-id"),Vp=new i.r("angularfire2.auth.langugage-code"),Fp=new i.r("angularfire2.auth.use-device-language"),Hp=new i.r("angularfire.auth.persistence");let qp=(()=>{class t{constructor(t,e,i,o,s,u,a,c,l,h){const f=new L.d(o),d=Object(L.h)(f),p=new Ep.a,g=Object(F.a)(void 0).pipe(Object(Z.b)(f.outsideAngular),Object(Ip.a)(()=>o.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(K.a)(()=>Object(L.g)(t,o,e)),Object(K.a)(t=>o.runOutsideAngular(()=>{const e=s,n=u;return Object(L.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=o.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r},[e,a,c,l,n,h])})),Np({bufferSize:1,refCount:!1}));if(Object(r.n)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(F.a)(null);else{g.pipe(Object(Rp.a)()).subscribe();const t=g.pipe(Object(Ip.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Np({bufferSize:1,refCount:!1})),e=t=>new M.a(e=>({unsubscribe:o.runOutsideAngular(()=>t(e))})),n=g.pipe(Object(Ip.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=g.pipe(Object(Ip.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Dp(n),Object(Pp.a)(f.outsideAngular),Object(Z.b)(f.insideAngular)),this.user=t.pipe(Dp(r),Object(Pp.a)(f.outsideAngular),Object(Z.b)(f.insideAngular)),this.idToken=this.user.pipe(Object(Ip.a)(t=>t?Object(V.a)(t.getIdToken()):Object(F.a)(null))),this.idTokenResult=this.user.pipe(Object(Ip.a)(t=>t?Object(V.a)(t.getIdTokenResult()):Object(F.a)(null))),this.credential=Object(Tp.a)(t,p,this.authState.pipe(Object(X.a)(t=>!t))).pipe(Object(K.a)(t=>(null==t?void 0:t.user)?t:null),Object(Pp.a)(f.outsideAngular),Object(Z.b)(f.insideAngular))}return Object(L.i)(this,g,o,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>p.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(L.c),i.Ob(L.b,8),i.Ob(i.C),i.Ob(i.A),i.Ob(Lp,8),i.Ob(Up,8),i.Ob(Mp,8),i.Ob(Vp,8),i.Ob(Fp,8),i.Ob(Hp,8))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Ob)(L.c),Object(i.Ob)(L.b,8),Object(i.Ob)(i.C),Object(i.Ob)(i.A),Object(i.Ob)(Lp,8),Object(i.Ob)(Up,8),Object(i.Ob)(Mp,8),Object(i.Ob)(Vp,8),Object(i.Ob)(Fp,8),Object(i.Ob)(Hp,8))},token:t,providedIn:"any"}),t})();Object(L.e)(qp,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let zp=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[qp]}),t})();function Bp(t,e){return function(t,e=U.b){return new M.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Gp(t,e){return Bp(t,e).pipe(Object(K.a)(t=>({payload:t,type:"query"})))}function Kp(t,e){return Gp(t,e).pipe(Object(H.a)(void 0),z(),Object(K.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function $p(t,e,n){return Kp(t,n).pipe(Object($.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Wp(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Wp(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Wp(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new W(void 0,void 0)),Object(K.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Wp(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Jp(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Xp{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Kp(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(K.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(H.a)(void 0),z(),Object(X.a)(([t,e])=>e.length>0||!t),Object(K.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object($.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Jp(t);return $p(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Gp(this.query,this.afs.schedulers.outsideAngular).pipe(Object(K.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(V.a)(this.query.get(t)).pipe(Object(Z.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Zp(this.ref.doc(t),this.afs)}}class Zp{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=rg(n,e);return new Xp(r,i,this.afs)}snapshotChanges(){return Bp(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(H.a)(void 0),z(),Object(K.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(K.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(V.a)(this.ref.get(t)).pipe(Object(Z.b)(this.afs.schedulers.insideAngular))}}class Yp{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Kp(this.query,this.afs.schedulers.outsideAngular).pipe(Object(K.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(X.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Kp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object($.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Jp(t);return $p(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Gp(this.query,this.afs.schedulers.outsideAngular).pipe(Object(K.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(V.a)(this.query.get(t)).pipe(Object(Z.b)(this.afs.schedulers.insideAngular))}}const Qp=new i.r("angularfire2.enableFirestorePersistence"),tg=new i.r("angularfire2.firestore.persistenceSettings"),eg=new i.r("angularfire2.firestore.settings"),ng=new i.r("angularfire2.firestore.use-emulator");function rg(t,e=(t=>t)){return{query:e(t),ref:t}}let ig=(()=>{class t{constructor(t,e,n,i,o,s,u,a,c){this.schedulers=new L.d(s),this.keepUnstableUntilFirst=Object(L.h)(this.schedulers);const l=Object(L.g)(t,s,e);!Y.a.auth&&c&&Object(L.j)();const h=a;[this.firestore,this.persistenceEnabled$]=Object(L.f)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(i&&t.settings(i),h&&t.useEmulator(...h),n&&!Object(r.n)(o)){const e=()=>{try{return Object(V.a)(t.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(wp){return"undefined"!=typeof console&&console.warn(wp),Object(F.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(F.a)(!1)]},[i,h,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=rg(n,e),o=this.schedulers.ngZone.run(()=>r);return new Xp(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Yp(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Zp(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(L.c),i.Ob(L.b,8),i.Ob(Qp,8),i.Ob(eg,8),i.Ob(i.C),i.Ob(i.A),i.Ob(tg,8),i.Ob(ng,8),i.Ob(Lp,8))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Ob)(L.c),Object(i.Ob)(L.b,8),Object(i.Ob)(Qp,8),Object(i.Ob)(eg,8),Object(i.Ob)(i.C),Object(i.Ob)(i.A),Object(i.Ob)(tg,8),Object(i.Ob)(ng,8),Object(i.Ob)(Lp,8))},token:t,providedIn:"any"}),t})(),og=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Qp,useValue:!0},{provide:tg,useValue:e}]}}}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[ig]}),t})();class sg{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ug(t,this.dueTime,this.scheduler))}}class ug extends q.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ag,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ag(t){t.debouncedNext()}var cg=function(t){function e(n,r){var i=t.call(this,lg(n),"Firebase Storage: "+r+" ("+lg(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(ii.c)(e,t),e.prototype.codeEquals=function(t){return lg(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(et.c);function lg(t){return"storage/"+t}function hg(){return new cg("unknown","An unknown error occurred, please check the error payload for server response.")}function fg(){return new cg("canceled","User canceled the upload/download.")}function dg(){return new cg("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function pg(t){return new cg("invalid-argument",t)}function gg(){return new cg("app-deleted","The Firebase app was deleted.")}function vg(t){return new cg("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yg(t,e){return new cg("invalid-format","String does not match format '"+t+"': "+e)}function mg(t){throw new cg("internal-error","Internal error: "+t)}var bg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},wg=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function _g(t,e){switch(t){case bg.RAW:return new wg(Og(e));case bg.BASE64:case bg.BASE64URL:return new wg(Eg(t,e));case bg.DATA_URL:return new wg((n=new Tg(e)).base64?Eg(bg.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(wp){throw yg(bg.DATA_URL,"Malformed data URL.")}return Og(e)}(n.rest),new Tg(e).contentType)}var n;throw hg()}function Og(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Eg(t,e){switch(t){case bg.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw yg(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case bg.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw yg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(wp){throw yg(t,"Invalid character found")}for(var u=new Uint8Array(s.length),a=0;a<s.length;a++)u[a]=s.charCodeAt(a);return u}var Tg=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw yg(bg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),Ig={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xg(t){switch(t){case"running":case"pausing":case"canceling":return Ig.RUNNING;case"paused":return Ig.PAUSED;case"success":return Ig.SUCCESS;case"canceled":return Ig.CANCELED;case"error":default:return Ig.ERROR}}var Sg=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),jg=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Sg.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Sg.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Sg.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw mg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw mg("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw mg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(wp){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw mg("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Cg=function(){function t(){}return t.prototype.createXhrIo=function(){return new jg},t}();function Ag(t){return"string"==typeof t||t instanceof String}function kg(t){return Ng()&&t instanceof Blob}function Ng(){return"undefined"!=typeof Blob}function Rg(t,e,n,r){if(r<e)throw new cg("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new cg("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}function Dg(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Pg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Dg();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Ng())return new Blob(t);throw new cg("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Lg=function(){function t(t,e){var n=0,r="";kg(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(kg(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Ng()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(Pg.apply(null,r))}var i=e.map(function(t){return Ag(t)?_g(bg.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),u=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[u++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Ug=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(wp){return new t(e,"")}if(""===n.path)return n;throw new cg("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],u=0;u<s.length;u++){var a=s[u],c=a.regex.exec(e);if(c){var l=c[a.indices.path];l||(l=""),n=new t(c[a.indices.bucket],l),a.postModify(n);break}}if(null==n)throw function(t){return new cg("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function Mg(t){var e,n;try{e=JSON.parse(t)}catch(wp){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function Vg(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Fg(t){return"https://firebasestorage.googleapis.com/v0"+t}function Hg(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function qg(t,e){return e}var zg=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||qg}}(),Bg=null;function Gg(){if(Bg)return Bg;var t=[];t.push(new zg("bucket")),t.push(new zg("generation")),t.push(new zg("metageneration")),t.push(new zg("name","fullPath",!0));var e=new zg("name");e.xform=function(t,e){return function(t){return!Ag(t)||t.length<2?t:Vg(t)}(e)},t.push(e);var n=new zg("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new zg("timeCreated")),t.push(new zg("updated")),t.push(new zg("md5Hash",null,!0)),t.push(new zg("cacheControl",null,!0)),t.push(new zg("contentDisposition",null,!0)),t.push(new zg("contentEncoding",null,!0)),t.push(new zg("contentLanguage",null,!0)),t.push(new zg("contentType",null,!0)),t.push(new zg("metadata","customMetadata",!0)),Bg=t}function Kg(t,e,n){var r=Mg(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Ug(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function $g(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Wg=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Jg(t){if(!t)throw hg()}function Xg(t,e){return function(n,r){var i=Kg(t,r,e);return Jg(null!==i),i}}function Zg(t){return function(e,n){var r;return(r=401===e.getStatus()?new cg("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new cg("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new cg("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Yg(t){var e=Zg(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new cg("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Qg(t,e,n){var r=Fg(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Wg(r,"GET",Xg(t,n),i);return o.errorHandler=Yg(e),o}function tv(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var ev=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function nv(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(wp){Jg(!1)}return Jg(!!n&&-1!==(e||["active"]).indexOf(n)),n}var rv=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),iv=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function ov(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var sv=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Gg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=tv(e,r,i),u={name:s.fullPath},a=Fg(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=$g(s,n),h=new Wg(a,"POST",function(t){var e;nv(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(wp){Jg(!1)}return Jg(Ag(e)),e},t.maxUploadRetryTime);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=Zg(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new Wg(n,"POST",function(t){var e=nv(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(wp){Jg(!1)}n||Jg(!1);var i=Number(n);return Jg(!isNaN(i)),new ev(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Zg(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new ev(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,u){var a=new ev(0,0);if(s?(a.current=s.current,a.total=s.total):(a.current=0,a.total=r.size()),r.size()!==a.total)throw new cg("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=a.total-a.current,l=c;i>0&&(l=Math.min(l,i));var h=a.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},d=r.slice(h,h+l);if(null===d)throw dg();var p=new Wg(n,"POST",function(t,n){var i,s=nv(t,["active","final"]),u=a.current+l,c=r.size();return i="final"===s?Xg(e,o)(t,n):null,new ev(u,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=u||null,p.errorHandler=Zg(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(wp){return t._error=wp,void t._transition("error")}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=Qg(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+u;var a=tv(e,r,i),c=$g(a,n),l=Lg.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+u+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===l)throw dg();var h={name:a.fullPath},f=Fg(o),d=t.maxUploadRetryTime,p=new Wg(f,"POST",Xg(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Zg(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=fg(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=xg(this._state);return new iv(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new rv(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(xg(this._state)){case Ig.SUCCESS:ov(this._resolve.bind(null,this.snapshot))();break;case Ig.CANCELED:case Ig.ERROR:ov(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(xg(this._state)){case Ig.RUNNING:case Ig.PAUSED:t.next&&ov(t.next.bind(t,this.snapshot))();break;case Ig.SUCCESS:t.complete&&ov(t.complete.bind(t))();break;case Ig.CANCELED:case Ig.ERROR:t.error&&ov(t.error.bind(t,this._error))();break;default:t.error&&ov(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),uv=function(){function t(t,e){this._service=t,this._location=e instanceof Ug?e:Ug.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Ug(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Vg(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Ug(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw vg(t)},t}();function av(t){var e={prefixes:[],items:[]};return cv(t,e).then(function(){return e})}function cv(t,e,n){return Object(ii.b)(this,void 0,void 0,function(){var r,i,o;return Object(ii.d)(this,function(s){switch(s.label){case 0:return[4,lv(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,cv(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function lv(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(ii.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Rg("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Fg(e.bucketOnlyServerUrl()),u=t.maxOperationRetryTime,a=new Wg(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Mg(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),u=t.makeStorageReference(new Ug(e,s));r.prefixes.push(u)}if(n.items)for(var a=0,c=n.items;a<c.length;a++)u=t.makeStorageReference(new Ug(e,c[a].name)),r.items.push(u);return r}(t,e,r)}(t,e,r);return Jg(null!==i),i}}(t,e.bucket),u);return a.urlParams=o,a.errorHandler=Zg(e),a}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function hv(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Ug(t._location.bucket,n);return new uv(t.storage,r)}var fv=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),dv=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new fv(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new fv(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new fv(t,i,i._ref))}:{next:e.next?function(t){return e.next(new fv(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),pv=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new gv(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new gv(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),gv=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(hv(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new dv(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new sv(t,new Lg(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=bg.RAW),this._throwIfRoot("putString"),new dv(function(t,e,n,r){void 0===n&&(n=bg.RAW),t._throwIfRoot("putString");var i=_g(n,e),o=Object(ii.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new sv(t,new Lg(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return av(this._delegate).then(function(e){return new pv(e,t.storage)})},t.prototype.list=function(t){var e=this;return lv(this._delegate,t).then(function(t){return new pv(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(ii.b)(this,void 0,void 0,function(){var e,n;return Object(ii.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=Qg(t.storage,t._location,Gg()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(ii.b)(this,void 0,void 0,function(){var n,r;return Object(ii.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Fg(e.fullServerUrl()),o=$g(n,r),s=t.maxOperationRetryTime,u=new Wg(i,"PATCH",Xg(t,r),s);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=o,u.errorHandler=Yg(e),u}(t.storage,t._location,e,Gg()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(ii.b)(this,void 0,void 0,function(){var e,n;return Object(ii.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Fg(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Wg(r,"GET",function(t,e){return function(n,r){var i=Kg(t,r,e);return Jg(null!==i),function(t,e){var n=Mg(e);if(null===n)return null;if(!Ag(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return Fg("/b/"+i(t.bucket)+"/o/"+i(n))+Hg({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=Yg(e),o}(t.storage,t._location,Gg()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new cg("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(ii.b)(this,void 0,void 0,function(){var e,n;return Object(ii.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Fg(e.fullServerUrl()),r=new Wg(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Yg(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw vg(t)},t}(),vv=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),yv=function(){function t(t,e,n,r,i,o,s,u,a,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=u,this.progressCallback_=c,this.timeout_=a,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=t.callback_(s,s.getResponseText());void 0!==u?i(u):i()}catch(wp){o(wp)}else null!==s?((r=hg()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?gg():fg():new cg("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new mv(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,u=0;function a(){return 2===u}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new mv(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Sg.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new mv(s,n))}else{var u=n.getErrorCode()===Sg.ABORT;e(!1,new mv(!1,null,u))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,a())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(ii.g)([null,t],e));else{var r;a()||s?l.call.apply(l,Object(ii.g)([null,t],e)):(i<64&&(i*=2),1===u?(u=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(u=2),clearTimeout(o),h(0)):t||(u=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),mv=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function bv(t){return/^[A-Za-z]+:\/\//.test(t)}function wv(t,e){if(t instanceof Tv){var n=t;if(null==n._bucket)throw new cg("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new uv(n,n._bucket);return null!=e?wv(r,e):r}if(void 0!==e){if(e.includes(".."))throw pg('`path` param cannot contain ".."');return hv(t,e)}return t}function _v(t,e){if(e&&bv(e)){if(t instanceof Tv)return new uv(t,e);throw pg("To use ref(service, url), the first argument must be a Storage instance.")}return wv(t,e)}var Ov,Ev,Tv=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ug.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:Ug.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Rg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Rg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(ii.b)(this,void 0,void 0,function(){var t,e;return Object(ii.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new uv(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new vv(gg());var r=function(t,e,n,r){var i=Hg(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Q.a?Q.a.SDK_VERSION:"AppManager")}(s),new yv(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),Iv=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(bv(t))throw pg("ref() expected a child path but got a URL, use refFromURL instead.");return new gv(_v(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!bv(t))throw pg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ug.makeFromUrl(t)}catch(wp){throw pg("refFromUrl() expected a valid full URL but got an invalid one.")}return new gv(_v(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function xv(t){const e=function(t){return new M.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=U.a){return n=>n.lift(new sg(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(K.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function Sv(t,e,n){return{getDownloadURL:()=>Object(F.a)(void 0).pipe(Object(Z.b)(e.outsideAngular),Object(Ip.a)(()=>t.getDownloadURL()),n),getMetadata:()=>Object(F.a)(void 0).pipe(Object(Z.b)(e.outsideAngular),Object(Ip.a)(()=>t.getMetadata()),n),delete:()=>Object(V.a)(t.delete()),child:r=>Sv(t.child(r),e,n),updateMetadata:e=>Object(V.a)(t.updateMetadata(e)),put:(e,n)=>xv(t.put(e,n)),putString:(e,n,r)=>xv(t.putString(e,n,r)),listAll:()=>Object(V.a)(t.listAll())}}Ev={TaskState:Ig,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:bg,Storage:Tv,Reference:gv},(Ov=Q.a).INTERNAL.registerComponent(new _p.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Iv(n,new Tv(n,r,new Cg,e))},"PUBLIC").setServiceProps(Ev).setMultipleInstances(!0)),Ov.registerVersion("@firebase/storage","0.4.2");const jv=new i.r("angularfire2.storageBucket"),Cv=new i.r("angularfire2.storage.maxUploadRetryTime"),Av=new i.r("angularfire2.storage.maxOperationRetryTime");let kv=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new L.d(i),this.keepUnstableUntilFirst=Object(L.h)(this.schedulers);const u=Object(L.g)(t,i,e);this.storage=Object(L.f)(`${u.name}.storage.${n}`,"AngularFireStorage",u,()=>{const t=i.runOutsideAngular(()=>u.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return Sv(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return Sv(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return Sv(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(L.c),i.Ob(L.b,8),i.Ob(jv,8),i.Ob(i.C),i.Ob(i.A),i.Ob(Cv,8),i.Ob(Av,8))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Ob)(L.c),Object(i.Ob)(L.b,8),Object(i.Ob)(jv,8),Object(i.Ob)(i.C),Object(i.Ob)(i.A),Object(i.Ob)(Cv,8),Object(i.Ob)(Av,8))},token:t,providedIn:"any"}),t})(),Nv=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})(),Rv=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[kv],imports:[Nv]}),t})();var Dv=n("tyNb");let Pv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["ms-cart"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Lb(0,"p"),i.ec(1,"cart works!"),i.Kb())},styles:[""],changeDetection:0}),t})(),Lv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["app-checkout"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Lb(0,"p"),i.ec(1,"checkout works!"),i.Kb())},styles:[""]}),t})(),Uv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Lb(0,"p"),i.ec(1,"home works!"),i.Kb())},styles:[""]}),t})(),Mv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["ms-login"]],decls:45,vars:0,consts:[[1,"ms-login","flex","bg-gray-50","font-light"],[1,"flex","w-full","lg:w-1/2","items-center","justify-center"],[1,"max-w-md","space-y-8"],["src","../assets/ms-logo.png","loading","lazy","alt","MexShop","title","MexShop",1,"mx-auto","h-20","w-auto"],[1,"mt-6","text-center","text-3xl","text-gray-900"],[1,"flex","pt-4"],[1,"w-1/3","p-2","mx-2","border","border-solid","border-gray-400","rounded-md"],["src","../assets/img/logos/logo-g.png","loading","lazy","alt","Google Account","title","Google Account",1,"mx-auto","h-12","w-auto"],["action","#","method","POST",1,"space-y-6"],[1,""],["type","hidden","name","remember","value","true"],[1,"rounded-md","shadow-sm","-space-y-px"],["for","email-address",1,"sr-only"],["id","email-address","name","email","type","email","autocomplete","email","required","","placeholder","Email address",1,"appearance-none","rounded-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-t-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm"],["for","password",1,"sr-only"],["id","password","name","password","type","password","autocomplete","current-password","required","","placeholder","Password",1,"appearance-none","rounded-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-b-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["id","remember_me","name","remember_me","type","checkbox",1,"h-4","w-4","text-primary-default","focus:ring-indigo-500","border-gray-300","rounded"],["for","remember_me",1,"ml-2","block","text-sm","text-gray-900"],[1,"text-sm"],["href","#",1,"font-medium","text-indigo-600","hover:text-indigo-500"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-indigo-500","group-hover:text-indigo-400"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],[1,"bg-image","hidden","lg:block","w-1/2","h-full","overflow-hidden","bg-primary-default"]],template:function(t,e){1&t&&(i.Lb(0,"div",0),i.Lb(1,"div",1),i.Lb(2,"div",2),i.Lb(3,"div"),i.Hb(4,"img",3),i.Lb(5,"h2",4),i.ec(6," Sign in to your account "),i.Kb(),i.Kb(),i.Lb(7,"div"),i.Lb(8,"span"),i.ec(9,"Sign in with"),i.Kb(),i.Lb(10,"div",5),i.Lb(11,"div",6),i.ec(12," Facebook "),i.Kb(),i.Lb(13,"div",6),i.Hb(14,"img",7),i.Kb(),i.Lb(15,"div",6),i.ec(16," Twitter "),i.Kb(),i.Kb(),i.Kb(),i.Lb(17,"form",8),i.Lb(18,"span",9),i.ec(19,"Or continue with"),i.Kb(),i.Hb(20,"input",10),i.Lb(21,"div",11),i.Lb(22,"div"),i.Lb(23,"label",12),i.ec(24,"Email address"),i.Kb(),i.Hb(25,"input",13),i.Kb(),i.Lb(26,"div"),i.Lb(27,"label",14),i.ec(28,"Password"),i.Kb(),i.Hb(29,"input",15),i.Kb(),i.Kb(),i.Lb(30,"div",16),i.Lb(31,"div",17),i.Hb(32,"input",18),i.Lb(33,"label",19),i.ec(34," Remember me "),i.Kb(),i.Kb(),i.Lb(35,"div",20),i.Lb(36,"a",21),i.ec(37," Forgot your password? "),i.Kb(),i.Kb(),i.Kb(),i.Lb(38,"div"),i.Lb(39,"button",22),i.Lb(40,"span",23),i.Ub(),i.Lb(41,"svg",24),i.Hb(42,"path",25),i.Kb(),i.Kb(),i.ec(43," Sign in "),i.Kb(),i.Kb(),i.Kb(),i.Kb(),i.Kb(),i.Tb(),i.Hb(44,"div",26),i.Kb())},styles:['.ms-login[_ngcontent-%COMP%]{height:90vh}.bg-image[_ngcontent-%COMP%]{background:url("https://cdn.vox-cdn.com/thumbor/wdyWEHcFb88uZzUUnWEee4g9lGA=/0x0:1024x683/1200x900/filters:focal(431x261:593x423)/cdn.vox-cdn.com/uploads/chorus_image/image/54807847/Borracha_overhead.11.jpg") no-repeat;background-size:cover;-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover}'],changeDetection:0}),t})(),Vv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["app-order-success"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Lb(0,"p"),i.ec(1,"order-success works!"),i.Kb())},styles:[""]}),t})(),Fv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["ms-page-not-found"]],decls:15,vars:0,consts:[[1,"not-found","flex","flex-col","w-full","px-2","sm:px-0","mt-4","md:mt-24","font-extralight","text-lg","md:text-3xl","text-center"],[1,"text-5xl","md:text-8xl","py-3","uppercase"],[1,"py-3"],["routerLink","/"],[1,"py-5","md:pt-10"],["src","../assets/img/icons/donkey.png","loading","lazy","alt","Donkey","title","Pancho",1,"h-20","md:h-36","mx-auto"]],template:function(t,e){1&t&&(i.Lb(0,"div",0),i.Lb(1,"span",1),i.ec(2,"Guacamole!"),i.Kb(),i.Lb(3,"span",2),i.ec(4,"Sorry, looks like something went wrong.."),i.Kb(),i.Lb(5,"span",2),i.ec(6,"The page you where looking for could not be found, "),i.Hb(7,"br"),i.ec(8," probably drank a little too much "),i.Lb(9,"a",3),i.ec(10,"tequila"),i.Kb(),i.Kb(),i.Lb(11,"span",4),i.ec(12,"Hop on on Pancho the donkey to go back to the home page"),i.Kb(),i.Lb(13,"a",3),i.Hb(14,"img",5),i.Kb(),i.Kb())},directives:[Dv.a],styles:[".not-found[_ngcontent-%COMP%]{height:90vh}"],changeDetection:0}),t})();const Hv=[{path:"",component:Uv},{path:"cart",component:Pv},{path:"checkout",component:Lv},{path:"products",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["app-products"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Lb(0,"p"),i.ec(1,"products works!"),i.Kb())},styles:[""]}),t})()},{path:"checkout",component:Lv},{path:"order-success",component:Vv},{path:"login",component:Mv},{path:"admin",loadChildren:()=>Promise.resolve().then(n.bind(null,"xt9q")).then(t=>t.AdminModule)},{path:"user",loadChildren:()=>Promise.resolve().then(n.bind(null,"afOq")).then(t=>t.UserModule)},{path:"**",component:Fv}];let qv=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[Dv.b.forRoot(Hv)],Dv.b]}),t})(),zv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["ms-header-language-selection"]],decls:4,vars:0,consts:[["routerLink","/",1,"flex","items-center","cursor-pointer"],[1,"text-2xs","align-middle","uppercase"],["src","../assets/img/icons/mexican-flag.png","loading","lazy","alt","Espa\xf1ol","title","Select Language",1,"h-6","pl-2"]],template:function(t,e){1&t&&(i.Lb(0,"a",0),i.Lb(1,"span",1),i.ec(2,"ES"),i.Kb(),i.Hb(3,"img",2),i.Kb())},directives:[Dv.a],styles:[""],changeDetection:0}),t})();function Bv(t,e){1&t&&(i.Lb(0,"a",3),i.Lb(1,"span",4),i.ec(2," Log In "),i.Kb(),i.Hb(3,"img",5),i.Kb())}function Gv(t,e){if(1&t&&(i.Lb(0,"a",6),i.Hb(1,"img",7),i.Kb()),2&t){const t=i.Vb();i.xb(1),i.Wb("src",t.isAdmin?"../assets/img/icons/wrestling.png":"../assets/img/icons/mexican-man.png",i.ac)}}function Kv(t,e){1&t&&(i.Jb(0),i.Lb(1,"a",15),i.ec(2,"Products"),i.Kb(),i.Lb(3,"a",16),i.ec(4,"Orders"),i.Kb(),i.Ib())}function $v(t,e){1&t&&(i.Lb(0,"a",15),i.ec(1,"My Profile"),i.Kb(),i.Lb(2,"a",16),i.ec(3,"My Orders"),i.Kb())}function Wv(t,e){if(1&t){const t=i.Mb();i.Lb(0,"div",8),i.Lb(1,"div",9),i.Rb("click",function(){return i.Zb(t),i.Vb().toggleFlyout()}),i.Lb(2,"p",4),i.ec(3," Hello "),i.Lb(4,"span",10),i.ec(5),i.Kb(),i.Kb(),i.Hb(6,"img",7),i.Kb(),i.Lb(7,"nav",11),i.Rb("mouseleave",function(){return i.Zb(t),i.Vb().closeFlyout()}),i.cc(8,Kv,5,0,"ng-container",12),i.cc(9,$v,4,0,"ng-template",null,13,i.dc),i.Lb(11,"button",14),i.Rb("click",function(){return i.Zb(t),i.Vb().signOut()}),i.ec(12," Sign Out "),i.Kb(),i.Kb(),i.Kb()}if(2&t){const t=i.Yb(10),e=i.Vb();i.xb(5),i.fc(e.username),i.xb(1),i.Wb("src",e.isAdmin?"../assets/img/icons/wrestling.png":"../assets/img/icons/mexican-man.png",i.ac),i.xb(1),i.Wb("ngClass",e.isDisplayed?"opacity-100 z-10":"opacity-0 -z-10"),i.xb(1),i.Wb("ngIf",e.isAdmin)("ngIfElse",t)}}let Jv=(()=>{class t{constructor(){this.isDisplayed=!1,this.isAuthenticated=!0,this.username="A.Vargas",this.isAdmin=!1}ngOnInit(){}toggleFlyout(){this.isDisplayed=!this.isDisplayed}closeFlyout(){this.isDisplayed=!1}signOut(){this.isAuthenticated=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["ms-header-user-account"]],decls:3,vars:3,consts:[["routerLink","/login","class","pt-1 flex items-center content-center cursor-pointer",4,"ngIf"],["routerLink","/","class","flex md:hidden items-center cursor-pointer",4,"ngIf"],["class","relative",4,"ngIf"],["routerLink","/login",1,"pt-1","flex","items-center","content-center","cursor-pointer"],[1,"hidden","sm:block","text-2xs","align-middle","uppercase"],["src","../assets/img/icons/user.png","loading","lazy","alt","user","title","UserName",1,"h-6","ml-2"],["routerLink","/",1,"flex","md:hidden","items-center","cursor-pointer"],["loading","lazy","alt","User Icon","title","User Icon",1,"h-8","ml-2",3,"src"],[1,"relative"],[1,"hidden","md:flex","items-center","cursor-pointer",3,"click"],[1,"text-primary-light"],["role","menu","aria-orientation","vertical","aria-labelledby","user-menu",1,"absolute","hidden","md:flex","flex-col","justify-center","origin-top-right","right-0","py-1","w-40","font-light","text-left","border-2","border-solid","border-primary-default","rounded-md","shadow-xl","bg-white",3,"ngClass","mouseleave"],[4,"ngIf","ngIfElse"],["userProfileDropdown",""],[1,"w-2/3","mx-auto","px-4","py-2","my-4","text-sm","text-white","rounded-md","bg-secondary","hover:bg-opacity-60",3,"click"],["href","#","role","menuitem",1,"px-4","py-2","mt-4","text-sm","text-secondary","hover:text-primary-default","uppercase"],["href","#","role","menuitem",1,"px-4","py-2","text-sm","text-secondary","hover:text-primary-default","uppercase"]],template:function(t,e){1&t&&(i.cc(0,Bv,4,0,"a",0),i.cc(1,Gv,2,1,"a",1),i.cc(2,Wv,13,5,"div",2)),2&t&&(i.Wb("ngIf",!e.isAuthenticated),i.xb(1),i.Wb("ngIf",e.isAuthenticated),i.xb(1),i.Wb("ngIf",e.isAuthenticated))},directives:[r.j,Dv.a,r.i],styles:[""],changeDetection:0}),t})(),Xv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["ms-header-navigation"]],decls:3,vars:0,consts:[[1,"w-full","flex","justify-center","items-center","bg-red-600","h-10"],[1,"mx-auto","text-white"]],template:function(t,e){1&t&&(i.Lb(0,"div",0),i.Lb(1,"span",1),i.ec(2,"HEADER NAVIGATION"),i.Kb(),i.Kb())},styles:[""],changeDetection:0}),t})(),Zv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["ms-header"]],decls:15,vars:0,consts:[[1,"w-fullflex","flex-col","cursor-default"],[1,"h-12","bg-secondary","text-white"],[1,"max-w-7xl","mx-auto","flex","px-2","sm:px-6","lg:px-8","py-2"],[1,"w-1/4","lg:w-1/2","flex","items-center"],[1,"flex","w-1/2","justify-center","items-center"],["routerLink","/",1,"flex"],["src","../assets/ms-logo.png","loading","lazy","alt","MexShop","title","MexShop",1,"h-8","pr-2"],[1,"text-xl","sm:text-2xl","pt-1","sm:pt-0","align-middle","font-extralight"],[1,"w-1/4","lg:w-1/2","flex","justify-end"],["routerLink","/cart",1,"cursor-pointer"],["src","../assets/img/icons/shopping-cart.png","loading","lazy","alt","Shopping Cart","title","Shopping Cart",1,"h-8","ml-2"]],template:function(t,e){1&t&&(i.Lb(0,"header",0),i.Lb(1,"nav",1),i.Lb(2,"div",2),i.Lb(3,"div",3),i.Hb(4,"ms-header-language-selection"),i.Kb(),i.Lb(5,"div",4),i.Lb(6,"a",5),i.Hb(7,"img",6),i.Lb(8,"span",7),i.ec(9,"MexShop"),i.Kb(),i.Kb(),i.Kb(),i.Lb(10,"div",8),i.Hb(11,"ms-header-user-account"),i.Lb(12,"a",9),i.Hb(13,"img",10),i.Kb(),i.Kb(),i.Kb(),i.Kb(),i.Hb(14,"ms-header-navigation"),i.Kb())},directives:[zv,Dv.a,Jv,Xv],styles:[""],changeDetection:0}),t})(),Yv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["ms-footer"]],decls:7,vars:0,consts:[[1,"w-full","flex","bg-secondary","text-white","font-extralight","cursor-default"],[1,"max-w-7xl","mx-auto","flex","items-center","px-2","sm:px-6","lg:px-8","py-2"],[1,"flex","items-center"],["src","../assets/ms-logo.png","alt","MexShop","title","MexShop",1,"h-7","pl-3"],[1,"px-2"]],template:function(t,e){1&t&&(i.Lb(0,"footer",0),i.Lb(1,"div",1),i.Lb(2,"div",2),i.ec(3," \xa9 2021 "),i.Hb(4,"img",3),i.Lb(5,"span",4),i.ec(6," MexShop"),i.Kb(),i.Kb(),i.Kb(),i.Kb())},styles:[""],changeDetection:0}),t})(),Qv=(()=>{class t{constructor(){this.title="MexShop"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(i.Hb(0,"ms-header"),i.Hb(1,"router-outlet"),i.Hb(2,"ms-footer"))},directives:[Zv,Dv.c,Yv],styles:[""],changeDetection:0}),t})();var ty=n("xt9q");let ey=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[r.c,Dv.b]]}),t})(),ny=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[r.c,Dv.b]]}),t})();var ry=n("afOq");let iy=(()=>{class t{}return t.\u0275mod=i.Eb({type:t,bootstrap:[Qv]}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[],imports:[[L.a.initializeApp(P),og,zp,Rv,qv,D,ty.AdminModule,ey,ny,ry.UserModule]]}),t})();Object(i.T)(),N().bootstrapModule(iy).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);