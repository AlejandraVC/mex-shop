!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(a){i=!0,o=a}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||s(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||o(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,_(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function l(t,e,n){return(l=w()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=w();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),s=u[1],a=this.normalizeInstanceIdentifier(u[0]);try{var c=this.getOrInitializeService(a);s.resolve(c)}catch(l){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"d",function(){return s}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return f});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{a(r.next(t))}catch(e){o(e)}}function s(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(u,s)}a((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function f(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],u=0,s=o.length;u<s;u++,i++)r[i]=o[u];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=g(n);function n(t,r){return h(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(u(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;h(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return h(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),u=n("2QA8"),s=n("2fFW"),a=n("NJ4a"),c=function(t){v(n,t);var e=g(n);function n(t,r,o){var u;switch(h(this,n),(u=e.call(this)).syncErrorValue=null,u.syncErrorThrown=!1,u.syncErrorThrowable=!1,u.isStopped=!1,arguments.length){case 0:u.destination=i.a;break;case 1:if(!t){u.destination=i.a;break}if("object"==typeof t){t instanceof n?(u.syncErrorThrowable=t.syncErrorThrowable,u.destination=t,t.add(m(u))):(u.syncErrorThrowable=!0,u.destination=new l(m(u),t));break}default:u.syncErrorThrowable=!0,u.destination=new l(m(u),t,r,o)}return u}return p(n,[{key:u.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,f(_(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=g(n);function n(t,o,u,s){var a,c;h(this,n),(a=e.call(this))._parentSubscriber=t;var l=m(a);return Object(r.a)(o)?c=o:o&&(c=o.next,u=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(m(a)))),a._context=l,a._next=c,a._error=u,a._complete=s,a}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),u=n("kJWO"),s=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function f(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[u.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[u.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[a.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("LRne"),i=n("bHdf");function o(){return Object(i.a)(1)(Object(r.a).apply(void 0,arguments))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),u=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){h(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(u.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=f(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?a.a:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=f(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function f(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;h(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=g(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return h(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==m(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):f(_(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function u(t){return function(e){return 0===t?Object(o.b)():e.lift(new s(t))}}var s=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new i.a}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.total))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(r.a)},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("GyhO"),i=n("z+Ro");function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e[e.length-1];return Object(i.a)(o)?(e.pop(),function(t){return Object(r.a)(e,t,o)}):function(t){return Object(r.a)(e,t)}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.5","app")},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}var o=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return h(this,n),(u=e.call(this,t)).accumulator=r,u._seed=i,u.hasSeed=o,u.index=0,u}return p(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(r.a)},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var u=e[e.length-1];return Object(r.a)(u)?(e.pop(),Object(o.a)(e,u)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),u=n("kJWO"),s=n("I55L"),a=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[u.a])return l=t,function(t){var e=l[u.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,f=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(f," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),u=n("xbPD"),s=n("XDbj"),a=n("SpAZ");function c(t,e){var n=arguments.length>=2;return function(c){return c.pipe(t?Object(i.a)(function(e,n){return t(e,n,c)}):a.a,Object(o.a)(1),n?Object(u.a)(e):Object(s.a)(function(){return new r.a}))}}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),u=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return Object(i.a)(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===a&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(u.a)(e,a))}},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("sVev"),i=n("7o/Q");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return function(e){return e.lift(new u(t))}}var u=function(){function t(e){h(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.errorFactory))}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(i.a);function a(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),u=n("9ppp"),s=n("Ylt2"),a=n("2QA8"),c=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=g(n);function n(){var t;return h(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:a.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new u.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new u.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new u.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new u.a;return f(_(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new u.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},afOq:function(t,e,n){"use strict";n.r(e),n.d(e,"UserModule",function(){return d});var r,i,o=n("ofXK"),u=n("tyNb"),s=n("fXoL"),a=[{path:"account",component:(i=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(),i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Ab({type:i,selectors:[["app-user-account"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Lb(0,"p"),s.ec(1,"user-account works!"),s.Kb())},styles:[""]}),i)},{path:"orders",component:(r=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(),r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=s.Ab({type:r,selectors:[["app-user-orders"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Lb(0,"p"),s.ec(1,"user-orders works!"),s.Kb())},styles:[""]}),r)}];u.b.forChild(a);var c,l,f=((l=function t(){h(this,t)}).\u0275mod=s.Eb({type:l}),l.\u0275inj=s.Db({factory:function(t){return new(t||l)},imports:[[u.b.forChild(a)],u.b]}),l),d=((c=function t(){h(this,t)}).\u0275mod=s.Eb({type:c}),c.\u0275inj=s.Db({factory:function(t){return new(t||c)},imports:[[o.c,f]]}),c)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function u(t,e){return"function"==typeof e?function(n){return n.pipe(u(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))}))}:function(e){return e.lift(new s(t))}}var s=function(){function t(e){h(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new o.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(o.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||f(_(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&f(_(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(o.b)},fXoL:function(t,n,r){"use strict";r.d(n,"a",function(){return hn}),r.d(n,"b",function(){return Ts}),r.d(n,"c",function(){return ws}),r.d(n,"d",function(){return bs}),r.d(n,"e",function(){return ms}),r.d(n,"f",function(){return ba}),r.d(n,"g",function(){return aa}),r.d(n,"h",function(){return xu}),r.d(n,"i",function(){return Ls}),r.d(n,"j",function(){return Qo}),r.d(n,"k",function(){return xs}),r.d(n,"l",function(){return nu}),r.d(n,"m",function(){return wr}),r.d(n,"n",function(){return ts}),r.d(n,"o",function(){return Xi}),r.d(n,"p",function(){return xn}),r.d(n,"q",function(){return B}),r.d(n,"r",function(){return fn}),r.d(n,"s",function(){return co}),r.d(n,"t",function(){return _u}),r.d(n,"u",function(){return Ou}),r.d(n,"v",function(){return Ss}),r.d(n,"w",function(){return Mu}),r.d(n,"x",function(){return la}),r.d(n,"y",function(){return Uu}),r.d(n,"z",function(){return na}),r.d(n,"A",function(){return Vs}),r.d(n,"B",function(){return jn}),r.d(n,"C",function(){return Es}),r.d(n,"D",function(){return Os}),r.d(n,"E",function(){return ou}),r.d(n,"F",function(){return iu}),r.d(n,"G",function(){return Er}),r.d(n,"H",function(){return su}),r.d(n,"I",function(){return vr}),r.d(n,"J",function(){return Cn}),r.d(n,"K",function(){return da}),r.d(n,"L",function(){return Pu}),r.d(n,"M",function(){return Ks}),r.d(n,"N",function(){return dn}),r.d(n,"O",function(){return cu}),r.d(n,"P",function(){return au}),r.d(n,"Q",function(){return Fu}),r.d(n,"R",function(){return X}),r.d(n,"S",function(){return ra}),r.d(n,"T",function(){return ta}),r.d(n,"U",function(){return $s}),r.d(n,"V",function(){return ya}),r.d(n,"W",function(){return Js}),r.d(n,"X",function(){return Is}),r.d(n,"Y",function(){return Yi}),r.d(n,"Z",function(){return Jo}),r.d(n,"ab",function(){return dr}),r.d(n,"bb",function(){return Zn}),r.d(n,"cb",function(){return Vn}),r.d(n,"db",function(){return Hn}),r.d(n,"eb",function(){return Gn}),r.d(n,"fb",function(){return zn}),r.d(n,"gb",function(){return qn}),r.d(n,"hb",function(){return Bn}),r.d(n,"ib",function(){return Bo}),r.d(n,"jb",function(){return va}),r.d(n,"kb",function(){return Go}),r.d(n,"lb",function(){return Ko}),r.d(n,"mb",function(){return Fn}),r.d(n,"nb",function(){return tt}),r.d(n,"ob",function(){return po}),r.d(n,"pb",function(){return Ao}),r.d(n,"qb",function(){return jo}),r.d(n,"rb",function(){return Co}),r.d(n,"sb",function(){return zo}),r.d(n,"tb",function(){return Ft}),r.d(n,"ub",function(){return j}),r.d(n,"vb",function(){return Mn}),r.d(n,"wb",function(){return Dt}),r.d(n,"xb",function(){return oi}),r.d(n,"yb",function(){return go}),r.d(n,"zb",function(){return ds}),r.d(n,"Ab",function(){return ft}),r.d(n,"Bb",function(){return bt}),r.d(n,"Cb",function(){return P}),r.d(n,"Db",function(){return D}),r.d(n,"Eb",function(){return vt}),r.d(n,"Fb",function(){return mt}),r.d(n,"Gb",function(){return wo}),r.d(n,"Hb",function(){return To}),r.d(n,"Ib",function(){return So}),r.d(n,"Jb",function(){return Io}),r.d(n,"Kb",function(){return Eo}),r.d(n,"Lb",function(){return Oo}),r.d(n,"Mb",function(){return xo}),r.d(n,"Nb",function(){return Vo}),r.d(n,"Ob",function(){return En}),r.d(n,"Pb",function(){return cn}),r.d(n,"Qb",function(){return gs}),r.d(n,"Rb",function(){return Ro}),r.d(n,"Sb",function(){return ps}),r.d(n,"Tb",function(){return Se}),r.d(n,"Ub",function(){return Ie}),r.d(n,"Vb",function(){return Do}),r.d(n,"Wb",function(){return _o}),r.d(n,"Xb",function(){return hs}),r.d(n,"Yb",function(){return mo}),r.d(n,"Zb",function(){return re}),r.d(n,"ac",function(){return yr}),r.d(n,"bc",function(){return yt}),r.d(n,"cc",function(){return bo}),r.d(n,"dc",function(){return ys}),r.d(n,"ec",function(){return Lo}),r.d(n,"fc",function(){return Uo});var o=r("XNiG"),s=r("quSY"),a=r("HDdC"),d=r("VRyK"),y=r("7o/Q");function b(){return function(t){return t.lift(new k(t))}}var w,k=function(){function t(e){h(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new O(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),O=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(y.a),E=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new I(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}},{key:"refCount",value:function(){return b()(this)}}]),n}(a.a),T={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(w=E.prototype)._subscribe},_isComplete:{value:w._isComplete,writable:!0},getSubject:{value:w.getSubject},connect:{value:w.connect},refCount:{value:w.refCount}},I=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),f(_(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),f(_(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(o.b);function S(){return new o.a}function x(t){for(var e in t)if(t[e]===x)return e;throw Error("Could not find renamed property on target object.")}function j(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(j).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function C(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var A=x({__forward_ref__:x});function R(t){return t.__forward_ref__=R,t.toString=function(){return j(this())},t}function N(t){return"function"==typeof(e=t)&&e.hasOwnProperty(A)&&e.__forward_ref__===R?t():t;var e}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function D(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function L(t){return U(t,F)||U(t,q)}function U(t,e){return t.hasOwnProperty(e)?t[e]:null}function M(t){return t&&(t.hasOwnProperty(H)||t.hasOwnProperty(z))?t[H]:null}var V,F=x({"\u0275prov":x}),H=x({"\u0275inj":x}),q=x({ngInjectableDef:x}),z=x({ngInjectorDef:x}),B=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function G(t){var e=V;return V=t,e}function K(t,e,n){var r=L(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&B.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(j(t),"]"))}function W(t){return{toString:t}.toString()}var J=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),X=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Z="undefined"!=typeof globalThis&&globalThis,Y="undefined"!=typeof window&&window,Q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$="undefined"!=typeof global&&global,tt=Z||$||Y||Q,et={},nt=[],rt=x({"\u0275cmp":x}),it=x({"\u0275dir":x}),ot=x({"\u0275pipe":x}),ut=x({"\u0275mod":x}),st=x({"\u0275loc":x}),at=x({"\u0275fac":x}),ct=x({__NG_ELEMENT_ID__:x}),lt=0;function ft(t){return W(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===J.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||nt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||X.Emulated,id:"c",styles:t.styles||nt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=lt++,n.inputs=gt(t.inputs,e),n.outputs=gt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ht)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(dt)}:null,n})}function ht(t){return wt(t)||function(t){return t[it]||null}(t)}function dt(t){return function(t){return t[ot]||null}(t)}var pt={};function vt(t){var e={type:t.type,bootstrap:t.bootstrap||nt,declarations:t.declarations||nt,imports:t.imports||nt,exports:t.exports||nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&W(function(){pt[t.id]=t.type}),e}function yt(t,e){return W(function(){var n=_t(t,!0);n.declarations=e.declarations||nt,n.imports=e.imports||nt,n.exports=e.exports||nt})}function gt(t,e){if(null==t)return et;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var bt=ft;function mt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function wt(t){return t[rt]||null}function _t(t,e){var n=t[ut]||null;if(!n&&!0===e)throw new Error("Type ".concat(j(t)," does not have '\u0275mod' property."));return n}function kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ot(t){return Array.isArray(t)&&!0===t[1]}function Et(t){return 0!=(8&t.flags)}function Tt(t){return 2==(2&t.flags)}function It(t){return 1==(1&t.flags)}function St(t){return null!==t.template}function xt(t,e){return t.hasOwnProperty(at)?t[at]:null}var jt=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function Ct(t){return"string"==typeof t?t:null==t?"":String(t)}function At(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ct(t)}function Rt(t,e){var n=e?" in ".concat(e):"";throw new jt("201","No provider for ".concat(At(t)," found").concat(n))}var Nt,Pt=function(){function t(e,n,r){h(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Dt(){return Lt}function Lt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Mt),Ut}function Ut(){var t=Vt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===et)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Mt(t,e,n,r){var i=Vt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:et,current:null}),o=i.current||(i.current={}),u=i.previous,s=this.declaredInputs[n],a=u[s];o[s]=new Pt(a&&a.currentValue,e,u===et),t[r]=e}function Vt(t){return t.__ngSimpleChanges__||null}function Ft(t){Nt=t}function Ht(t){return!!t.listen}Dt.ngInherit=!0;var qt={createRenderer:function(t,e){return void 0!==Nt?Nt:"undefined"!=typeof document?document:void 0}};function zt(t){for(;Array.isArray(t);)t=t[0];return t}function Bt(t,e){return zt(e[t.index])}function Gt(t,e){return t.data[e]}function Kt(t,e){var n=e[t];return kt(n)?n:n[0]}function Wt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Jt(t){return 4==(4&t[2])}function Xt(t){return 128==(128&t[2])}function Zt(t,e){return null==e?null:t[e]}function Yt(t){t[18]=0}function Qt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var $t={lFrame:me(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function te(){return $t.bindingsEnabled}function ee(){return $t.lFrame.lView}function ne(){return $t.lFrame.tView}function re(t){$t.lFrame.contextLView=t}function ie(){for(var t=oe();null!==t&&64===t.type;)t=t.parent;return t}function oe(){return $t.lFrame.currentTNode}function ue(t,e){var n=$t.lFrame;n.currentTNode=t,n.isParent=e}function se(){return $t.lFrame.isParent}function ae(){$t.lFrame.isParent=!1}function ce(){return $t.isInCheckNoChangesMode}function le(t){$t.isInCheckNoChangesMode=t}function fe(){return $t.lFrame.bindingIndex++}function he(t){$t.lFrame.currentDirectiveIndex=t}function de(){return $t.lFrame.currentQueryIndex}function pe(t){$t.lFrame.currentQueryIndex=t}function ve(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ye(t,e,n){if(n&B.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&B.Host||(r=ve(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=$t.lFrame=be();return o.currentTNode=e,o.lView=t,!0}function ge(t){var e=be(),n=t[1];$t.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function be(){var t=$t.lFrame,e=null===t?null:t.child;return null===e?me(t):e}function me(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function we(){var t=$t.lFrame;return $t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _e=we;function ke(){var t=we();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Oe(){return $t.lFrame.selectedIndex}function Ee(t){$t.lFrame.selectedIndex=t}function Te(){var t=$t.lFrame;return Gt(t.tView,t.selectedIndex)}function Ie(){$t.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Se(){$t.lFrame.currentNamespace=null}function xe(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,u=i.ngAfterContentChecked,s=i.ngAfterViewInit,a=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),u&&((t.contentHooks||(t.contentHooks=[])).push(n,u),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,u)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),a&&((t.viewHooks||(t.viewHooks=[])).push(n,a),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,a)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function je(t,e,n){Re(t,e,3,n)}function Ce(t,e,n,r){(3&t[2])===n&&Re(t,e,n,r)}function Ae(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Re(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,u=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(u=e[s],null!=r&&u>=r)break}else e[s]<0&&(t[18]+=65536),(u<i||-1==i)&&(Ne(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Ne(t,e,n,r){var i=n[r]<0,o=n[r+1],u=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(u)):o.call(u)}var Pe=function t(e,n,r){h(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function De(t,e,n){for(var r=Ht(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var u=n[i++],s=n[i++],a=n[i++];r?t.setAttribute(e,s,a,u):e.setAttributeNS(u,s,a)}else{var c=o,l=n[++i];Ue(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Le(t){return 3===t||4===t||6===t}function Ue(t){return 64===t.charCodeAt(0)}function Me(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Ve(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Ve(t,e,n,r,i){var o=0,u=t.length;if(-1===e)u=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){u=-1;break}if(s>e){u=o-1;break}}}for(;o<t.length;){var a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==u&&(t.splice(u,0,e),o=u+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Fe(t){return-1!==t}function He(t){return 32767&t}function qe(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var ze=!0;function Be(t){var e=ze;return ze=t,e}var Ge=0;function Ke(t,e){var n=Je(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,We(r.data,t),We(e,null),We(r.blueprint,null));var i=Xe(t,e),o=t.injectorIndex;if(Fe(i))for(var u=He(i),s=qe(i,e),a=s[1].data,c=0;c<8;c++)e[o+c]=s[u+c]|a[u+c];return e[o+8]=i,o}function We(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Je(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],u=o.type;if(null===(r=2===u?o.declTNode:1===u?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ze(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ct)&&(r=n[ct]),null==r&&(r=n[ct]=Ge++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ye(t,e,n){if(n&B.Optional)return t;Rt(e,"NodeInjector")}function Qe(t,e,n,r){if(n&B.Optional&&void 0===r&&(r=null),0==(n&(B.Self|B.Host))){var i=t[9],o=G(void 0);try{return i?i.get(e,r,n&B.Optional):K(e,r,n&B.Optional)}finally{G(o)}}return Ye(r,e,n)}function $e(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ct)?t[ct]:void 0;return"number"==typeof e?e>=0?255&e:en:e}(n);if("function"==typeof o){if(!ye(e,t,r))return r&B.Host?Ye(i,n,r):Qe(e,n,r,i);try{var u=o();if(null!=u||r&B.Optional)return u;Rt(n)}finally{_e()}}else if("number"==typeof o){var s=null,a=Je(t,e),c=-1,l=r&B.Host?e[16][6]:null;for((-1===a||r&B.SkipSelf)&&(-1!==(c=-1===a?Xe(t,e):e[a+8])&&sn(r,!1)?(s=e[1],a=He(c),e=qe(c,e)):a=-1);-1!==a;){var f=e[1];if(un(o,a,f.data)){var h=nn(a,e,n,s,r,l);if(h!==tn)return h}-1!==(c=e[a+8])&&sn(r,e[1].data[a+8]===l)&&un(o,a,e)?(s=f,a=He(c),e=qe(c,e)):a=-1}}}return Qe(e,n,r,i)}var tn={};function en(){return new an(ie(),ee())}function nn(t,e,n,r,i,o){var u=e[1],s=u.data[t+8],a=rn(s,u,n,null==r?Tt(s)&&ze:r!=u&&0!=(3&s.type),i&B.Host&&o===s);return null!==a?on(e,u,a,s):tn}function rn(t,e,n,r,i){for(var o=t.providerIndexes,u=e.data,s=1048575&o,a=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,f=r?s:s+c;f<l;f++){var h=u[f];if(f<a&&n===h||f>=a&&h.type===n)return f}if(i){var d=u[a];if(d&&St(d)&&d.type===n)return a}return null}function on(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Pe){var u=i;u.resolving&&function(t,e){throw new jt("200","Circular dependency in DI detected for ".concat(t))}(At(o[n]));var s=Be(u.canSeeViewProviders);u.resolving=!0;var a=u.injectImpl?G(u.injectImpl):null;ye(t,r,B.Default);try{i=t[n]=u.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,u=r.ngDoCheck;if(i){var s=Lt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,u))}(n,o[n],e)}finally{null!==a&&G(a),Be(s),u.resolving=!1,_e()}}return i}function un(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function sn(t,e){return!(t&B.Self||t&B.Host&&e)}var an=function(){function t(e,n){h(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return $e(this._tNode,this._lView,t,void 0,e)}}]),t}();function cn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Le(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ie(),t)}function ln(t,e,n){return W(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return u.annotation=o,u;function u(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var fn=function(){function t(e,n){h(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),hn=new fn("AnalyzeForEntryComponents"),dn=Function;function pn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),pn(r,e)):e!==t&&e.push(r)}return e}function vn(t,e){t.forEach(function(t){return Array.isArray(t)?vn(t,e):e(t)})}function yn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var bn,mn={},wn=/\n/gm,_n=x({provide:String,useValue:x});function kn(t){var e=bn;return bn=t,e}function On(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;if(void 0===bn)throw new Error("inject() must be called from an injection context");return null===bn?K(t,void 0,e):bn.get(t,e&B.Optional?null:void 0,e)}function En(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;return(V||On)(N(t),e)}function Tn(t){for(var e=[],n=0;n<t.length;n++){var r=N(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=B.Default,u=0;u<r.length;u++){var s=r[u],a=s.__NG_DI_FLAG__;"number"==typeof a?-1===a?i=s.token:o|=a:i=s}e.push(En(i,o))}else e.push(En(r))}return e}function In(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Sn,xn=In(ln("Inject",function(t){return{token:t}}),-1),jn=In(ln("Optional"),8),Cn=In(ln("SkipSelf"),4);function An(t){var e;return(null===(e=function(){if(void 0===Sn&&(Sn=null,tt.trustedTypes))try{Sn=tt.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Sn}())||void 0===e?void 0:e.createHTML(t))||t}var Rn=function(){function t(e){h(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Nn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Rn),Pn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Rn),Dn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Rn),Ln=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Rn),Un=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Rn);function Mn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function Vn(t,e){var n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Fn(t){return t instanceof Rn&&t.getTypeName()||null}function Hn(t){return new Nn(t)}function qn(t){return new Pn(t)}function zn(t){return new Dn(t)}function Bn(t){return new Ln(t)}function Gn(t){return new Un(t)}var Kn=function(){function t(e){h(this,t),this.inertDocumentHelper=e}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),Wn=function(){function t(e){if(h(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(t){return(t=String(t)).match(Jn)||t.match(Xn)?t:"unsafe:"+t}function Yn(t){var e,n={},r=u(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Qn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var u=o[i];for(var s in u)u.hasOwnProperty(s)&&(t[s]=!0)}return t}var $n,tr=Yn("area,br,col,hr,img,wbr"),er=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nr=Yn("rp,rt"),rr=Qn(nr,er),ir=Qn(tr,Qn(er,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(nr,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rr),or=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=Yn("srcset"),sr=Qn(or,ur,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Yn("script,style,template"),cr=function(){function t(){h(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ir.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),u=o.name,s=u.toLowerCase();if(sr.hasOwnProperty(s)){var a=o.value;or[s]&&(a=Zn(a)),ur[s]&&(n=a,a=(n=String(n)).split(",").map(function(t){return Zn(t.trim())}).join(", ")),this.buf.push(" ",u,'="',hr(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ir.hasOwnProperty(e)&&!tr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(hr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(lr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function dr(t,e){var n=null;try{$n=$n||function(t){var e=new Wn(t);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);var r=e?String(e):"";n=$n.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=$n.getInertBodyElement(r)}while(r!==o);return An((new cr).sanitizeChildren(pr(n)||n))}finally{if(n)for(var u=pr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function yr(t){var e,n=(e=ee())&&e[12];return n?n.sanitize(vr.URL,t)||"":Vn(t,"URL")?Mn(t):Zn(Ct(t))}function gr(t){return t.ngDebugContext}function br(t){return t.ngOriginalError}function mr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var wr=function(){function t(){h(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||mr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?gr(t)?gr(t):this._findContext(br(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=br(t);e&&br(e);)e=br(e);return e}}]),t}();function _r(t,e){t.__ngContext__=e}var kr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(tt);function Or(t){return t instanceof Function?t():t}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Tr(t,e){return(void 0)(t,e)}function Ir(t){var e=t[3];return Ot(e)?e[3]:e}function Sr(t){return jr(t[13])}function xr(t){return jr(t[4])}function jr(t){for(;null!==t&&!Ot(t);)t=t[4];return t}function Cr(t,e,n,r,i){if(null!=r){var o,u=!1;Ot(r)?o=r:kt(r)&&(u=!0,r=r[0]);var s=zt(r);0===t&&null!==n?null==i?Ur(e,n,s):Lr(e,n,s,i||null,!0):1===t&&null!==n?Lr(e,n,s,i||null,!0):2===t?function(t,e,n){var r=Vr(t,e);r&&function(t,e,n,r){Ht(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,u):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==zt(n)&&Cr(e,t,r,o,i);for(var u=10;u<n.length;u++){var s=n[u];Br(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Ar(t,e,n){return Ht(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Qt(i,-1)),n.splice(r,1)}function Nr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Rr(o,i),e>0&&(t[r-1][4]=i[4]);var u=gn(t,10+e);Br(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=u[19];null!==s&&s.detachView(u[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Pr(t,e){if(!(256&e[2])){var n=e[11];Ht(n)&&n.destroyNode&&Br(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Dr(t[1],t);for(;e;){var n=null;if(kt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)kt(e)&&Dr(e[1],e),e=e[3];null===e&&(e=t),kt(e)&&Dr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Dr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Pe)){var o=n[r+1];if(Array.isArray(o))for(var u=0;u<o.length;u+=2)o[u+1].call(i[o[u]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var u=n[o+1],s="function"==typeof u?u(e):zt(e[u]),a=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var f=i+1;f<r.length;f++)(0,r[f])();e[7]=null}}(t,e),1===e[1].type&&Ht(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Ot(e[3])){n!==e[3]&&Rr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Lr(t,e,n,r,i){Ht(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ur(t,e,n){Ht(t)?t.appendChild(e,n):e.appendChild(n)}function Mr(t,e,n,r,i){null!==r?Lr(t,e,n,r,i):Ur(t,e,n)}function Vr(t,e){return Ht(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n,r){var i=function(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===X.None||i===X.Emulated)return null}return Bt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],u=function(t,e,n){return function(t,e,n){return 40&t.type?Bt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)Mr(o,i,n[s],u,!1);else Mr(o,i,n,u,!1)}function Hr(t,e){if(null!==e){var n=e.type;if(3&n)return Bt(e,t);if(4&n)return qr(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return Hr(t,r);var i=t[e.index];return Ot(i)?qr(-1,i):zt(i)}if(32&n)return Tr(e,t)()||zt(t[e.index]);var o=t[16],u=o[6],s=Ir(o),a=u.projection[e.projection];return null!=a?Hr(s,a):Hr(t,e.next)}return null}function qr(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return Hr(r,i)}return e[7]}function zr(t,e,n,r,i,o,u){for(;null!=n;){var s=r[n.index],a=n.type;if(u&&0===e&&(s&&_r(zt(s),r),n.flags|=4),64!=(64&n.flags))if(8&a)zr(t,e,n.child,r,i,o,!1),Cr(e,t,i,s,o);else if(32&a){for(var c=Tr(n,r),l=void 0;l=c();)Cr(e,t,i,l,o);Cr(e,t,i,s,o)}else 16&a?Gr(t,e,r,n,i,o):Cr(e,t,i,s,o);n=u?n.projectionNext:n.next}}function Br(t,e,n,r,i,o){zr(n,r,t.firstChild,e,i,o,!1)}function Gr(t,e,n,r,i,o){var u=n[16],s=u[6].projection[r.projection];if(Array.isArray(s))for(var a=0;a<s.length;a++)Cr(e,t,i,s[a],o);else zr(t,e,s,u[3],i,o,!0)}function Kr(t,e,n){Ht(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wr(t,e,n){Ht(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Jr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Xr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==Jr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Zr(t){return 4===t.type&&"ng-template"!==t.value}function Yr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Qr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Le(t[e]))return e;return t.length}(i),u=!1,s=0;s<e.length;s++){var a=e[s];if("number"!=typeof a){if(!u)if(4&r){if(r=2|1&r,""!==a&&!Yr(t,a,n)||""===a&&1===e.length){if($r(r))return!1;u=!0}}else{var c=8&r?a:e[++s];if(8&r&&null!==t.attrs){if(!Xr(t.attrs,c,n)){if($r(r))return!1;u=!0}continue}var l=ti(8&r?"class":a,i,Zr(t),n);if(-1===l){if($r(r))return!1;u=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==Jr(h,c,0)||2&r&&c!==f){if($r(r))return!1;u=!0}}}}else{if(!u&&!$r(r)&&!$r(a))return!1;if(u&&$r(a))continue;u=!1,r=a|1&r}}return $r(r)||u}function $r(t){return 0==(1&t)}function ti(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var u=e[i];if(u===t)return i;if(3===u||6===u)o=!0;else{if(1===u||2===u){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ei(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Qr(t,e[r],n))return!0;return!1}function ni(t,e){return t?":not("+e.trim()+")":e}function ri(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var u=t[n];if("string"==typeof u)if(2&r){var s=t[++n];i+="["+u+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""===i||$r(u)||(e+=ni(o,i),i=""),r=u,o=o||!$r(r);n++}return""!==i&&(e+=ni(o,i)),e}var ii={};function oi(t){ui(ne(),ee(),Oe()+t,ce())}function ui(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&je(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Ce(e,o,0,n)}Ee(n)}function si(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var u=t.data[o];pe(i),u.contentQueries(2,e[o],o)}}}function ai(t,e,n,r,i,o,u,s,a,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Yt(l),l[3]=l[15]=t,l[8]=n,l[10]=u||t&&t[10],l[11]=s||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ci(t,e,n,r,i){var o,u,s=t.data[e];if(null===s)s=function(t,e,n,r,i){var o=oe(),u=se(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(u?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),$t.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var a=(o=$t.lFrame,u=o.currentTNode,o.isParent?u:u.parent);s.injectorIndex=null===a?-1:a.injectorIndex}return ue(s,!0),s}function li(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fi(t,e,n){ge(e);try{var r=t.viewQuery;null!==r&&Hi(1,r,n);var i=t.template;null!==i&&pi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&si(t,e),t.staticViewQueries&&Hi(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Li(t,e[n])}(e,o)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),u}finally{e[2]&=-5,ke()}}function hi(t,e,n,r){var i=e[2];if(256!=(256&i)){ge(e);var o=ce();try{Yt(e),$t.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&pi(t,e,n,2,r);var u=3==(3&i);if(!o)if(u){var s=t.preOrderCheckHooks;null!==s&&je(e,s,null)}else{var a=t.preOrderHooks;null!==a&&Ce(e,a,0,null),Ae(e,0)}if(function(t){for(var e=Sr(t);null!==e;e=xr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Qt(o,1),i[2]|=1024}}(e),function(t){for(var e=Sr(t);null!==e;e=xr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Xt(r)&&hi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&si(t,e),!o)if(u){var c=t.contentCheckHooks;null!==c&&je(e,c)}else{var l=t.contentHooks;null!==l&&Ce(e,l,1),Ae(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var u=0;u<o.length;u++){var s=o[u];if(s<0)Ee(~s);else{var a=s,c=o[++u],l=o[++u];n=c,r=a,i=void 0,(i=$t.lFrame).bindingIndex=i.bindingRootIndex=n,he(r),l(2,e[a])}}}finally{Ee(-1)}}(t,e);var f=t.components;null!==f&&function(t,e){for(var n=0;n<e.length;n++)Pi(t,e[n])}(e,f);var h=t.viewQuery;if(null!==h&&Hi(2,h,r),!o)if(u){var d=t.viewCheckHooks;null!==d&&je(e,d)}else{var p=t.viewHooks;null!==p&&Ce(e,p,2),Ae(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Qt(e[3],-1))}finally{ke()}}}function di(t,e,n,r){var i=e[10],o=!ce(),u=Jt(e);try{o&&!u&&i.begin&&i.begin(),u&&fi(t,e,r),hi(t,e,n,r)}finally{o&&!u&&i.end&&i.end()}}function pi(t,e,n,r,i){var o=Oe();try{Ee(-1),2&r&&e.length>20&&ui(t,e,20,ce()),n(r,i)}finally{Ee(o)}}function vi(t,e,n){if(Et(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function yi(t,e,n){te()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ke(n,e),_r(r,e);for(var u=n.initialInputs,s=i;s<o;s++){var a=t.data[s],c=St(a);c&&Ci(e,n,a);var l=on(e,t,s,n);_r(l,e),null!==u&&Ai(0,s-i,l,a,0,u),c&&(Kt(n.index,e)[8]=l)}}(t,e,n,Bt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,u=$t.lFrame.currentDirectiveIndex;try{Ee(o);for(var s=r;s<i;s++){var a=t.data[s],c=e[s];he(s),null===a.hostBindings&&0===a.hostVars&&null===a.hostAttrs||Ti(a,c)}}finally{Ee(-1),he(u)}}(t,e,n))}function gi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var u=r[o+1],s=-1===u?n(e,t):t[u];t[i++]=s}}function bi(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=mi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function mi(t,e,n,r,i,o,u,s,a,c){var l=20+r,f=l+i,h=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:ii);return n}(l,f),d="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function wi(t,e,n,r){var i=zi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Bi(t).push(r,i.length-1))}function _i(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ki(t,e,n,r,i,o,u,s){var a,c=Bt(e,n),l=e.inputs;!s&&null!=l&&(a=l[r])?(Ki(t,n,a,r,i),Tt(e)&&function(t,e){var n=Kt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=u?u(i,e.value||"",r):i,Ht(o)?o.setProperty(c,r,i):Ue(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Oi(t,e,n,r){var i=!1;if(te()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var u=r[o];ei(n,u.selectors,!1)&&(i||(i=[]),Ze(Ke(n,e),t,u.type),St(u)?(Ii(t,n),i.unshift(u)):i.push(u))}return i}(t,e,n),u=null===r?null:{"":-1};if(null!==o){i=!0,xi(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var a=o[s];a.providersResolver&&a.providersResolver(a)}for(var c=!1,l=!1,f=li(t,e,o.length,null),h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=Me(n.mergedAttrs,d.hostAttrs),ji(t,n,e,f,d),Si(f,d,u),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),f++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],u=null,s=null,a=e.directiveStart;a<n;a++){var c=r[a],l=c.inputs,f=null===i||Zr(e)?null:Ri(l,i);o.push(f),u=_i(l,a,u),s=_i(c.outputs,a,s)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=16),u.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=u,e.outputs=s}(t,n)}u&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new jt("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,u)}return n.mergedAttrs=Me(n.mergedAttrs,n.attrs),i}function Ei(t,e,n,r,i,o){var u=o.hostBindings;if(u){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var a=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(r,i,u)}}function Ti(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ii(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Si(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;St(e)&&(n[""]=t)}}function xi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ji(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=xt(i.type)),u=new Pe(o,St(i),null);t.blueprint[r]=u,n[r]=u,Ei(t,e,0,r,li(t,n,i.hostVars,ii),i)}function Ci(t,e,n){var r=Bt(e,t),i=bi(n),o=t[10],u=Ui(t,ai(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=u}function Ai(t,e,n,r,i,o){var u=o[e];if(null!==u)for(var s=r.setInput,a=0;a<u.length;){var c=u[a++],l=u[a++],f=u[a++];null!==s?r.setInput(n,f,c,l):n[l]=f}}function Ri(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ni(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Pi(t,e){var n=Kt(e,t);if(Xt(n)){var r=n[1];80&n[2]?hi(r,n,r.template,n[8]):n[5]>0&&Di(n)}}function Di(t){for(var e=Sr(t);null!==e;e=xr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];hi(i,r,i.template,r[8])}else r[5]>0&&Di(r)}var o=t[1].components;if(null!==o)for(var u=0;u<o.length;u++){var s=Kt(o[u],t);Xt(s)&&s[5]>0&&Di(s)}}function Li(t,e){var n=Kt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),fi(r,n,n[8])}function Ui(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Mi(t){for(;t;){t[2]|=64;var e=Ir(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Vi(t,e,n){var r=e[10];r.begin&&r.begin();try{hi(t,e,t.template,n)}catch(i){throw Gi(e,i),i}finally{r.end&&r.end()}}function Fi(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Wt(n),i=r[1];di(i,r,i.template,n)}}(t[8])}function Hi(t,e,n){pe(0),e(t,n)}var qi=Promise.resolve(null);function zi(t){return t[7]||(t[7]=[])}function Bi(t){return t.cleanup||(t.cleanup=[])}function Gi(t,e){var n=t[9],r=n?n.get(wr,null):null;r&&r.handleError(e)}function Ki(t,e,n,r,i){for(var o=0;o<n.length;){var u=n[o++],s=n[o++],a=e[u],c=t.data[u];null!==c.setInput?c.setInput(a,i,r,s):a[s]=i}}function Wi(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var u=0;u<e.length;u++){var s=e[u];"number"==typeof s?o=s:1==o?i=C(i,s):2==o&&(r=C(r,s+": "+e[++u]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ji,Xi=new fn("INJECTOR",-1),Zi=function(){function t(){h(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn;if(e===mn){var n=new Error("NullInjectorError: No provider for ".concat(j(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Yi=new fn("Set Injector scope."),Qi={},$i={},to=[];function eo(){return void 0===Ji&&(Ji=new Zi),Ji}function no(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ro(t,n,e||eo(),r)}var ro=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var u=[];n&&vn(n,function(t){return i.processProvider(t,e,n)}),vn([e],function(t){return i.processInjectorType(t,[],u)}),this.records.set(Xi,oo(void 0,this));var s=this.records.get(Yi);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:j(e))}return p(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;this.assertNotDestroyed();var r,i=kn(this);try{if(!(n&B.SkipSelf)){var o=this.records.get(t);if(void 0===o){var u=("function"==typeof(r=t)||"object"==typeof r&&r instanceof fn)&&L(t);o=u&&this.injectableDefInScope(u)?oo(io(t),Qi):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&B.Self?eo():this.parent).get(t,e=n&B.Optional&&e===mn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(j(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=j(e);if(Array.isArray(e))i=e.map(j).join(" -> ");else if("object"==typeof e){var o=[];for(var u in e)if(e.hasOwnProperty(u)){var s=e[u];o.push(u+":"+("string"==typeof s?JSON.stringify(s):j(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(wn,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{kn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(j(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=N(t)))return!1;var i=M(t),o=null==i&&t.ngModule||void 0,u=void 0===o?t:o,s=-1!==n.indexOf(u);if(void 0!==o&&(i=M(o)),null==i)return!1;if(null!=i.imports&&!s){var a;n.push(u);try{vn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===a&&(a=[]),a.push(t))})}finally{}if(void 0!==a)for(var c=function(t){var e=a[t],n=e.ngModule,i=e.providers;vn(i,function(t){return r.processProvider(t,n,i||to)})},l=0;l<a.length;l++)c(l)}this.injectorDefTypes.add(u),this.records.set(u,oo(i.factory,Qi));var f=i.providers;if(null!=f&&!s){var h=t;vn(f,function(t){return r.processProvider(t,h,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=so(t=N(t))?t:N(t&&t.provide),o=function(t,e,n){return uo(t)?oo(void 0,t.useValue):oo(function(t,e,n){var r,o;if(so(t)){var u=N(t);return xt(u)||io(u)}if(uo(t))r=function(){return N(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,i(Tn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return En(N(t.useExisting))};else{var s=N(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return xt(s)||io(s);r=function(){return l(s,i(Tn(t.deps)))}}return r}(t),Qi)}(t);if(so(t)||!0!==t.multi)this.records.get(r);else{var u=this.records.get(r);u||((u=oo(void 0,Qi,!0)).factory=function(){return Tn(u.multi)},this.records.set(r,u)),r=t,u.multi.push(t)}this.records.set(r,o)}},{key:"hydrate",value:function(t,e){var n;return e.value===Qi&&(e.value=$i,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function io(t){var e=L(t),n=null!==e?e.factory:xt(t);if(null!==n)return n;var r=M(t);if(null!==r)return r.factory;if(t instanceof fn)throw new Error("Token ".concat(j(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(j(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[F]||t[q]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function oo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function uo(t){return null!==t&&"object"==typeof t&&_n in t}function so(t){return"function"==typeof t}var ao=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=no(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},co=function(){var t=function(){function t(){h(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?ao(t,e,""):ao(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=mn,t.NULL=new Zi,t.\u0275prov=P({token:t,providedIn:"any",factory:function(){return En(Xi)}}),t.__NG_ELEMENT_ID__=-1,t}();function lo(t,e){xe(Wt(t)[1],ie())}var fo=null;function ho(){if(!fo){var t=tt.Symbol;if(t&&t.iterator)fo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(fo=r)}}return fo}function po(t){return!!vo(t)&&(Array.isArray(t)||!(t instanceof Map)&&ho()in t)}function vo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function yo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function go(t,e,n,r){var i=ee();return yo(i,fe(),e)&&(ne(),function(t,e,n,r,i,o){var u=Bt(t,e);!function(t,e,n,r,i,o,u){if(null==o)Ht(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==u?Ct(o):u(o,r||"",i);Ht(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}(e[11],u,o,t.value,n,r,i)}(Te(),i,t,e,n,r)),go}function bo(t,e,n,r,i,o,u,s){var a=ee(),c=ne(),l=t+20,f=c.firstCreatePass?function(t,e,n,r,i,o,u,s,a){var c=e.consts,l=ci(e,t,4,u||null,Zt(c,s));Oi(e,n,l,Zt(c,a)),xe(e,l);var f=l.tViews=mi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,u):c.data[l];ue(f,!1);var h=a[11].createComment("");Fr(c,a,h,f),_r(h,a),Ui(a,a[l]=Ni(h,a,h,f)),It(f)&&yi(c,a,f),null!=u&&gi(a,f,s)}function mo(t){return function(t,e){return t[e]}($t.lFrame.contextLView,20+t)}function wo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default,n=ee();return null===n?En(t,e):$e(ie(),n,N(t),e)}function _o(t,e,n){var r=ee();return yo(r,fe(),e)&&ki(ne(),Te(),r,t,e,r[11],n,!1),_o}function ko(t,e,n,r,i){var o=i?"class":"style";Ki(t,n,e.inputs[o],o,r)}function Oo(t,e,n,r){var i=ee(),o=ne(),u=20+t,s=i[11],a=i[u]=Ar(s,e,$t.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,u){var s=e.consts,a=ci(e,t,2,i,Zt(s,o));return Oi(e,n,a,Zt(s,u)),null!==a.attrs&&Wi(a,a.attrs,!1),null!==a.mergedAttrs&&Wi(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(u,o,i,0,e,n,r):o.data[u];ue(c,!0);var l=c.mergedAttrs;null!==l&&De(s,a,l);var f=c.classes;null!==f&&Wr(s,a,f);var h=c.styles;null!==h&&Kr(s,a,h),64!=(64&c.flags)&&Fr(o,i,a,c),0===$t.lFrame.elementDepthCount&&_r(a,i),$t.lFrame.elementDepthCount++,It(c)&&(yi(o,i,c),vi(o,c,i)),null!==r&&gi(i,c)}function Eo(){var t=ie();se()?ae():ue(t=t.parent,!1);var e=t;$t.lFrame.elementDepthCount--;var n=ne();n.firstCreatePass&&(xe(n,t),Et(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ko(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ko(n,e,ee(),e.stylesWithoutHost,!1)}function To(t,e,n,r){Oo(t,e,n,r),Eo()}function Io(t,e,n){var r=ee(),i=ne(),o=t+20,u=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,u=Zt(o,r),s=ci(e,t,8,"ng-container",u);return null!==u&&Wi(s,u,!0),Oi(e,n,s,Zt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];ue(u,!0);var s=r[o]=r[11].createComment("");Fr(i,r,s,u),_r(s,r),It(u)&&(yi(i,r,u),vi(i,u,r)),null!=n&&gi(r,u)}function So(){var t=ie(),e=ne();se()?ae():ue(t=t.parent,!1),e.firstCreatePass&&(xe(e,t),Et(t)&&e.queries.elementEnd(t))}function xo(){return ee()}function jo(t){return!!t&&"function"==typeof t.then}function Co(t){return!!t&&"function"==typeof t.subscribe}var Ao=Co;function Ro(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ee(),o=ne(),u=ie();return function(t,e,n,r,i,o){var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,a=It(r),c=t.firstCreatePass&&Bi(t),l=zi(e),f=!0;if(3&r.type){var h=Bt(r,e),d=s?s(h):et,p=d.target||h,v=l.length,y=s?function(t){return s(zt(t[r.index])).target}:r.index;if(Ht(n)){var g=null;if(!s&&a&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var u=i[o];if(u===n&&i[o+1]===r){var s=e[7],a=i[o+2];return s.length>a?s[a]:null}"string"==typeof u&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1;else{o=Po(r,e,o,!1);var b=n.listen(d.name||p,i,o);l.push(o,b),c&&c.push(i,y,v,v+1)}}else o=Po(r,e,o,!0),p.addEventListener(i,o,u),l.push(o),c&&c.push(i,y,v,u)}else o=Po(r,e,o,!1);var m,w=r.outputs;if(f&&null!==w&&(m=w[i])){var _=m.length;if(_)for(var k=0;k<_;k+=2){var O=e[m[k]][m[k+1]].subscribe(o),E=l.length;l.push(o,O),c&&c.push(i,r.index,E,-(E+1))}}}(o,i,i[11],u,t,e,n,r),Ro}function No(t,e,n){try{return!1!==e(n)}catch(r){return Gi(t,r),!1}}function Po(t,e,n,r){return function i(o){if(o===Function)return n;var u=2&t.flags?Kt(t.index,e):e;0==(32&e[2])&&Mi(u);for(var s=No(e,n,o),a=i.__ngNextListenerFn__;a;)s=No(e,a,o)&&s,a=a.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Do(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return($t.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,$t.lFrame.contextLView))[8]}(t)}function Lo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ee(),r=ne(),i=t+20,o=r.firstCreatePass?ci(r,i,1,e,null):r.data[i],u=n[i]=function(t,e){return Ht(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Fr(r,n,u,o),ue(o,!1)}function Uo(t){return Mo("",t,""),Uo}function Mo(t,e,n){var r=ee(),i=function(t,e,n,r){return yo(t,fe(),n)?e+Ct(n)+r:ii}(r,t,e,n);return i!==ii&&function(t,e,n){var r=function(t,e){return zt(e[t])}(e,t);!function(t,e,n){Ht(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Oe(),i),Mo}function Vo(t,e,n){var r=ee();return yo(r,fe(),e)&&ki(ne(),Te(),r,t,e,r[11],n,!0),Vo}var Fo=void 0,Ho=["en",[["a","p"],["AM","PM"],Fo],[["AM","PM"],Fo,Fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fo,"{1} 'at' {0}",Fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],qo={};function zo(t,e,n){"string"!=typeof e&&(n=e,e=t[Jo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),qo[e]=t,n&&(qo[e][Jo.ExtraData]=n)}function Bo(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Wo(e);if(n)return n;var r=e.split("-")[0];if(n=Wo(r))return n;if("en"===r)return Ho;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Go(t){return Bo(t)[Jo.CurrencyCode]||null}function Ko(t){return Bo(t)[Jo.PluralCase]}function Wo(t){return t in qo||(qo[t]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[t]),qo[t]}var Jo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function Xo(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var Zo=function t(){h(this,t)},Yo=function(){function t(){h(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(j(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Qo=function(){var t=function t(){h(this,t)};return t.NULL=new Yo,t}();function $o(){}function tu(t,e){return new nu(Bt(t,e))}var eu=function(){return tu(ie(),ee())},nu=function(){var t=function t(e){h(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=eu,t}();function ru(t){return t instanceof nu?t.nativeElement:t}var iu=function t(){h(this,t)},ou=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=function(){return uu()},t}(),uu=function(){var t=ee(),e=Kt(ie().index,t);return function(t){return t[11]}(kt(e)?e:t)},su=function(){var t=function t(){h(this,t)};return t.\u0275prov=P({token:t,providedIn:"root",factory:function(){return null}}),t}(),au=function t(e){h(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},cu=new au("11.1.1"),lu=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return po(t)}},{key:"create",value:function(t){return new hu(t)}}]),t}(),fu=function(t,e){return e},hu=function(){function t(e){h(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fu}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<yu(n,r,i)?e:n,u=yu(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var a=u-r,c=s-r;if(a!=c){for(var l=0;l<a;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<a&&(i[l]=f+1)}i[o.previousIndex]=c-a}}u!==s&&t(o,u,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!po(t))throw new Error("Error trying to diff '".concat(j(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,u=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(u&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),u=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[ho()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(u&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),u=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new du(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new vu),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),du=function t(e,n){h(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},pu=function(){function t(){h(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),vu=function(){function t(){h(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new pu,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function yu(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var gu=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||vo(t)}},{key:"create",value:function(){return new bu}}]),t}(),bu=function(){function t(){h(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||vo(t)))throw new Error("Error trying to diff '".concat(j(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new mu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),mu=function t(e){h(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function wu(){return new _u([new lu])}var _u=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||wu())},deps:[[t,new Cn,new jn]]}}}]),t}();return t.\u0275prov=P({token:t,providedIn:"root",factory:wu}),t}();function ku(){return new Ou([new gu])}var Ou=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||ku())},deps:[[t,new Cn,new jn]]}}}]),t}();return t.\u0275prov=P({token:t,providedIn:"root",factory:ku}),t}();function Eu(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var u=e[n.index];if(null!==u&&r.push(zt(u)),Ot(u))for(var s=10;s<u.length;s++){var a=u[s],c=a[1].firstChild;null!==c&&Eu(a[1],a,c,r)}var l=n.type;if(8&l)Eu(t,e,n.child,r);else if(32&l)for(var f=Tr(n,e),h=void 0;h=f();)r.push(h);else if(16&l){var d=e[16],p=d[6].projection[n.projection];if(Array.isArray(p))r.push.apply(r,i(p));else{var v=Ir(d);Eu(v[1],v,p,r,!0)}}n=o?n.projectionNext:n.next}return r}var Tu=function(){function t(e,n){h(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return p(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(Ot(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Nr(t,n),gn(e,n))}this._attachedToViewContainer=!1}Pr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){wi(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Mi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Vi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){le(!0);try{Vi(t,e,n)}finally{le(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Br(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Eu(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Iu=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){Fi(this._view)}},{key:"checkNoChanges",value:function(){!function(t){le(!0);try{Fi(t)}finally{le(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Tu),Su=ju,xu=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Su,t.__ChangeDetectorRef__=!0,t}();function ju(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Tt(t)){var r=Kt(t.index,e);return new Tu(r,r)}return 47&t.type?new Tu(e[16],e):null}(ie(),ee(),t)}var Cu=[new gu],Au=new _u([new lu]),Ru=new Ou(Cu),Nu=function(){return Lu(ie(),ee())},Pu=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Nu,t}(),Du=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=ai(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),fi(e,n,t),new Tu(n)}}]),n}(Pu);function Lu(t,e){return 4&t.type?new Du(e,t,tu(t,e)):null}var Uu=function t(){h(this,t)},Mu=function t(){h(this,t)},Vu=function(){return Bu(ie(),ee())},Fu=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Vu,t}(),Hu=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=qu(this._lContainer);return null!==e&&e[t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var u=o.get(Uu,null);u&&(i=u)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(Ot(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var u=r[3],s=new n(u,u[6],u[3]);s.detach(s.indexOf(t))}}var a=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],yn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var u=e[17];null!==u&&n!==u&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(u,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,a);var l=qr(a,c),f=r[11],h=Vr(f,c[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Br(t,r,n,1,i,o)}(i,c[6],f,r,h,l),t.attachToViewContainerRef(),yn(zu(c),a,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=qu(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);n&&(gn(zu(this._lContainer),e),Pr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);return n&&null!=gn(zu(this._lContainer),e)?new Tu(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"element",get:function(){return tu(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new an(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Xe(this._hostTNode,this._hostLView);if(Fe(t)){var e=qe(t,this._hostLView),n=He(t);return new an(e[1].data[n+8],e)}return new an(null,this._hostLView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),n}(Fu);function qu(t){return t[8]}function zu(t){return t[8]||(t[8]=[])}function Bu(t,e){var n,r=e[t.index];if(Ot(r))n=r;else{var i;if(8&t.type)i=zt(r);else{var o=e[11];i=o.createComment("");var u=Bt(t,e);Lr(o,Vr(o,u),i,function(t,e){return Ht(t)?t.nextSibling(e):e.nextSibling}(o,u),!1)}e[t.index]=n=Ni(r,e,i,t),Ui(e,n)}return new Hu(n,t,e)}var Gu={},Ku=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=wt(t);return new Xu(e,this.ngModule)}}]),n}(Qo);function Wu(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Ju=new fn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return kr}}),Xu=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(ri).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"create",value:function(t,e,n,r){var i,o,u=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Gu,i);return o!==Gu||r===Gu?o:e.get(n,r,i)}}}(t,r.injector):t,s=u.get(iu,qt),a=u.get(su,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(t,e,n){if(Ht(t))return t.selectRootElement(e,n===X.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Ar(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:kr,clean:qi,playerHandler:null,flags:0},p=mi(0,null,null,1,0,null,null,null,null,null),v=ai(null,p,d,h,null,null,s,c,a,u);ge(v);try{var y=function(t,e,n,r,i,o){var u=n[1];n[20]=t;var s=ci(u,20,2,"#host",null),a=s.mergedAttrs=e.hostAttrs;null!==a&&(Wi(s,a,!0),null!==t&&(De(i,t,a),null!==s.classes&&Wr(i,t,s.classes),null!==s.styles&&Kr(i,t,s.styles)));var c=r.createRenderer(t,e),l=ai(n,bi(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return u.firstCreatePass&&(Ze(Ke(s,n),u,e.type),Ii(u,s),xi(s,n.length,1)),Ui(n,l),n[20]=l}(f,this.componentDef,v,s,c);if(f)if(n)De(c,f,["ng-version",cu.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!$r(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=g.attrs,m=g.classes;b&&De(c,f,b),m&&m.length>0&&Wr(c,f,m.join(" "))}if(o=Gt(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],u=function(t,e,n){var r=ie();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ji(t,r,e,li(t,e,1,null),n));var i=on(e,t,r.directiveStart,r);_r(i,e);var o=Bt(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(u),t[8]=u,i&&i.forEach(function(t){return t(u,e)}),e.contentQueries){var s=ie();e.contentQueries(1,u,s.directiveStart)}var a=ie();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ee(a.index),Ei(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ti(e,u)),u}(y,this.componentDef,v,d,[lo]),fi(p,v,null)}finally{ke()}return new Zu(this.componentType,i,tu(o,v),v,o)}},{key:"inputs",get:function(){return Wu(this.componentDef.inputs)}},{key:"outputs",get:function(){return Wu(this.componentDef.outputs)}}]),n}(Zo),Zu=function(t){v(n,t);var e=g(n);function n(t,r,i,o,u){var s;return h(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=u,s.instance=r,s.hostView=s.changeDetectorRef=new Iu(o),s.componentType=t,s}return p(n,[{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}},{key:"injector",get:function(){return new an(this._tNode,this._rootLView)}}]),n}(function(){return function t(){h(this,t)}}()),Yu=new Map,Qu=function(t){v(n,t);var e=g(n);function n(t,r){var i;h(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=m(i),i.destroyCbs=[],i.componentFactoryResolver=new Ku(m(i));var o=_t(t),u=t[st]||null;return u&&Xo(u),i._bootstrapComponents=Or(o.bootstrap),i._r3Injector=no(t,r,[{provide:Uu,useValue:m(i)},{provide:Qo,useValue:i.componentFactoryResolver}],j(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:co.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;return t===co||t===Uu||t===Xi?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Uu),$u=function(t){v(n,t);var e=g(n);function n(t){var r,i,o;return h(this,n),(r=e.call(this)).moduleType=t,null!==_t(t)&&(i=t,o=new Set,function t(e){var n=_t(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(j(e)," vs ").concat(j(e.name)))}(r,Yu.get(r),e),Yu.set(r,e));var i,s=u(Or(n.imports));try{for(s.s();!(i=s.n()).done;){var a=i.value;o.has(a)||(o.add(a),t(a))}}catch(c){s.e(c)}finally{s.f()}}(i)),r}return p(n,[{key:"create",value:function(t){return new Qu(this.moduleType,t)}}]),n}(Mu),ts=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){f(_(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},u=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(u=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(u=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var a=f(_(n.prototype),"subscribe",this).call(this,i,o,u);return t instanceof s.a&&t.add(a),a}}]),n}(o.a);function es(){return this._results[ho()]()}var ns=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=ho(),r=t.prototype;r[n]||(r[n]=es)}return p(t,[{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=pn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}},{key:"changes",get:function(){return this._changes||(this._changes=new ts)}}]),t}(),rs=function(){function t(e){h(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),is=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var u=n.getByIndex(o);i.push(this.queries[u.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==vs(t,e).matches&&this.queries[e].setDirty()}}]),t}(),os=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,t),this.predicate=e,this.flags=n,this.read=r},us=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),ss=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;h(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,as(e,i)),this.matchTNodeWithReadOption(t,e,rn(e,t,i,!1,!1))}else n===Pu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,rn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===nu||r===Fu||r===Pu&&4&e.type)this.addMatch(e.index,-2);else{var i=rn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function as(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function cs(t,e,n,r){return-1===n?function(t,e){return 11&t.type?tu(t,e):4&t.type?Lu(t,e):null}(e,t):-2===n?function(t,e,n){return n===nu?tu(e,t):n===Pu?Lu(e,t):n===Fu?Bu(e,t):void 0}(t,e,r):on(t,t[1],n,e)}function ls(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,u=n.matches,s=[],a=0;a<u.length;a+=2){var c=u[a];s.push(c<0?null:cs(e,o[c],u[a+1],n.metadata.read))}i.matches=s}return i.matches}function fs(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var u=ls(t,e,i,n),s=0;s<o.length;s+=2){var a=o[s];if(a>0)r.push(u[s/2]);else{for(var c=o[s+1],l=e[-a],f=10;f<l.length;f++){var h=l[f];h[17]===h[3]&&fs(h[1],h,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];fs(v[1],v,c,r)}}}return r}function hs(t){var e=ee(),n=ne(),r=de();pe(r+1);var i=vs(n,r);if(t.dirty&&Jt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?fs(n,e,r,[]):ls(n,e,i,r);t.reset(o,ru),t.notifyOnChanges()}return!0}return!1}function ds(t,e,n,r){var i=ne();if(i.firstCreatePass){var o=ie();(function(t,e,n){null===t.queries&&(t.queries=new us),t.queries.track(new ss(e,n))})(i,new os(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){var r=new ns(4==(4&n));wi(t,e,r,r.destroy),null===e[19]&&(e[19]=new is),e[19].queries.push(new rs(r))}(i,ee(),n)}function ps(){return t=ee(),e=de(),t[19].queries[e].queryList;var t,e}function vs(t,e){return t.queries.getByIndex(e)}function ys(t,e){return Lu(t,e)}function gs(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.Default,e=ju(!0);if(null!=e||t&B.Optional)return e;Rt("ChangeDetectorRef")}var bs=new fn("Application Initializer"),ms=function(){var t=function(){function t(e){var n=this;h(this,t),this.appInits=e,this.resolve=$o,this.reject=$o,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();jo(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(En(bs,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),ws=new fn("AppId"),_s={provide:ws,useFactory:function(){return"".concat(ks()).concat(ks()).concat(ks())},deps:[]};function ks(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Os=new fn("Platform Initializer"),Es=new fn("Platform ID"),Ts=new fn("appBootstrapListener"),Is=function(){var t=function(){function t(){h(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),Ss=new fn("LocaleId"),xs=new fn("DefaultCurrencyCode"),js=function t(e,n){h(this,t),this.ngModuleFactory=e,this.componentFactories=n},Cs=function(t){return new $u(t)},As=Cs,Rs=function(t){return Promise.resolve(Cs(t))},Ns=function(t){var e=Cs(t),n=Or(_t(t).declarations).reduce(function(t,e){var n=wt(e);return n&&t.push(new Xu(n)),t},[]);return new js(e,n)},Ps=Ns,Ds=function(t){return Promise.resolve(Ns(t))},Ls=function(){var t=function(){function t(){h(this,t),this.compileModuleSync=As,this.compileModuleAsync=Rs,this.compileModuleAndAllComponentsSync=Ps,this.compileModuleAndAllComponentsAsync=Ds}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),Us=Promise.resolve(0);function Ms(t){"undefined"==typeof Zone?Us.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Vs=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,u=e.shouldCoalesceEventChangeDetection,s=void 0!==u&&u,a=e.shouldCoalesceRunChangeDetection,c=void 0!==a&&a;if(h(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ts(!1),this.onMicrotaskEmpty=new ts(!1),this.onStable=new ts(!1),this.onError=new ts(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=tt.requestAnimationFrame,e=tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(tt,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,qs(t),Hs(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),qs(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,u,s){try{return zs(n),t.invokeTask(i,o,u,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),Bs(n)}},onInvoke:function(t,e,i,o,u,s,a){try{return zs(n),t.invoke(i,o,u,s,a)}finally{n.shouldCoalesceRunChangeDetection&&r(),Bs(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,qs(n),Hs(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Fs,$o,$o);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Fs={};function Hs(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function qs(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zs(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Bs(t){t._nesting--,Hs(t)}var Gs=function(){function t(){h(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ts,this.onMicrotaskEmpty=new ts,this.onStable=new ts,this.onError=new ts}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Ks=function(){var t=function(){function t(e){var n=this;h(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Vs.assertNotInAngularZone(),Ms(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Ms(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(En(Vs))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),Ws=function(){var t=function(){function t(){h(this,t),this._applications=new Map,Zs.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Zs.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}();function Js(t){Zs=t}var Xs,Zs=new(function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Ys=!0,Qs=!1;function $s(){return Qs=!0,Ys}function ta(){if(Qs)throw new Error("Cannot enable prod mode after platform setup.");Ys=!1}var ea=new fn("AllowMultipleToken"),na=function t(e,n){h(this,t),this.name=e,this.token=n};function ra(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new fn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=ia();if(!o||o.injector.get(ea,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var u=n.concat(e).concat({provide:i,useValue:!0},{provide:Yi,useValue:"platform"});!function(t){if(Xs&&!Xs.destroyed&&!Xs.injector.get(ea,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Xs=t.get(oa);var e=t.get(Os,null);e&&e.forEach(function(t){return t()})}(co.create({providers:u,name:r}))}return function(t){var e=ia();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ia(){return Xs&&!Xs.destroyed?Xs:null}var oa=function(){var t=function(){function t(e){h(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new Gs:("zone.js"===n?void 0:n)||new Vs({enableLongStackTrace:$s(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),u=[{provide:Vs,useValue:o}];return o.run(function(){var e=co.create({providers:u,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(wr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){ca(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((u=n.injector.get(ms)).runInitializers(),u.donePromise.then(function(){return Xo(n.injector.get(Ss,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return jo(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var u}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=ua({},n);return function(t,e,n){var r=new $u(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(aa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(j(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(En(co))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}();function ua(t,e){return Array.isArray(e)?e.reduce(ua,t):Object.assign(Object.assign({},t),e)}var sa,aa=((sa=function(){function t(e,n,r,i,o,u){var s=this;h(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var c=new a.a(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),l=new a.a(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){Vs.assertNotInAngularZone(),Ms(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){Vs.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(d.a)(c,l.pipe(function(t){return b()((e=S,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,T);return r.source=t,r.subjectFactory=n,r})(t));var e}))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Zo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Uu),o=n.create(co.NULL,[],e||n.selector,i),u=o.location.nativeElement,s=o.injector.get(Ks,null),a=s&&o.injector.get(Ws);return s&&a&&a.registerApplication(u,s),o.onDestroy(function(){r.detachView(o.hostView),ca(r.components,o),a&&a.unregisterApplication(u)}),this._loadComponent(o),$s()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=u(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;ca(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ts,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||sa)(En(Vs),En(Is),En(co),En(wr),En(Qo),En(ms))},sa.\u0275prov=P({token:sa,factory:sa.\u0275fac}),sa);function ca(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var la=function t(){h(this,t)},fa=function t(){h(this,t)},ha={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},da=function(){var t=function(){function t(e,n){h(this,t),this._compiler=e,this._config=n||ha}return p(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],u=i[1];return void 0===u&&(u="default"),r("zn8P")(o).then(function(t){return t[u]}).then(function(t){return pa(t,o,u)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],u="NgFactory";return void 0===o&&(o="default",u=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+u]}).then(function(t){return pa(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(En(Ls),En(fa,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}();function pa(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var va=function(t){return null},ya=ra(null,"core",[{provide:Es,useValue:"unknown"},{provide:oa,deps:[co]},{provide:Ws,deps:[]},{provide:Is,deps:[]}]),ga=[{provide:aa,useClass:aa,deps:[Vs,Is,co,wr,Qo,ms]},{provide:Ju,deps:[Vs],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ms,useClass:ms,deps:[[new jn,bs]]},{provide:Ls,useClass:Ls,deps:[]},_s,{provide:_u,useFactory:function(){return Au},deps:[]},{provide:Ou,useFactory:function(){return Ru},deps:[]},{provide:Ss,useFactory:function(t){return Xo(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new xn(Ss),new jn,new Cn]]},{provide:xs,useValue:"USD"}],ba=function(){var t=function t(e){h(this,t)};return t.\u0275mod=vt({type:t}),t.\u0275inj=D({factory:function(e){return new(e||t)(En(aa))},providers:ga}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){h(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.thisArg))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||m(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},ofXK:function(t,n,r){"use strict";r.d(n,"a",function(){return S}),r.d(n,"b",function(){return G}),r.d(n,"c",function(){return K}),r.d(n,"d",function(){return l}),r.d(n,"e",function(){return j}),r.d(n,"f",function(){return y}),r.d(n,"g",function(){return C}),r.d(n,"h",function(){return T}),r.d(n,"i",function(){return M}),r.d(n,"j",function(){return V}),r.d(n,"k",function(){return x}),r.d(n,"l",function(){return f}),r.d(n,"m",function(){return X}),r.d(n,"n",function(){return J}),r.d(n,"o",function(){return c}),r.d(n,"p",function(){return W}),r.d(n,"q",function(){return s}),r.d(n,"r",function(){return U}),r.d(n,"s",function(){return a});var i=r("fXoL"),o=null;function s(){return o}function a(t){o||(o=t)}var c=function t(){h(this,t)},l=new i.r("DocumentToken"),f=function(){var t=function t(){h(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:d,token:t,providedIn:"platform"}),t}();function d(){return Object(i.Ob)(m)}var y=new i.r("Location Initialized"),m=function(){var t=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._init(),r}return p(n,[{key:"_init",value:function(){this.location=s().getLocation(),this._history=s().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return s().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){w()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){w()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(f);return t.\u0275fac=function(e){return new(e||t)(i.Ob(l))},t.\u0275prov=Object(i.Cb)({factory:_,token:t,providedIn:"platform"}),t}();function w(){return!!window.history.pushState}function _(){return new m(Object(i.Ob)(l))}function k(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function O(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function E(t){return t&&"?"!==t[0]?"?"+t:t}var T=function(){var t=function t(){h(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:I,token:t,providedIn:"root"}),t}();function I(t){var e=Object(i.Ob)(l).location;return new x(Object(i.Ob)(f),e&&e.origin||"")}var S=new i.r("appBaseHref"),x=function(){var t=function(t){v(n,t);var e=g(n);function n(t,r){var i;if(h(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,b(i)}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return k(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+E(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+E(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+E(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(T);return t.\u0275fac=function(e){return new(e||t)(i.Ob(f),i.Ob(S,8))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t}(),j=function(){var t=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=k(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+E(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+E(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(T);return t.\u0275fac=function(e){return new(e||t)(i.Ob(f),i.Ob(S,8))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t}(),C=function(){var t=function(){function t(e,n){var r=this;h(this,t),this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=O(R(o)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return p(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+E(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,R(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+E(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+E(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Ob(T),i.Ob(f))},t.normalizeQueryParams=E,t.joinWithSlash=k,t.stripTrailingSlash=O,t.\u0275prov=Object(i.Cb)({factory:A,token:t,providedIn:"root"}),t}();function A(){return new C(Object(i.Ob)(T),Object(i.Ob)(f))}function R(t){return t.replace(/\/index.html$/,"")}var N=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),P=i.lb,D=function t(){h(this,t)},L=function(){var t=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(P(e||this.locale)(t)){case N.Zero:return"zero";case N.One:return"one";case N.Two:return"two";case N.Few:return"few";case N.Many:return"many";default:return"other"}}}]),n}(D);return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.v))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t}();function U(t,n){n=encodeURIComponent(n);var r,i=u(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.indexOf("="),a=e(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),c=a[0],l=a[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(f){i.e(f)}finally{i.f()}return null}var M=function(){var t=function(){function t(e,n,r,i){h(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return p(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(i.ub)(t.item)));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.t),i.Gb(i.u),i.Gb(i.l),i.Gb(i.E))},t.\u0275dir=i.Bb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),V=function(){var t=function(){function t(e,n){h(this,t),this._viewContainer=e,this._context=new F,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return p(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){H("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){H("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.Q),i.Gb(i.L))},t.\u0275dir=i.Bb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),F=function t(){h(this,t),this.$implicit=null,this.ngIf=null};function H(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(i.ub)(e),"'."))}var q=function(){function t(){h(this,t)}return p(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),z=new(function(){function t(){h(this,t)}return p(t,[{key:"createSubscription",value:function(t,e){return t.then(e,function(t){throw t})}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),B=new q,G=function(){var t=function(){function t(e){h(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return p(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})}},{key:"_selectStrategy",value:function(e){if(Object(i.qb)(e))return z;if(Object(i.rb)(e))return B;throw n=t,Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(i.ub)(n),"'"));var n}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Qb())},t.\u0275pipe=i.Fb({name:"async",type:t,pure:!1}),t}(),K=function(){var t=function t(){h(this,t)};return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[{provide:D,useClass:L}]}),t}(),W="browser";function J(t){return"server"===t}var X=function(){var t=function t(){h(this,t)};return t.\u0275prov=Object(i.Cb)({token:t,providedIn:"root",factory:function(){return new Z(Object(i.Ob)(l),window)}}),t}(),Z=function(){function t(e,n){h(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return p(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=Y(this.window.history)||Y(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function Y(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}var o=function(){function t(e,n){h(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.predicate,this.thisArg))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(r.a)},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return f});var r,i=n("7o/Q"),o=n("EY2u"),u=n("LRne"),s=n("HDdC"),a=((r=function(){function t(e,n,r){h(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(u.a)(this.value);case"E":return t=this.error,new s.a(function(e){return e.error(t)});case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.scheduler,this.delay))}}]),t}(),f=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new d(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),d=function t(e,n){h(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],u=0,s=o.length;u<s;u++,i++)r[i]=o[u];return r}var i;n.d(e,"a",function(){return u}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return d});var o=[],u=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},a=u.INFO,c=((i={})[u.DEBUG]="log",i[u.VERBOSE]="log",i[u.INFO]="info",i[u.WARN]="warn",i[u.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),u=c[e];if(!u)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[u].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in u))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.DEBUG],t)),this._logHandler.apply(this,r([this,u.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.VERBOSE],t)),this._logHandler.apply(this,r([this,u.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.INFO],t)),this._logHandler.apply(this,r([this,u.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.WARN],t)),this._logHandler.apply(this,r([this,u.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.ERROR],t)),this._logHandler.apply(this,r([this,u.ERROR],t))},t}();function h(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:u[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return s}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return a}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return v});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var u=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],u=o?b(o,r):"Error",s=this.serviceName+": "+u+" ("+i+").",a=new y(i,s,r);return a},t}();function b(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var m=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?f(_(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?f(_(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),u=n("XoHu"),s=n("n6bG"),a=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){h(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof a?l(v.errors):[v]}}if(Object(o.a)(c))for(var h=-1,d=c.length;++h<d;){var p=c[h];if(Object(u.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof a?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new a(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof a?e.errors:e)},[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},spgP:function(t,e,u){"use strict";(function(t){u.d(e,"a",function(){return N}),u.d(e,"b",function(){return I}),u.d(e,"c",function(){return T}),u.d(e,"d",function(){return w}),u.d(e,"e",function(){return E}),u.d(e,"f",function(){return A}),u.d(e,"g",function(){return x}),u.d(e,"h",function(){return _}),u.d(e,"i",function(){return O}),u.d(e,"j",function(){return j});var a=u("qgXg"),c=u("D0XW"),l=u("vkgz"),f=u("tf+s"),d=u("pxpQ"),v=u("fXoL"),y=u("Jgta");function g(){}var b=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.b;h(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),m=function(){function t(e){h(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){h(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new b(Zone.current)}),this.insideAngular=e.run(function(){return new b(Zone.current,c.b)})};function _(t){return function(e){return(e=e.lift(new m(t.ngZone))).pipe(Object(f.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var k=["ngOnDestroy"],O=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,u){return n.runOutsideAngular(function(){var o;if(t[u])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(u,t[u]),t[u];if(k.indexOf(u)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[u];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,o=t&&t.apply(void 0,i(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(u,n,o),o})}})})}})},E=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},T=new v.r("angularfire2.app.options"),I=new v.r("angularfire2.app.nameOrConfig"),S=new v.P("6.1.4");function x(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(u){}return o}var j=function(){C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.U)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function A(e,u,a,c,l){var f,h=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(f=h)||o(f)||s(f)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error","".concat(u," was already initialized on the ").concat(a.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(i(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var R={provide:function t(){h(this,t)},useFactory:x,deps:[T,v.A,[new v.B,I]]},N=function(){var t=function(){function t(e){h(this,t),y.a.registerVersion("angularfire",S.full,e.toString()),y.a.registerVersion("angular",v.O.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:T,useValue:e},{provide:I,useValue:n}]}}}]),t}();return t.\u0275mod=v.Eb({type:t}),t.\u0275inj=v.Db({factory:function(e){return new(e||t)(v.Ob(v.C))},providers:[R]}),t}()}).call(this,u("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC"),i=1,o=Promise.resolve(),u={};function s(t){return t in u&&(delete u[t],!0)}var a=function(t){var e=i++;return u[e]=!0,o.then(function(){return s(e)&&t()}),e},c=function(t){s(t)},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=a(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return f(_(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),d=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),y=n("DH7j"),b=function(t){v(n,t);var e=g(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return h(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=u,i=o,(Object(y.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),u&&"function"==typeof u.schedule||(r.scheduler=d),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new b(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},tyNb:function(t,e,n){"use strict";n.d(e,"a",function(){return Nn}),n.d(e,"b",function(){return Xn}),n.d(e,"c",function(){return Mn});var r=n("ofXK"),o=n("fXoL"),s=n("Cfvw"),a=n("LRne"),c=n("XNiG"),l=n("9ppp"),d=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._value=t,r}return p(n,[{key:"_subscribe",value:function(t){var e=f(_(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.a;return this._value}},{key:"next",value:function(t){f(_(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(c.a),y=n("z+Ro"),b=n("DH7j"),w=n("7o/Q"),k=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(w.a),O=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(w.a),E=n("SeVD"),T=n("HDdC");function I(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new O(t,n,r);if(!i.closed)return e instanceof T.a?e.subscribe(i):Object(E.a)(e)(i)}var S=n("yCtX"),x={},j=function(){function t(e){h(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new C(t,this.resultSelector))}}]),t}(),C=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return p(n,[{key:"_next",value:function(t){this.values.push(x),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(I(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===x?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(k),A=n("sVev"),R=n("GyhO"),N=n("EY2u");function P(t){return new T.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(N.b)()).subscribe(e)})}var D=n("lJxs"),L=n("eIep"),U=n("IzEk"),M=n("JX91"),V=n("Kqap"),F=n("pLZG"),H=n("zx2A");function q(t){return function(e){var n=new z(t),r=e.lift(n);return n.caught=r}}var z=function(){function t(e){h(this,t),this.selector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new B(t,this.selector,this.caught))}}]),t}(),B=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return p(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void f(_(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new H.a(this);this.add(r);var i=Object(H.c)(e,r);i!==r&&this.add(i)}}}]),n}(H.b),G=n("5+tZ");function K(t,e){return Object(G.a)(t,e,1)}var W=n("4I5i");function J(t){return function(e){return 0===t?Object(N.b)():e.lift(new X(t))}}var X=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new W.a}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Z(t,this.total))}}]),t}(),Z=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(w.a),Y=n("XDbj"),Q=n("xbPD"),$=n("SpAZ"),tt=n("SxV6"),et=n("vkgz"),nt=n("quSY"),rt=function(){function t(e){h(this,t),this.callback=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new it(t,this.callback))}}]),t}(),it=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).add(new nt.a(r)),i}return n}(w.a),ot=n("bHdf"),ut=function t(e,n){h(this,t),this.id=e,this.url=n},st=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=u,i}return p(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ut),at=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return p(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ut),ct=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).reason=i,o}return p(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ut),lt=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).error=i,o}return p(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ut),ft=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return h(this,n),(u=e.call(this,t,r)).urlAfterRedirects=i,u.state=o,u}return p(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ut),ht=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return h(this,n),(u=e.call(this,t,r)).urlAfterRedirects=i,u.state=o,u}return p(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ut),dt=function(t){v(n,t);var e=g(n);function n(t,r,i,o,u){var s;return h(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=u,s}return p(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ut),pt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return h(this,n),(u=e.call(this,t,r)).urlAfterRedirects=i,u.state=o,u}return p(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ut),vt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return h(this,n),(u=e.call(this,t,r)).urlAfterRedirects=i,u.state=o,u}return p(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ut),yt=function(){function t(e){h(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),gt=function(){function t(e){h(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),bt=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),mt=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),wt=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),_t=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),kt=function(){function t(e,n,r){h(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return p(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Ot=function(){function t(e){h(this,t),this.params=e||{}}return p(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Et(t){return new Ot(t)}function Tt(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function It(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var u=r[o],s=t[o];if(u.startsWith(":"))i[u.substring(1)]=s;else if(u!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function St(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!xt(t[n=r[o]],e[n]))return!1;return!0}function xt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=i(t).sort(),r=i(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function jt(t){return Array.prototype.concat.apply([],t)}function Ct(t){return t.length>0?t[t.length-1]:null}function At(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Rt(t){return Object(o.pb)(t)?t:Object(o.qb)(t)?Object(s.a)(Promise.resolve(t)):Object(a.a)(t)}function Nt(t,e,n){return n?function(t,e){return St(t,e)}(t.queryParams,e.queryParams)&&Pt(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return xt(t[n],e[n])})}(t.queryParams,e.queryParams)&&Dt(t.root,e.root)}function Pt(t,e){if(!Ft(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!Pt(t.children[n],e.children[n]))return!1}return!0}function Dt(t,e){return Lt(t,e,e.segments)}function Lt(t,e,n){if(t.segments.length>n.length)return!!Ft(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Ft(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!Dt(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Ft(t.segments,i)&&!!t.children.primary&&Lt(t.children.primary,e,o)}var Ut=function(){function t(e,n,r){h(this,t),this.root=e,this.queryParams=n,this.fragment=r}return p(t,[{key:"toString",value:function(){return zt.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Et(this.queryParams)),this._queryParamMap}}]),t}(),Mt=function(){function t(e,n){var r=this;h(this,t),this.segments=e,this.children=n,this.parent=null,At(n,function(t,e){return t.parent=r})}return p(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Bt(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Vt=function(){function t(e,n){h(this,t),this.path=e,this.parameters=n}return p(t,[{key:"toString",value:function(){return Yt(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Et(this.parameters)),this._parameterMap}}]),t}();function Ft(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var Ht=function t(){h(this,t)},qt=function(){function t(){h(this,t)}return p(t,[{key:"parse",value:function(t){var e=new ne(t);return new Ut(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(Gt(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(Wt(t),"=").concat(Wt(e))}).join("&"):"".concat(Wt(t),"=").concat(Wt(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),zt=new qt;function Bt(t){return t.segments.map(function(t){return Yt(t)}).join("/")}function Gt(t,e){if(!t.hasChildren())return Bt(t);if(e){var n=t.children.primary?Gt(t.children.primary,!1):"",r=[];return At(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(Gt(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return At(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),At(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[Gt(t.children.primary,!1)]:["".concat(n,":").concat(Gt(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Bt(t),"/").concat(i[0]):"".concat(Bt(t),"/(").concat(i.join("//"),")")}function Kt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wt(t){return Kt(t).replace(/%3B/gi,";")}function Jt(t){return Kt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xt(t){return decodeURIComponent(t)}function Zt(t){return Xt(t.replace(/\+/g,"%20"))}function Yt(t){return"".concat(Jt(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Jt(t),"=").concat(Jt(e[t]))}).join("")));var e}var Qt=/^[^\/()?;=#]+/;function $t(t){var e=t.match(Qt);return e?e[0]:""}var te=/^[^=?&#]+/,ee=/^[^?&#]+/,ne=function(){function t(e){h(this,t),this.url=e,this.remaining=e}return p(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Mt(t,e)),n}},{key:"parseSegment",value:function(){var t=$t(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Vt(Xt(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=$t(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=$t(this.remaining);r&&(n=r,this.capture(n))}t[Xt(e)]=Xt(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(te);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(ee);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Zt(e),o=Zt(n);if(t.hasOwnProperty(i)){var u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=$t(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Mt([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),re=function(){function t(e){h(this,t),this._root=e}return p(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=ie(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=ie(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=oe(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return oe(t,this._root).map(function(t){return t.value})}},{key:"root",get:function(){return this._root.value}}]),t}();function ie(t,e){if(t===e.value)return e;var n,r=u(e.children);try{for(r.s();!(n=r.n()).done;){var i=ie(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function oe(t,e){if(t===e.value)return[e];var n,r=u(e.children);try{for(r.s();!(n=r.n()).done;){var i=oe(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var ue=function(){function t(e,n){h(this,t),this.value=e,this.children=n}return p(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function se(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var ae=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).snapshot=r,pe(m(i),t),i}return p(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(re);function ce(t,e){var n=function(t,e){var n=new he([],{},{},"",{},"primary",e,null,t.root,-1,{});return new de("",new ue(n,[]))}(t,e),r=new d([new Vt("",{})]),i=new d({}),o=new d({}),u=new d({}),s=new d(""),a=new le(r,i,u,s,o,"primary",e,n.root);return a.snapshot=n.root,new ae(new ue(a,[]),n)}var le=function(){function t(e,n,r,i,o,u,s,a){h(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=s,this._futureSnapshot=a}return p(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(D.a)(function(t){return Et(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(D.a)(function(t){return Et(t)}))),this._queryParamMap}}]),t}();function fe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var he=function(){function t(e,n,r,i,o,u,s,a,c,l,f){h(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=f}return p(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Et(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Et(this.queryParams)),this._queryParamMap}}]),t}(),de=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,r)).url=t,pe(m(i),r),i}return p(n,[{key:"toString",value:function(){return ve(this._root)}}]),n}(re);function pe(t,e){e.value._routerState=t,e.children.forEach(function(e){return pe(t,e)})}function ve(t){var e=t.children.length>0?" { ".concat(t.children.map(ve).join(", ")," } "):"";return"".concat(t.value).concat(e)}function ye(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,St(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),St(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!St(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),St(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ge(t,e){var n,r;return St(t.params,e.params)&&Ft(n=t.url,r=e.url)&&n.every(function(t,e){return St(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||ge(t.parent,e.parent))}function be(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=u(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return be(t,e,o)}}catch(s){i.e(s)}finally{i.f()}return be(t,e)})}(t,e,n);return new ue(r,i)}var o=t.retrieve(e.value);if(o){var s=o.route;return me(e,s),s}var a,c=new le(new d((a=e.value).url),new d(a.params),new d(a.queryParams),new d(a.fragment),new d(a.data),a.outlet,a.component,a),l=e.children.map(function(e){return be(t,e)});return new ue(c,l)}function me(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)me(t.children[n],e.children[n])}function we(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function _e(t){return"object"==typeof t&&null!=t&&t.outlets}function ke(t,e,n,r,i){var o={};return r&&At(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new Ut(n.root===t?e:Oe(n.root,t,e),o,i)}function Oe(t,e,n){var r={};return At(t.children,function(t,i){r[i]=t===e?n:Oe(t,e,n)}),new Mt(t.segments,r)}var Ee=function(){function t(e,n,r){if(h(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&we(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(_e);if(i&&i!==Ct(r))throw new Error("{outlets:{}} has to be the last command")}return p(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Te=function t(e,n,r){h(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function Ie(t,e,n){if(t||(t=new Mt([],{})),0===t.segments.length&&t.hasChildren())return Se(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var u=t.segments[i],s=n[r];if(_e(s))break;var a="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ae(a,c,u))return o;r+=2}else{if(!Ae(a,{},u))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Mt(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Mt(t.segments.slice(r.pathIndex),t.children),Se(o,0,i)}return r.match&&0===i.length?new Mt(t.segments,{}):r.match&&!t.hasChildren()?xe(t,e,n):r.match?Se(t,0,i):xe(t,e,n)}function Se(t,e,n){if(0===n.length)return new Mt(t.segments,{});var r=function(t){return _e(t[0])?t[0].outlets:{primary:t}}(n),i={};return At(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Ie(t.children[r],e,n))}),At(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Mt(t.segments,i)}function xe(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(_e(o)){var u=je(o.outlets);return new Mt(r,u)}if(0===i&&we(n[0]))r.push(new Vt(t.segments[e].path,Ce(n[0]))),i++;else{var s=_e(o)?o.outlets.primary:"".concat(o),a=i<n.length-1?n[i+1]:null;s&&a&&we(a)?(r.push(new Vt(s,Ce(a))),i+=2):(r.push(new Vt(s,{})),i++)}}return new Mt(r,{})}function je(t){var e={};return At(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=xe(new Mt([],{}),0,t))}),e}function Ce(t){var e={};return At(t,function(t,n){return e[n]="".concat(t)}),e}function Ae(t,e,n){return t==n.path&&St(e,n.parameters)}var Re=function(){function t(e,n,r,i){h(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return p(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ye(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=se(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),At(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=se(t),o=0,u=Object.keys(i);o<u.length;o++){var s=u[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=se(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new _t(t.value.snapshot))}),t.children.length&&this.forwardEvent(new mt(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(ye(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var u=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(s.contexts),u.attachRef=s.componentRef,u.route=s.route.value,u.outlet&&u.outlet.attach(s.componentRef,s.route.value),Ne(s.route)}else{var a=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=a?a.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=c,u.outlet&&u.outlet.activateWith(r,c),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Ne(t){ye(t.value),t.children.forEach(Ne)}var Pe=function t(e,n){h(this,t),this.routes=e,this.module=n};function De(t){return"function"==typeof t}function Le(t){return t instanceof Ut}var Ue=Symbol("INITIAL_VALUE");function Me(){return Object(L.a)(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return Object(y.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(b.a)(e[0])&&(e=e[0]),Object(S.a)(e,i).lift(new j(r))}(t.map(function(t){return t.pipe(Object(U.a)(1),Object(M.a)(Ue))})).pipe(Object(V.a)(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Ue)return t;if(r===Ue&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Le(r))return r}return t},t)},Ue),Object(F.a)(function(t){return t!==Ue}),Object(D.a)(function(t){return Le(t)?t:!0===t}),Object(U.a)(1))})}var Ve,Fe=((Ve=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ve)},Ve.\u0275cmp=o.Ab({type:Ve,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&o.Hb(0,"router-outlet")},directives:function(){return[Mn]},encapsulation:2}),Ve);function He(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];qe(r,ze(e,r))}}function qe(t,e){t.children&&He(t.children,e)}function ze(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Be(t){var e=t.children&&t.children.map(Be),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Fe),n}function Ge(t){return t.outlet||"primary"}function Ke(t,e){var n=t.filter(function(t){return Ge(t)===e});return n.push.apply(n,i(t.filter(function(t){return Ge(t)!==e}))),n}var We={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Je(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},We):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||It)(n,t,e);if(!i)return Object.assign({},We);var o={};At(i.posParams,function(t,e){o[e]=t.path});var u=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:u,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Xe(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return Ze(t,e,n)&&"primary"!==Ge(n)})}(t,n,r)){var o=new Mt(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,s=u(n);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(""===a.path&&"primary"!==Ge(a)){var c=new Mt([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[Ge(a)]=c}}}catch(l){s.e(l)}finally{s.f()}return i}(t,e,r,new Mt(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Ze(t,e,n)})}(t,n,r)){var s=new Mt(t.segments,function(t,e,n,r,i,o){var s,a={},c=u(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(Ze(t,n,l)&&!i[Ge(l)]){var f=new Mt([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[Ge(l)]=f}}}catch(h){c.e(h)}finally{c.f()}return Object.assign(Object.assign({},i),a)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var a=new Mt(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function Ze(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ye(t,e,n,r){return!!(Ge(t)===r||"primary"!==r&&Ze(e,n,t))&&("**"===t.path||Je(e,t,n).matched)}function Qe(t,e,n){return 0===e.length&&!t.children[n]}var $e=function t(e){h(this,t),this.segmentGroup=e||null},tn=function t(e){h(this,t),this.urlTree=e};function en(t){return new T.a(function(e){return e.error(new $e(t))})}function nn(t){return new T.a(function(e){return e.error(new tn(t))})}function rn(t){return new T.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var on=function(){function t(e,n,r,i,u){h(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(o.y)}return p(t,[{key:"apply",value:function(){var t=this,e=Xe(this.urlTree.root,[],[],this.config).segmentGroup,n=new Mt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(D.a)(function(e){return t.createUrlTree(un(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(q(function(e){if(e instanceof tn)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof $e)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(D.a)(function(n){return e.createUrlTree(un(n),t.queryParams,t.fragment)})).pipe(q(function(t){if(t instanceof $e)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Mt([],{primary:t}):t;return new Ut(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(D.a)(function(t){return new Mt([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,u=Object.keys(n.children);o<u.length;o++){var a=u[o];"primary"===a?i.unshift(a):i.push(a)}return Object(s.a)(i).pipe(K(function(i){var o=n.children[i],u=Ke(e,i);return r.expandSegmentGroup(t,u,o,i).pipe(Object(D.a)(function(t){return{segment:t,outlet:i}}))}),Object(V.a)(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(F.a)(function(e,n){return t(e,n,r)}):$.a,J(1),n?Object(Q.a)(e):Object(Y.a)(function(){return new A.a}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var u=this;return Object(s.a)(n).pipe(K(function(s){return u.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(q(function(t){if(t instanceof $e)return Object(a.a)(null);throw t}))}),Object(tt.a)(function(t){return!!t}),q(function(t,n){if(t instanceof A.a||"EmptyError"===t.name){if(Qe(e,r,i))return Object(a.a)(new Mt([],{}));throw new $e(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,u){return Ye(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):en(e):en(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?nn(o):this.lineralizeSegments(n,o).pipe(Object(G.a)(function(n){var o=new Mt(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var u=this,s=Je(e,r,i),a=s.matched,c=s.consumedSegments,l=s.lastChild,f=s.positionalParamSegments;if(!a)return en(e);var h=this.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?nn(h):this.lineralizeSegments(r,h).pipe(Object(G.a)(function(r){return u.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(D.a)(function(t){return n._loadedConfig=t,new Mt(r,{})})):Object(a.a)(new Mt(r,{}));var u=Je(e,n,r),s=u.matched,c=u.consumedSegments,l=u.lastChild;if(!s)return en(e);var f=r.slice(l);return this.getChildConfig(t,n,r).pipe(Object(G.a)(function(t){var r=t.module,u=t.routes,s=Xe(e,c,f,u),l=s.segmentGroup,h=s.slicedSegments,d=new Mt(l.segments,l.children);if(0===h.length&&d.hasChildren())return o.expandChildren(r,u,d).pipe(Object(D.a)(function(t){return new Mt(c,t)}));if(0===u.length&&0===h.length)return Object(a.a)(new Mt(c,{}));var p=Ge(n)===i;return o.expandSegment(r,d,u,h,p?"primary":i,!0).pipe(Object(D.a)(function(t){return new Mt(c.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(a.a)(new Pe(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(a.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(G.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(D.a)(function(t){return e._loadedConfig=t,t})):function(t){return new T.a(function(e){return e.error(Tt("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(a.a)(new Pe([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(a.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&De(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!De(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Rt(i)});return Object(a.a)(o).pipe(Me(),Object(et.a)(function(t){if(Le(t)){var e=Tt('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(D.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(a.a)(n);if(r.numberOfChildren>1||!r.children.primary)return rn(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Ut(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return At(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),u={};return At(e.children,function(e,o){u[o]=i.createSegmentGroup(t,e,n,r)}),new Mt(o,u)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=u(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return t}}]),t}();function un(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=un(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Mt(t.segments.concat(e.segments),e.children)}return t}(new Mt(t.segments,e))}var sn=function t(e){h(this,t),this.path=e,this.route=this.path[this.path.length-1]},an=function t(e,n){h(this,t),this.component=e,this.route=n};function cn(t,e,n){var r=t._root;return fn(r,e?e._root:null,n,[r.value])}function ln(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function fn(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=se(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,u=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){var a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ft(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ft(t.url,e.url)||!St(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ge(t,e)||!St(t.queryParams,e.queryParams);case"paramsChange":default:return!ge(t,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new sn(r)):(o.data=u.data,o._resolvedData=u._resolvedData),fn(t,e,o.component?s?s.children:null:n,r,i),a&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new an(s.outlet.component,u))}else u&&hn(e,s,i),i.canActivateChecks.push(new sn(r)),fn(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),At(o,function(t,e){return hn(t,n.getContext(e),i)}),i}function hn(t,e,n){var r=se(t),i=t.value;At(r,function(t,r){hn(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new an(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var dn=function t(){h(this,t)};function pn(t){return new T.a(function(e){return e.error(t)})}var vn=function(){function t(e,n,r,i,o,u){h(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}return p(t,[{key:"recognize",value:function(){var t=Xe(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new he([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ue(n,e),i=new de(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=fe(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,o=Object.keys(e.children);r<o.length;r++){var s=o[r],a=e.children[s],c=Ke(t,s),l=this.processSegmentGroup(c,a,s);if(null===l)return null;n.push.apply(n,i(l))}var f=function(t){var e,n=[],r=u(t);try{var o=function(){var t,r=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(r))return n.push(r),"continue";var o=n.find(function(t){return r.value.routeConfig===t.value.routeConfig});void 0!==o?(t=o.children).push.apply(t,i(r.children)):n.push(r)};for(r.s();!(e=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}return n}(n);return f.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),f}},{key:"processSegment",value:function(t,e,n,r){var i,o=u(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,a=this.processSegmentAgainstRoute(s,e,n,r);if(null!==a)return a}}catch(c){o.e(c)}finally{o.f()}return Qe(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Ye(t,e,n,r))return null;var i,o=[],u=[];if("**"===t.path){var s=n.length>0?Ct(n).parameters:{};i=new he(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bn(t),Ge(t),t.component,t,yn(e),gn(e)+n.length,mn(t))}else{var a=Je(e,t,n);if(!a.matched)return null;o=a.consumedSegments,u=n.slice(a.lastChild),i=new he(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bn(t),Ge(t),t.component,t,yn(e),gn(e)+o.length,mn(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Xe(e,o,u,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),f=l.segmentGroup,h=l.slicedSegments;if(0===h.length&&f.hasChildren()){var d=this.processChildren(c,f);return null===d?null:[new ue(i,d)]}if(0===c.length&&0===h.length)return[new ue(i,[])];var p=Ge(t)===r,v=this.processSegment(c,f,h,p?"primary":r);return null===v?null:[new ue(i,v)]}}]),t}();function yn(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function gn(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function bn(t){return t.data||{}}function mn(t){return t.resolve||{}}function wn(t){return Object(L.a)(function(e){var n=t(e);return n?Object(s.a)(n).pipe(Object(D.a)(function(){return e})):Object(a.a)(e)})}var _n=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(function(){function t(){h(this,t)}return p(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),kn=new o.r("ROUTES"),On=function(){function t(e,n,r,i){h(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return p(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(D.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Pe(jt(i.injector.get(kn,void 0,o.q.Self|o.q.Optional)).map(Be),i)}))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(s.a)(this.loader.load(t)):Rt(t()).pipe(Object(G.a)(function(t){return t instanceof o.w?Object(a.a)(t):Object(s.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),En=function t(){h(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Tn,this.attachRef=null},Tn=function(){function t(){h(this,t),this.contexts=new Map}return p(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new En,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),In=function(){function t(){h(this,t)}return p(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Sn(t){throw t}function xn(t,e,n){return e.parse("/")}function jn(t,e){return Object(a.a)(null)}var Cn,An,Rn=((An=function(){function t(e,n,r,i,u,s,a,l){var f=this;h(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new c.a,this.errorHandler=Sn,this.malformedUriErrorHandler=xn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jn,afterPreactivation:jn},this.urlHandlingStrategy=new In,this.routeReuseStrategy=new _n,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=u.get(o.y),this.console=u.get(o.X);var p=u.get(o.A);this.isNgZoneEnabled=p instanceof o.A&&o.A.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Ut(new Mt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new On(s,a,function(t){return f.triggerEvent(new yt(t))},function(t){return f.triggerEvent(new gt(t))}),this.routerState=ce(this.currentUrlTree,this.rootComponentType),this.transitions=new d({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return p(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Object(F.a)(function(t){return 0!==t.id}),Object(D.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Object(L.a)(function(t){var r,i,o,u,c=!1,l=!1;return Object(a.a)(t).pipe(Object(et.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(L.a)(function(t){var r,i,o,u,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(a.a)(t).pipe(Object(L.a)(function(t){var r=e.transitions.getValue();return n.next(new st(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?N.a:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,u=e.config,Object(L.a)(function(t){return function(t,e,n,r,i){return new on(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,u).pipe(Object(D.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(et.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Object(G.a)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var u=new vn(t,e,n,r,i,o).recognize();return null===u?pn(new dn):Object(a.a)(u)}catch(s){return pn(s)}}(t,n,r.urlAfterRedirects,(u=r.urlAfterRedirects,e.serializeUrl(u)),i,o).pipe(Object(D.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var u})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(et.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new ft(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.id,l=t.extractedUrl,f=t.source,h=t.restoredState,d=t.extras,p=new st(c,e.serializeUrl(l),f,h);n.next(p);var v=ce(l,e.rootComponentType).snapshot;return Object(a.a)(Object.assign(Object.assign({},t),{targetSnapshot:v,urlAfterRedirects:l,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),N.a}),wn(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,u=t.extras,s=u.skipLocationChange,a=u.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!a})}),Object(et.a)(function(t){var n=new ht(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(D.a)(function(t){return Object.assign(Object.assign({},t),{guards:cn(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Object(G.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,u=o.canActivateChecks,c=o.canDeactivateChecks;return 0===c.length&&0===u.length?Object(a.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(G.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(a.a)(!0);var u=o.map(function(o){var u,s=ln(o,e,i);if(function(t){return t&&De(t.canDeactivate)}(s))u=Rt(s.canDeactivate(t,e,n,r));else{if(!De(s))throw new Error("Invalid CanDeactivate guard");u=Rt(s(t,e,n,r))}return u.pipe(Object(tt.a)())});return Object(a.a)(u).pipe(Me())}(t.component,t.route,n,e,r)}),Object(tt.a)(function(t){return!0!==t},!0))}(c,r,i,t).pipe(Object(G.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(K(function(e){return Object(R.a)(function(t,e){return null!==t&&e&&e(new bt(t)),Object(a.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new wt(t)),Object(a.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return P(function(){var i=e.guards.map(function(i){var o,u=ln(i,e.node,n);if(function(t){return t&&De(t.canActivateChild)}(u))o=Rt(u.canActivateChild(r,t));else{if(!De(u))throw new Error("Invalid CanActivateChild guard");o=Rt(u(r,t))}return o.pipe(Object(tt.a)())});return Object(a.a)(i).pipe(Me())})});return Object(a.a)(i).pipe(Me())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(a.a)(!0);var i=r.map(function(r){return P(function(){var i,o=ln(r,e,n);if(function(t){return t&&De(t.canActivate)}(o))i=Rt(o.canActivate(e,t));else{if(!De(o))throw new Error("Invalid CanActivate guard");i=Rt(o(e,t))}return i.pipe(Object(tt.a)())})});return Object(a.a)(i).pipe(Me())}(t,e.route,n))}),Object(tt.a)(function(t){return!0!==t},!0))}(r,u,t,e):Object(a.a)(n)}),Object(D.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(et.a)(function(t){if(Le(t.guardsResult)){var n=Tt('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new dt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),Object(F.a)(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new ct(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),wn(function(t){if(t.guards.canActivateChecks.length)return Object(a.a)(t).pipe(Object(et.a)(function(t){var n=new pt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(L.a)(function(t){var r,i,o=!1;return Object(a.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,Object(G.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(a.a)(t);var o=0;return Object(s.a)(n).pipe(K(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(a.a)({});var o={};return Object(s.a)(i).pipe(Object(G.a)(function(i){return function(t,e,n,r){var i=ln(t,e,r);return Rt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(et.a)(function(t){o[i]=t}))}),J(1),Object(G.a)(function(){return Object.keys(o).length===i.length?Object(a.a)(o):N.a}))}(t._resolve,t,e,r).pipe(Object(D.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),fe(t,n).resolve),null}))}(t.route,e,r,i)}),Object(et.a)(function(){return o++}),J(1),Object(G.a)(function(e){return o===n.length?Object(a.a)(t):N.a}))})),Object(et.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new ct(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(et.a)(function(t){var n=new vt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),wn(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,u=t.extras,s=u.skipLocationChange,a=u.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!a})}),Object(D.a)(function(t){var n=function(t,e,n){var r=be(t,e._root,n?n._root:void 0);return new ae(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(et.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,u=function(t){return e.triggerEvent(t)},Object(D.a)(function(t){return new Re(o,t.targetRouterState,t.currentRouterState,u).activate(i),t})),Object(et.a)({next:function(){c=!0},complete:function(){c=!0}}),(r=function(){if(!c&&!l){e.resetUrlToCurrentUrlTree();var r=new ct(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new rt(r))}),q(function(r){if(l=!0,(s=r)&&s.ngNavigationCancelingError){var i=Le(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new ct(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var u=new lt(t.id,e.serializeUrl(t.extractedUrl),r);n.next(u);try{t.resolve(e.errorHandler(r))}catch(a){t.reject(a)}}var s;return N.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var u=Object.assign({},r);delete u.navigationId,0!==Object.keys(u).length&&(o.state=u)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){He(t),this.config=t.map(Be),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,o=e.fragment,u=e.queryParamsHandling,s=e.preserveFragment,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:o,l=null;switch(u){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,o){if(0===n.length)return ke(e.root,e.root,e,r,o);var u=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ee(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var u={};return At(r.outlets,function(t,e){u[e]="string"==typeof t?t.split("/"):t}),[].concat(i(t),[{outlets:u}])}if(r.segmentPath)return[].concat(i(t),[r.segmentPath])}return"string"!=typeof r?[].concat(i(t),[r]):0===o?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(i(t),[r])},[]);return new Ee(n,e,r)}(n);if(u.toRoot())return ke(e.root,new Mt([],{}),e,r,o);var s=function(t,e,n){if(t.isAbsolute)return new Te(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Te(r,r===e.root,0)}var i=we(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Te(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(u,e,t),a=s.processChildren?Se(s.segmentGroup,s.index,u.commands):Ie(s.segmentGroup,s.index,u.commands);return ke(s.segmentGroup,a,e,r,o)}(a,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Le(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Le(t))return Nt(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Nt(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new at(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,u,s,a=this.getTransition(),c="imperative"!==e&&"imperative"===(null==a?void 0:a.source),l=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,u=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,u=e});var f=++this.navigationId;return this.setTransition({id:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:u,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){return new(t||An)(o.Ob(o.N),o.Ob(Ht),o.Ob(Tn),o.Ob(r.g),o.Ob(o.s),o.Ob(o.x),o.Ob(o.i),o.Ob(void 0))},An.\u0275prov=o.Cb({token:An,factory:An.\u0275fac}),An),Nn=((Cn=function(){function t(e,n,r){var i=this;h(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new c.a,this.subscription=e.events.subscribe(function(t){t instanceof at&&i.updateTargetUrlAndHref()})}return p(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Pn(this.skipLocationChange),replaceUrl:Pn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pn(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||Cn)(o.Gb(Rn),o.Gb(le),o.Gb(r.h))},Cn.\u0275dir=o.Bb({type:Cn,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&o.Rb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(o.Nb("href",e.href,o.ac),o.yb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.wb]}),Cn);function Pn(t){return""===t||!!t}var Dn,Ln,Un,Mn=((Dn=function(){function t(e,n,r,i,u){h(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.n,this.deactivateEvents=new o.n,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return p(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Vn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||Dn)(o.Gb(Tn),o.Gb(o.Q),o.Gb(o.j),o.Pb("name"),o.Gb(o.h))},Dn.\u0275dir=o.Bb({type:Dn,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Dn),Vn=function(){function t(e,n,r){h(this,t),this.route=e,this.childContexts=n,this.parent=r}return p(t,[{key:"get",value:function(t,e){return t===le?this.route:t===Tn?this.childContexts:this.parent.get(t,e)}}]),t}(),Fn=function t(){h(this,t)},Hn=function(){function t(){h(this,t)}return p(t,[{key:"preload",value:function(t,e){return Object(a.a)(null)}}]),t}(),qn=((Un=function(){function t(e,n,r,i,o){h(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new On(n,r,function(t){return e.triggerEvent(new yt(t))},function(t){return e.triggerEvent(new gt(t))})}return p(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Object(F.a)(function(t){return t instanceof at}),K(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(o.y);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=u(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(c){i.e(c)}finally{i.f()}return Object(s.a)(r).pipe(Object(ot.a)(),Object(D.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(G.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||Un)(o.Ob(Rn),o.Ob(o.x),o.Ob(o.i),o.Ob(o.s),o.Ob(Fn))},Un.\u0275prov=o.Cb({token:Un,factory:Un.\u0275fac}),Un),zn=((Ln=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return p(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof st?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof at&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof kt&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new kt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ln)(o.Ob(Rn),o.Ob(r.m),o.Ob(void 0))},Ln.\u0275prov=o.Cb({token:Ln,factory:Ln.\u0275fac}),Ln),Bn=new o.r("ROUTER_CONFIGURATION"),Gn=new o.r("ROUTER_FORROOT_GUARD"),Kn=[r.g,{provide:Ht,useClass:qt},{provide:Rn,useFactory:function(t,e,n,i,o,u,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,f=new Rn(null,t,e,n,i,o,u,jt(s));if(c&&(f.urlHandlingStrategy=c),l&&(f.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,f),a.enableTracing){var h=Object(r.q)();f.events.subscribe(function(t){h.logGroup("Router Event: ".concat(t.constructor.name)),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return f},deps:[Ht,Tn,r.g,o.s,o.x,o.i,kn,Bn,[function(){return function t(){h(this,t)}}(),new o.B],[function(){return function t(){h(this,t)}}(),new o.B]]},Tn,{provide:le,useFactory:function(t){return t.routerState.root},deps:[Rn]},{provide:o.x,useClass:o.K},qn,Hn,function(){function t(){h(this,t)}return p(t,[{key:"preload",value:function(t,e){return e().pipe(q(function(){return Object(a.a)(null)}))}}]),t}(),{provide:Bn,useValue:{enableTracing:!1}}];function Wn(){return new o.z("Router",Rn)}var Jn,Xn=((Jn=function(){function t(e,n){h(this,t)}return p(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Kn,$n(e),{provide:Gn,useFactory:Qn,deps:[[Rn,new o.B,new o.J]]},{provide:Bn,useValue:n||{}},{provide:r.h,useFactory:Yn,deps:[r.l,[new o.p(r.a),new o.B],Bn]},{provide:zn,useFactory:Zn,deps:[Rn,r.m,Bn]},{provide:Fn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Hn},{provide:o.z,multi:!0,useFactory:Wn},[er,{provide:o.d,multi:!0,useFactory:nr,deps:[er]},{provide:ir,useFactory:rr,deps:[er]},{provide:o.b,multi:!0,useExisting:ir}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[$n(e)]}}}]),t}()).\u0275mod=o.Eb({type:Jn}),Jn.\u0275inj=o.Db({factory:function(t){return new(t||Jn)(o.Ob(Gn,8),o.Ob(Rn,8))}}),Jn);function Zn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new zn(t,e,n)}function Yn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new r.e(t,e):new r.k(t,e)}function Qn(t){return"guarded"}function $n(t){return[{provide:o.a,multi:!0,useValue:t},{provide:kn,multi:!0,useValue:t}]}var tr,er=((tr=function(){function t(e){h(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new c.a}return p(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(r.f,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Rn),i=t.injector.get(Bn);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(a.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Bn),n=this.injector.get(qn),r=this.injector.get(zn),i=this.injector.get(Rn),u=this.injector.get(o.g);t===u.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||tr)(o.Ob(o.s))},tr.\u0275prov=o.Cb({token:tr,factory:tr.\u0275fac}),tr);function nr(t){return t.appInitializer.bind(t)}function rr(t){return t.bootstrapListener.bind(t)}var ir=new o.r("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q");function i(){}var o=n("n6bG");function u(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){h(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r,u,s){var a;return h(this,n),(a=e.call(this,t))._tapNext=i,a._tapError=i,a._tapComplete=i,a._tapError=u||i,a._tapComplete=s||i,Object(o.a)(r)?(a._context=m(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||i,a._tapError=r.error||i,a._tapComplete=r.complete||i),a}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new o(t))}}var o=function(){function t(e){h(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.defaultValue))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(r.a)},xt9q:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",function(){return d});var r,i,o=n("ofXK"),u=n("tyNb"),s=n("fXoL"),a=[{path:"orders",component:(i=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(),i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Ab({type:i,selectors:[["app-admin-orders"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Lb(0,"p"),s.ec(1,"admin-orders works!"),s.Kb())},styles:[""]}),i)},{path:"products",component:(r=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(),r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=s.Ab({type:r,selectors:[["app-admin-products"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Lb(0,"p"),s.ec(1,"admin-products works!"),s.Kb())},styles:[""]}),r)}];u.b.forChild(a);var c,l,f=((l=function t(){h(this,t)}).\u0275mod=s.Eb({type:l}),l.\u0275inj=s.Db({factory:function(t){return new(t||l)},imports:[[u.b.forChild(a)],u.b]}),l),d=((c=function t(){h(this,t)}).\u0275mod=s.Eb({type:c}),c.\u0275inj=s.Db({factory:function(t){return new(t||c)},imports:[[o.c,f]]}),c)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function u(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),u=n("qOnz"),s=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new u.b("app","Firebase",c),f=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),h=new a.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(u.f)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return a},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){h.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(u.d)(e,s))throw l.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&a.push("and"),u&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void h.warn(a.join(" "))}c(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(u.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var a,c,f=s.name;if(n.has(f))return h.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===s.type?r[f]:null;if(n.set(f,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[f])throw l.create("invalid-app-argument",{appName:f});return t[f]()};void 0!==s.serviceProps&&Object(u.g)(d,s.serviceProps),r[f]=d,t.prototype[f]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,f).apply(this,s.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(s)}catch(y){a={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}return"PUBLIC"===s.type?r[f]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(u.g)(e,t)},createSubscribe:u.e,ErrorFactory:u.b,deepExtend:u.g}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(u.i)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(u.n)()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var b=p;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.14",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,o){"use strict";o.r(r);var u,s,a,c,l=o("ofXK"),d=o("fXoL"),y=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=b||(b=document.querySelector("base"))?b.getAttribute("href"):null;return null==n?null:(e=n,u||(u=document.createElement("a")),u.setAttribute("href",e),"/"===u.pathname.charAt(0)?u.pathname:"/"+u.pathname)}},{key:"resetBaseElement",value:function(){b=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Object(l.r)(document.cookie,t)}}],[{key:"makeCurrent",value:function(){Object(l.s)(new n)}}]),n}(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(l.o)),b=null,m=new d.r("TRANSITION_ID"),w=[{provide:d.d,useFactory:function(t,e,n){return function(){n.get(d.e).donePromise.then(function(){var n=Object(l.q)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[m,l.d,d.s],multi:!0}],k=function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){d.nb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},d.nb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},d.nb.getAllAngularRootElements=function(){return t.getAllRootElements()},d.nb.frameworkStabilizers||(d.nb.frameworkStabilizers=[]),d.nb.frameworkStabilizers.push(function(t){var e=d.nb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Object(l.q)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(d.W)(new t)}}]),t}(),O=new d.r("EventManagerPlugins"),E=((s=function(){function t(e,n){var r=this;h(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||s)(d.Ob(O),d.Ob(d.A))},s.\u0275prov=d.Cb({token:s,factory:s.\u0275fac}),s),T=function(){function t(e){h(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=Object(l.q)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),I=((c=function(){function t(){h(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||c)},c.\u0275prov=d.Cb({token:c,factory:c.\u0275fac}),c),S=((a=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return p(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return Object(l.q)().remove(t)})}}]),n}(I)).\u0275fac=function(t){return new(t||a)(d.Ob(l.d))},a.\u0275prov=d.Cb({token:a,factory:a.\u0275fac}),a),x={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},j=/%COMP%/g;function C(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?C(t,i,n):(i=i.replace(j,t),n.push(i))}return n}function A(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var R,N,P,D,L=((R=function(){function t(e,n,r){h(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new U(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case d.R.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new M(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case d.R.ShadowDom:return new V(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=C(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||R)(d.Ob(E),d.Ob(S),d.Ob(d.c))},R.\u0275prov=d.Cb({token:R,factory:R.\u0275fac}),R),U=function(){function t(e){h(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(x[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=x[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=x[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(d.G.DashCase|d.G.Important)?t.style.setProperty(e,n,r&d.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&d.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,A(n)):this.eventManager.addEventListener(t,e,A(n))}}]),t}(),M=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;h(this,n),(u=e.call(this,t)).component=i;var s=C(o+"-"+i.id,i.styles,[]);return r.addStyles(s),u.contentAttr="_ngcontent-%COMP%".replace(j,o+"-"+i.id),u.hostAttr="_nghost-%COMP%".replace(j,o+"-"+i.id),u}return p(n,[{key:"applyToHost",value:function(t){f(_(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=f(_(n.prototype),"createElement",this).call(this,t,e);return f(_(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(U),V=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;h(this,n),(u=e.call(this,t)).sharedStylesHost=r,u.hostEl=i,u.shadowRoot=i.attachShadow({mode:"open"}),u.sharedStylesHost.addHost(u.shadowRoot);for(var s=C(o.id,o.styles,[]),a=0;a<s.length;a++){var c=document.createElement("style");c.textContent=s[a],u.shadowRoot.appendChild(c)}return u}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return f(_(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return f(_(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return f(_(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(f(_(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(U),F=((N=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(T)).\u0275fac=function(t){return new(t||N)(d.Ob(l.d))},N.\u0275prov=d.Cb({token:N,factory:N.\u0275fac}),N),H=["alt","control","meta","shift"],q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},B={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},G=((P=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Object(l.q)().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(H.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var u={};return u.domEventName=r,u.fullKey=o,u}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&z.hasOwnProperty(e)&&(e=z[e]))}return q[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),H.forEach(function(r){r!=n&&(0,B[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(T)).\u0275fac=function(t){return new(t||P)(d.Ob(l.d))},P.\u0275prov=d.Cb({token:P,factory:P.\u0275fac}),P),K=[{provide:d.C,useValue:l.p},{provide:d.D,useValue:function(){y.makeCurrent(),k.init()},multi:!0},{provide:l.d,useFactory:function(){return Object(d.tb)(document),document},deps:[]}],W=Object(d.S)(d.V,"browser",K),J=[[],{provide:d.Y,useValue:"root"},{provide:d.m,useFactory:function(){return new d.m},deps:[]},{provide:O,useClass:F,multi:!0,deps:[l.d,d.A,d.C]},{provide:O,useClass:G,multi:!0,deps:[l.d]},[],{provide:L,useClass:L,deps:[E,S,d.c]},{provide:d.F,useExisting:L},{provide:I,useExisting:S},{provide:S,useClass:S,deps:[l.d]},{provide:d.M,useClass:d.M,deps:[d.A]},{provide:E,useClass:E,deps:[O,d.A]},[]],X=((D=function(){function t(e){if(h(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:d.c,useValue:e.appId},{provide:m,useExisting:d.c},w]}}}]),t}()).\u0275mod=d.Eb({type:D}),D.\u0275inj=d.Db({factory:function(t){return new(t||D)(d.Ob(D,12))},providers:J,imports:[l.c,d.f]}),D);"undefined"!=typeof window&&window;var Z={apiKey:"AIzaSyBrB1h9SUCxREPs6G6oPqY40y5ySB4u_zk",authDomain:"mexshop-3c42f.firebaseapp.com",projectId:"mexshop-3c42f",storageBucket:"mexshop-3c42f.appspot.com",messagingSenderId:"378832029940",appId:"1:378832029940:web:391e448ad1a2239d2d76a1",measurementId:"G-MBQ1P25DFM"},Y=o("spgP"),Q=o("D0XW"),$=o("HDdC"),tt=o("Cfvw"),et=o("LRne"),nt=o("JX91"),rt=o("7o/Q");function it(){return function(t){return t.lift(new ot)}}var ot=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ut(t))}}]),t}(),ut=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(rt.a),st=o("lJxs"),at=o("Kqap"),ct=function(){function t(e,n){h(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new lt(t,this.compare,this.keySelector))}}]),t}(),lt=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(rt.a),ft=o("pLZG"),ht=o("pxpQ"),dt=o("Jgta"),pt=o("zIRd"),vt=o("q/0M"),yt=o("qOnz"),gt=function(t,e){return(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function bt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var mt,wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_t=_t||{},kt=wt||self;function Ot(){}function Et(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Tt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var It="closure_uid_"+(1e9*Math.random()>>>0),St=0;function xt(t,e,n){return t.call.apply(t.bind,arguments)}function jt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ct(t,e,n){return(Ct=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xt:jt).apply(null,arguments)}function At(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Rt(){return Date.now()}function Nt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Pt(){this.j=this.j,this.i=this.i}Pt.prototype.j=!1,Pt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,It)&&t[It]||(t[It]=++St)}(this)},Pt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Dt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Lt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ut(t){return Array.prototype.concat.apply([],arguments)}function Mt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vt(t){return/^[\s\xa0]*$/.test(t)}var Ft,Ht=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function qt(t,e){return-1!=t.indexOf(e)}function zt(t,e){return t<e?-1:t>e?1:0}t:{var Bt=kt.navigator;if(Bt){var Gt=Bt.userAgent;if(Gt){Ft=Gt;break t}}Ft=""}function Kt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Wt(t){var e={};for(var n in t)e[n]=t[n];return e}var Jt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Jt.length;o++)n=Jt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zt(t){return Zt[" "](t),t}Zt[" "]=Ot;var Yt,Qt,$t=qt(Ft,"Opera"),te=qt(Ft,"Trident")||qt(Ft,"MSIE"),ee=qt(Ft,"Edge"),ne=ee||te,re=qt(Ft,"Gecko")&&!(qt(Ft.toLowerCase(),"webkit")&&!qt(Ft,"Edge"))&&!(qt(Ft,"Trident")||qt(Ft,"MSIE"))&&!qt(Ft,"Edge"),ie=qt(Ft.toLowerCase(),"webkit")&&!qt(Ft,"Edge");function oe(){var t=kt.document;return t?t.documentMode:void 0}t:{var ue="",se=(Qt=Ft,re?/rv:([^\);]+)(\)|;)/.exec(Qt):ee?/Edge\/([\d\.]+)/.exec(Qt):te?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qt):ie?/WebKit\/(\S+)/.exec(Qt):$t?/(?:Version)[ \/]?(\S+)/.exec(Qt):void 0);if(se&&(ue=se?se[1]:""),te){var ae=oe();if(null!=ae&&ae>parseFloat(ue)){Yt=String(ae);break t}}Yt=ue}var ce={};function le(t){return function(t,e){var n=ce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ht(String(Yt)).split("."),r=Ht(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var u=n[o]||"",s=r[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==u[0].length&&0==s[0].length)break;e=zt(0==u[1].length?0:parseInt(u[1],10),0==s[1].length?0:parseInt(s[1],10))||zt(0==u[2].length,0==s[2].length)||zt(u[2],s[2]),u=u[3],s=s[3]}while(0==e)}return 0<=e})}var fe=kt.document&&te&&(oe()||parseInt(Yt,10))||void 0,he=!te||9<=Number(fe),de=te&&!le("9"),pe=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{kt.addEventListener("test",Ot,e),kt.removeEventListener("test",Ot,e)}catch(n){}return t}();function ve(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ye(t,e){if(ve.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(re){t:{try{Zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ge[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ve.prototype.b=function(){this.defaultPrevented=!0},Nt(ye,ve);var ge={2:"touch",3:"pen",4:"mouse"};ye.prototype.b=function(){ye.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,de)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var be="closure_listenable_"+(1e6*Math.random()|0),me=0;function we(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++me,this.Y=this.Z=!1}function _e(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ke(t){this.src=t,this.a={},this.b=0}function Oe(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Dt(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(_e(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ee(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ke.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var u=Ee(t,e,r,i);return-1<u?(e=t[u],n||(e.Z=!1)):((e=new we(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Te="closure_lm_"+(1e6*Math.random()|0),Ie={};function Se(t,e,n,r,i){if(r&&r.once)return je(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Se(t,e[o],n,r,i);return null}return n=Ue(n),t&&t[be]?t.va(e,n,Tt(r)?!!r.capture:!!r,i):xe(t,e,n,!1,r,i)}function xe(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var u=Tt(i)?!!i.capture:!!i;if(u&&!he)return null;var s=De(t);if(s||(t[Te]=s=new ke(t)),(n=s.add(e,n,r,u,o)).proxy)return n;if(r=function(){var t=Pe,e=he?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pe||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Re(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function je(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)je(t,e[o],n,r,i);return null}return n=Ue(n),t&&t[be]?t.wa(e,n,Tt(r)?!!r.capture:!!r,i):xe(t,e,n,!0,r,i)}function Ce(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ce(t,e[o],n,r,i);else r=Tt(r)?!!r.capture:!!r,n=Ue(n),t&&t[be]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ee(o=t.a[e],n,r,i))&&(_e(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=De(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ee(e,n,r,i)),(n=-1<t?e[t]:null)&&Ae(n))}function Ae(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[be])Oe(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Re(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=De(e))?(Oe(n,t),0==n.b&&(n.src=null,e[Te]=null)):_e(t)}}}function Re(t){return t in Ie?Ie[t]:Ie[t]="on"+t}function Ne(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ae(t),n.call(r,e)}function Pe(t,e){if(t.Y)return!0;if(!he){if(!e)t:{e=["window","event"];for(var n=kt,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ne(t,e=new ye(e,this))}return Ne(t,new ye(e,this))}function De(t){return(t=t[Te])instanceof ke?t:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(t){return"function"==typeof t?t:(t[Le]||(t[Le]=function(e){return t.handleEvent(e)}),t[Le])}function Me(){Pt.call(this),this.c=new ke(this),this.J=this,this.C=null}function Ve(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ve(e,t);else if(e instanceof ve)e.target=e.target||t;else{var i=e;Xt(e=new ve(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var u=e.a=n[o];i=Fe(u,r,!0,e)&&i}if(i=Fe(u=e.a=t,r,!0,e)&&i,i=Fe(u,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Fe(u=e.a=n[o],r,!1,e)&&i}function Fe(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.Y&&u.capture==n){var s=u.listener,a=u.ca||u.src;u.Z&&Oe(t.c,u),i=!1!==s.call(a,r)&&i}}return i&&!r.defaultPrevented}Nt(Me,Pt),Me.prototype[be]=!0,(mt=Me.prototype).addEventListener=function(t,e,n,r){Se(this,t,e,n,r)},mt.removeEventListener=function(t,e,n,r){Ce(this,t,e,n,r)},mt.G=function(){if(Me.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)_e(n[r]);delete e.a[t],e.b--}}this.C=null},mt.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},mt.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var He=kt.JSON.stringify;function qe(){this.b=this.a=null}var ze,Be=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ke},function(t){t.reset()});function Ge(){var t=Ze,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ke(){this.next=this.b=this.a=null}function We(t){kt.setTimeout(function(){throw t},0)}function Je(t,e){ze||function(){var t=kt.Promise.resolve(void 0);ze=function(){t.then(Ye)}}(),Xe||(ze(),Xe=!0),Ze.add(t,e)}qe.prototype.add=function(t,e){var n=Be.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ke.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ke.prototype.reset=function(){this.next=this.b=this.a=null};var Xe=!1,Ze=new qe;function Ye(){for(var t;t=Ge();){try{t.a.call(t.b)}catch(n){We(n)}var e=Be;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Xe=!1}function Qe(t,e){Me.call(this),this.b=t||1,this.a=e||kt,this.f=Ct(this.Za,this),this.g=Rt()}function $e(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function tn(t,e,n){if("function"==typeof t)n&&(t=Ct(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ct(t.handleEvent,t)}return 2147483647<Number(e)?-1:kt.setTimeout(t,e||0)}function en(t){t.a=tn(function(){t.a=null,t.c&&(t.c=!1,en(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Nt(Qe,Me),(mt=Qe.prototype).aa=!1,mt.M=null,mt.Za=function(){if(this.aa){var t=Rt()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ve(this,"tick"),this.aa&&($e(this),this.start()))}},mt.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Rt())},mt.G=function(){Qe.X.G.call(this),$e(this),delete this.a};var nn=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}gt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:en(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(kt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Pt);function rn(t){Pt.call(this),this.b=t,this.a={}}Nt(rn,Pt);var on=[];function un(t,e,n,r){Array.isArray(n)||(n&&(on[0]=n.toString()),n=on);for(var i=0;i<n.length;i++){var o=Se(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function sn(t){Kt(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ae(t)},t),t.a={}}function an(){this.a=!0}function cn(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<i.length;u++)i[u]=""}}}return He(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}rn.prototype.G=function(){rn.X.G.call(this),sn(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},an.prototype.info=function(){};var ln={},fn=null;function hn(){return fn=fn||new Me}function dn(t){ve.call(this,ln.Fa,t)}function pn(t){var e=hn();Ve(e,new dn(e,t))}function vn(t,e){ve.call(this,ln.STAT_EVENT,t),this.stat=e}function yn(t){var e=hn();Ve(e,new vn(e,t))}function gn(t){ve.call(this,ln.Ga,t)}function bn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){t()},e)}ln.Fa="serverreachability",Nt(dn,ve),ln.STAT_EVENT="statevent",Nt(vn,ve),ln.Ga="timingevent",Nt(gn,ve);var mn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},wn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _n(){}function kn(){}_n.prototype.a=null;var On,En={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Tn(){ve.call(this,"d")}function In(){ve.call(this,"c")}function Sn(){}function xn(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new rn(this),this.P=jn,this.R=new Qe(t=ne?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Nt(Tn,ve),Nt(In,ve),Nt(Sn,_n),On=new Sn;var jn=45e3,Cn={},An={};function Rn(t,e,n){t.H=1,t.i=tr(Jn(e)),t.j=n,t.I=!0,Nn(t,null)}function Nn(t,e){t.u=Rt(),Ln(t),t.l=Jn(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),dr(n.b,"t",r),t.D=0,t.a=si(t.g,t.g.C?e:null),0<t.O&&(t.F=new nn(Ct(t.Ca,t,t.a),t.O)),un(t.J,t.a,"readystatechange",t.Xa),e=t.B?Wt(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),pn(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var u="",s=o.split("&"),a=0;a<s.length;a++){var c=s[a].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");u=2<=f.length&&"type"==f[1]?u+(l+"=")+c+"&":u+(l+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+u})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Pn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Dn(t,n);if(i==An){4==e&&(t.h=4,yn(14),r=!1),cn(t.c,t.f,null,"[Incomplete Response]");break}if(i==Cn){t.h=4,yn(15),cn(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}cn(t.c,t.f,i,null),Hn(t,i)}4==e&&0==n.length&&(t.h=1,yn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),$r(e),e.F=!0,yn(11))):(cn(t.c,t.f,n,"[Invalid Chunked Response]"),Fn(t),Vn(t))}function Dn(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?An:(n=Number(e.substring(n,r)),isNaN(n)?Cn:(r+=1)+n>e.length?An:(e=e.substr(r,n),t.D=r+n,e))}function Ln(t){t.T=Rt()+t.P,Un(t,t.P)}function Un(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=bn(Ct(t.Va,t),e)}function Mn(t){t.o&&(kt.clearTimeout(t.o),t.o=null)}function Vn(t){0==t.g.v||t.A||ni(t.g,t)}function Fn(t){Mn(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,$e(t.R),sn(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Hn(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||wr(n.b,t)))if(n.I=t.N,!t.C&&wr(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Wd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ei(n),Br(n)}Qr(n),yn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=bn(Ct(n.Sa,n),6e3));if(1>=mr(n.b)&&n.ea){try{n.ea()}catch(Wd){}n.ea=void 0}}else ii(n,11)}else if((t.C||n.a==t)&&ei(n),!Vt(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var u=i[4];null!=u&&(n.pa=u,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var a=1.5*s;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=a.b;!f.a&&(qt(l,"spdy")||qt(l,"quic")||qt(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(_r(f,f.b),f.b=null))}if(a.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.na=h,$n(a.B,a.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Rt()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=ui(a,a.C?a.ga:null,a.fa),d.C){kr(a.b,d);var p=d,v=a.D;v&&p.setTimeout(v),p.o&&(Mn(p),Ln(p)),a.a=d}else Yr(a);0<n.g.length&&Wr(n)}else"stop"!=i[0]&&"close"!=i[0]||ii(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ii(n,7):zr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);pn(4)}catch(Wd){}}function qn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Et(t)||"string"==typeof t)Lt(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Et(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Et(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function zn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zn)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Bn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Gn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Gn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(mt=xn.prototype).setTimeout=function(t){this.P=t},mt.Xa=function(t){t=t.target;var e=this.F;e&&3==Vr(t)?e.f():this.Ca(t)},mt.Ca=function(t){try{if(t==this.a)t:{var e=Vr(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ne&&!this.a.$())){this.A||4!=e||7==n||pn(8==n||0>=r?3:2),Mn(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+u})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var u,s=this.a;if((u=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vt(u)){var a=u;break e}}a=null}if(!a){this.b=!1,this.h=3,yn(12),Fn(this),Vn(this);break t}cn(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Hn(this,a)}this.I?(Pn(this,e,o),ne&&this.b&&3==e&&(un(this.J,this.R,"tick",this.Wa),this.R.start())):(cn(this.c,this.f,o,null),Hn(this,o)),4==e&&Fn(this),this.b&&!this.A&&(4==e?ni(this.g,this):(this.b=!1,Ln(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,yn(12)):(this.h=0,yn(13)),Fn(this),Vn(this)}}}catch(c){}},mt.Wa=function(){if(this.a){var t=Vr(this.a),e=this.a.$();this.D<e.length&&(Mn(this),Pn(this,t,e),this.b&&4!=t&&Ln(this))}},mt.cancel=function(){this.A=!0,Fn(this)},mt.Va=function(){this.o=null;var t=Rt();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(pn(3),yn(17)),Fn(this),this.h=2,Vn(this)):Un(this,this.T-t)},(mt=zn.prototype).K=function(){Bn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},mt.L=function(){return Bn(this),this.a.concat()},mt.get=function(t,e){return Gn(this.b,t)?this.b[t]:e},mt.set=function(t,e){Gn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},mt.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Kn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wn(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Wn){this.a=void 0!==e?e:t.a,Xn(this,t.f),this.j=t.j,Zn(this,t.c),Yn(this,t.h),this.g=t.g,e=t.b;var n=new cr;n.c=e.c,e.a&&(n.a=new zn(e.a),n.b=e.b),Qn(this,n),this.i=t.i}else t&&(n=String(t).match(Kn))?(this.a=!!e,Xn(this,n[1]||"",!0),this.j=er(n[2]||""),Zn(this,n[3]||"",!0),Yn(this,n[4]),this.g=er(n[5]||"",!0),Qn(this,n[6]||"",!0),this.i=er(n[7]||"")):(this.a=!!e,this.b=new cr(null,this.a))}function Jn(t){return new Wn(t)}function Xn(t,e,n){t.f=n?er(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Zn(t,e,n){t.c=n?er(e,!0):e}function Yn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Qn(t,e,n){e instanceof cr?(t.b=e,function(t,e){e&&!t.f&&(lr(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(fr(this,e),dr(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=nr(e,sr)),t.b=new cr(e,t.a))}function $n(t,e,n){t.b.set(e,n)}function tr(t){return $n(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Rt()).toString(36)),t}function er(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nr(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Wn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nr(e,ir,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(nr(e,ir,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(nr(n,"/"==n.charAt(0)?ur:or,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",nr(n,ar)),t.join("")};var ir=/[#\/\?@]/g,or=/[#\?:]/g,ur=/[#\?]/g,sr=/[#\?@]/g,ar=/#/g;function cr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function lr(t){t.a||(t.a=new zn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function fr(t,e){lr(t),e=pr(t,e),Gn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Gn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Bn(t)))}function hr(t,e){return lr(t),e=pr(t,e),Gn(t.a.b,e)}function dr(t,e,n){fr(t,e),0<n.length&&(t.c=null,t.a.set(pr(t,e),Mt(n)),t.b+=n.length)}function pr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(mt=cr.prototype).add=function(t,e){lr(this),this.c=null,t=pr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},mt.forEach=function(t,e){lr(this),this.a.forEach(function(n,r){Lt(n,function(n){t.call(e,n,r,this)},this)},this)},mt.L=function(){lr(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},mt.K=function(t){lr(this);var e=[];if("string"==typeof t)hr(this,t)&&(e=Ut(e,this.a.get(pr(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ut(e,t[n])}return e},mt.set=function(t,e){return lr(this),this.c=null,hr(this,t=pr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},mt.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},mt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var u=i;""!==r[o]&&(u+="="+encodeURIComponent(String(r[o]))),t.push(u)}}return this.c=t.join("&")};var vr=function(t,e){this.b=t,this.a=e};function yr(t){this.g=t||gr,t=kt.PerformanceNavigationTiming?0<(t=kt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(kt.ia&&kt.ia.ya&&kt.ia.ya()&&kt.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var gr=10;function br(t){return!!t.b||!!t.a&&t.a.size>=t.f}function mr(t){return t.b?1:t.a?t.a.size:0}function wr(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function _r(t,e){t.a?t.a.add(e):t.b=e}function kr(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Or(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=bt(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Mt(t.c)}function Er(){}function Tr(){this.a=new Er}function Ir(t,e,n){var r=n||"";try{qn(t,function(t,n){var i=t;Tt(t)&&(i=He(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Dp){throw e.push(r+"type="+encodeURIComponent("_badmap")),Dp}}function Sr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}yr.prototype.cancel=function(){var t,e;if(this.c=Or(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=bt(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Er.prototype.stringify=function(t){return kt.JSON.stringify(t,void 0)},Er.prototype.parse=function(t){return kt.JSON.parse(t,void 0)};var xr=kt.JSON.parse;function jr(t){Me.call(this),this.headers=new zn,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Cr,this.D=this.F=!1}Nt(jr,Me);var Cr="",Ar=/^https?$/i,Rr=["POST","PUT"];function Nr(t){return"content-type"==t.toLowerCase()}function Pr(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Dr(t),Ur(t)}function Dr(t){t.u||(t.u=!0,Ve(t,"complete"),Ve(t,"error"))}function Lr(t){if(t.b&&void 0!==_t&&(!t.s[1]||4!=Vr(t)||2!=t.W()))if(t.l&&4==Vr(t))tn(t.za,0,t);else if(Ve(t,"readystatechange"),4==Vr(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Kn)[1]||null;if(!o&&kt.self&&kt.self.location){var u=kt.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ar.test(o?o.toLowerCase():"")}e=i}if(e)Ve(t,"complete"),Ve(t,"success");else{t.h=6;try{var s=2<Vr(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Dr(t)}}finally{Ur(t)}}}function Ur(t,e){if(t.a){Mr(t);var n=t.a,r=t.s[0]?Ot:null;t.a=null,t.s=null,e||Ve(t,"ready");try{n.onreadystatechange=r}catch(Dp){}}}function Mr(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(kt.clearTimeout(t.m),t.m=null)}function Vr(t){return t.a?t.a.readyState:0}function Fr(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Kt(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$n(t,e,n))}function Hr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qr(t){this.pa=0,this.g=[],this.c=new an,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Hr("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Hr("baseRetryDelayMs",5e3,t),this.Ra=Hr("retryDelaySeedMs",1e4,t),this.Ma=Hr("forwardChannelMaxRetries",2,t),this.ma=Hr("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new yr(t&&t.concurrentRequestLimit),this.ka=new Tr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function zr(t){if(Gr(t),3==t.v){var e=t.R++,n=Jn(t.B);$n(n,"SID",t.J),$n(n,"RID",e),$n(n,"TYPE","terminate"),Xr(t,n),(e=new xn(t,t.c,e,void 0)).H=2,e.i=tr(Jn(n)),n=!1,kt.navigator&&kt.navigator.sendBeacon&&(n=kt.navigator.sendBeacon(e.i.toString(),"")),!n&&kt.Image&&((new Image).src=e.i,n=!0),n||(e.a=si(e.g,null),e.a.ba(e.i)),e.u=Rt(),Ln(e)}oi(t)}function Br(t){t.a&&($r(t),t.a.cancel(),t.a=null)}function Gr(t){Br(t),t.j&&(kt.clearTimeout(t.j),t.j=null),ei(t),t.b.cancel(),t.h&&("number"==typeof t.h&&kt.clearTimeout(t.h),t.h=null)}function Kr(t,e){t.g.push(new vr(t.Oa++,e)),3==t.v&&Wr(t)}function Wr(t){br(t.b)||t.h||(t.h=!0,Je(t.Ba,t),t.u=0)}function Jr(t,e){var n;n=e?e.f:t.R++;var r=Jn(t.B);$n(r,"SID",t.J),$n(r,"RID",n),$n(r,"AID",t.P),Xr(t,r),t.i&&t.l&&Fr(r,t.i,t.l),n=new xn(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Zr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_r(t.b,n),Rn(n,r,e)}function Xr(t,e){t.f&&qn({},function(t,n){$n(e,n,t)})}function Zr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ct(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var u=["count="+n];-1==o?0<n?u.push("ofs="+(o=i[0].b)):o=0:u.push("ofs="+o);for(var s=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),s=!1;else try{Ir(l,u,"req"+c+"_")}catch(zi){r&&r(l)}}if(s){r=u.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Yr(t){t.a||t.j||(t.T=1,Je(t.Aa,t),t.o=0)}function Qr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=bn(Ct(t.Aa,t),ri(t,t.o)),t.o++,0))}function $r(t){null!=t.s&&(kt.clearTimeout(t.s),t.s=null)}function ti(t){t.a=new xn(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Jn(t.la);$n(e,"RID","rpc"),$n(e,"SID",t.J),$n(e,"CI",t.H?"0":"1"),$n(e,"AID",t.P),Xr(t,e),$n(e,"TYPE","xmlhttp"),t.i&&t.l&&Fr(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=tr(Jn(e)),n.j=null,n.I=!0,Nn(n,t)}function ei(t){null!=t.m&&(kt.clearTimeout(t.m),t.m=null)}function ni(t,e){var n=null;if(t.a==e){ei(t),$r(t),t.a=null;var r=2}else{if(!wr(t.b,e))return;n=e.s,kr(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Rt()-e.u;var i=t.u;Ve(r=hn(),new gn(r,n,e,i)),Wr(t)}else Yr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(mr(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=bn(Ct(t.Ba,t,e),ri(t,t.u)),t.u++,0)))}(t,e)||2==r&&Qr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ii(t,5);break;case 4:ii(t,10);break;case 3:ii(t,6);break;default:ii(t,2)}}function ri(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ii(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ct(t.Ya,t);n||(n=new Wn("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||Xn(n,"https"),tr(n)),function(t,e){var n=new an;if(kt.Image){var r=new Image;r.onload=At(Sr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=At(Sr,n,r,"TestLoadImage: error",!1,e),r.onabort=At(Sr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=At(Sr,n,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else yn(2);t.v=0,t.f&&t.f.ra(e),oi(t),Gr(t)}function oi(t){t.v=0,t.I=-1,t.f&&(0==Or(t.b).length&&0==t.g.length||(t.b.c.length=0,Mt(t.g),t.g.length=0),t.f.qa())}function ui(t,e,n){var r=function(t){return t instanceof Wn?Jn(t):new Wn(t,void 0)}(n);if(""!=r.c)e&&Zn(r,e+"."+r.c),Yn(r,r.h);else{var i=kt.location;r=function(t,e,n,r){var i=new Wn(null,void 0);return t&&Xn(i,t),e&&Zn(i,e),n&&Yn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Kt(t.V,function(t,e){$n(r,e,t)}),n=t.na,(e=t.A)&&n&&$n(r,e,n),$n(r,"VER",t.ha),Xr(t,r),r}function si(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jr(t.Na)).F=t.C,e}function ai(){}function ci(){if(te&&!(10<=Number(fe)))throw Error("Environmental error: no available transport.")}function li(t,e){Me.call(this),this.a=new qr(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Vt(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vt(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new di(this)}function fi(t){Tn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hi(){In.call(this),this.status=1}function di(t){this.a=t}(mt=jr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:On),this.a.onreadystatechange=Ct(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Pr(this,o)}t=n||"";var i=new zn(this.headers);r&&qn(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Nr,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=kt.FormData&&t instanceof kt.FormData,!(0<=Dt(Rr,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Mr(this),0<this.o&&((this.D=function(t){return te&&le(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ct(this.xa,this)):this.m=tn(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Pr(this,o)}},mt.xa=function(){void 0!==_t&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ve(this,"timeout"),this.abort(8))},mt.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ve(this,"complete"),Ve(this,"abort"),Ur(this))},mt.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ur(this,!0)),jr.X.G.call(this)},mt.za=function(){this.j||(this.A||this.l||this.g?Lr(this):this.Ua())},mt.Ua=function(){Lr(this)},mt.W=function(){try{return 2<Vr(this)?this.a.status:-1}catch(Qt){return-1}},mt.$=function(){try{return this.a?this.a.responseText:""}catch(Qt){return""}},mt.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xr(e)}},mt.ua=function(){return this.h},mt.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(mt=qr.prototype).ha=8,mt.v=1,mt.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new xn(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Xt(r=Wt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Zr(this,n,e),$n(i=Jn(this.B),"RID",t),$n(i,"CVER",22),this.A&&$n(i,"X-HTTP-Session-Id",this.A),Xr(this,i),this.i&&r&&Fr(i,this.i,r),_r(this.b,n),this.Ia&&$n(i,"TYPE","init"),this.da?($n(i,"$req",e),$n(i,"SID","null"),n.U=!0,Rn(n,i,null)):Rn(n,i,e),this.v=2}}else 3==this.v&&(t?Jr(this,t):0==this.g.length||br(this.b)||Jr(this))},mt.Aa=function(){if(this.j=null,ti(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=bn(Ct(this.Ta,this),t)}},mt.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,yn(10),Br(this),ti(this))},mt.Sa=function(){null!=this.m&&(this.m=null,Br(this),Qr(this),yn(19))},mt.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),yn(2)):(this.c.info("Failed to ping google.com"),yn(1))},(mt=ai.prototype).ta=function(){},mt.sa=function(){},mt.ra=function(){},mt.qa=function(){},mt.Ja=function(){},ci.prototype.a=function(t,e){return new li(t,e)},Nt(li,Me),li.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;yn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ui(t,null,t.fa),Wr(t)},li.prototype.close=function(){zr(this.a)},li.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Kr(this.a,e)}else this.l?((e={}).__data__=He(t),Kr(this.a,e)):Kr(this.a,t)},li.prototype.G=function(){this.a.f=null,delete this.f,zr(this.a),delete this.a,li.X.G.call(this)},Nt(fi,Tn),Nt(hi,In),Nt(di,ai),di.prototype.ta=function(){Ve(this.a,"a")},di.prototype.sa=function(t){Ve(this.a,new fi(t))},di.prototype.ra=function(t){Ve(this.a,new hi(t))},di.prototype.qa=function(){Ve(this.a,"b")},ci.prototype.createWebChannel=ci.prototype.a,li.prototype.send=li.prototype.h,li.prototype.open=li.prototype.g,li.prototype.close=li.prototype.close,mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,wn.COMPLETE="complete",kn.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",Me.prototype.listen=Me.prototype.va,jr.prototype.listenOnce=jr.prototype.wa,jr.prototype.getLastError=jr.prototype.Qa,jr.prototype.getLastErrorCode=jr.prototype.ua,jr.prototype.getStatus=jr.prototype.W,jr.prototype.getResponseJson=jr.prototype.Pa,jr.prototype.getResponseText=jr.prototype.$,jr.prototype.send=jr.prototype.ba;var pi=mn,vi=wn,yi=ln,gi=kn,bi=jr,mi=o("30Go"),wi=new vt.b("@firebase/firestore");function _i(){return wi.logLevel}function ki(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wi.logLevel<=vt.a.DEBUG){var r=e.map(Ti);wi.debug.apply(wi,Object(mi.g)(["Firestore (8.2.5): "+t],r))}}function Oi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wi.logLevel<=vt.a.ERROR){var r=e.map(Ti);wi.error.apply(wi,Object(mi.g)(["Firestore (8.2.5): "+t],r))}}function Ei(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wi.logLevel<=vt.a.WARN){var r=e.map(Ti);wi.warn.apply(wi,Object(mi.g)(["Firestore (8.2.5): "+t],r))}}function Ti(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Dp){return t}}function Ii(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.5) INTERNAL ASSERTION FAILED: "+t;throw Oi(e),new Error(e)}function Si(t,e){t||Ii()}function xi(t,e){return t}function ji(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ci=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ji(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ai(t,e){return t<e?-1:t>e?1:0}function Ri(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ni(t){return t+"\0"}var Pi=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Ai(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Pi.h=new Pi("");var Di={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Li=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(mi.c)(e,t),e}(Error),Ui=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Pi.fromBase64String(e))}catch(e){throw new Li(Di.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Pi.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Mi=function(t){this._=t};function Vi(){if("undefined"==typeof Uint8Array)throw new Li(Di.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Fi(){if("undefined"==typeof atob)throw new Li(Di.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.fromBase64String=function(t){return Fi(),new e(Ui.fromBase64String(t))},e.fromUint8Array=function(t){return Vi(),new e(Ui.fromUint8Array(t))},e.prototype.toBase64=function(){return Fi(),this._.toBase64()},e.prototype.toUint8Array=function(){return Vi(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Mi),qi=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},zi=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Bi=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Bi.UNAUTHENTICATED=new Bi(null),Bi.P=new Bi("google-credentials-uid"),Bi.g=new Bi("first-party-uid");var Gi=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Ki=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Bi.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Wi=function(){function t(t){var e=this;this.C=null,this.currentUser=Bi.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(ki("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Si("string"==typeof n.accessToken),new Gi(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Si(null===t||"string"==typeof t),new Bi(t)},t}(),Ji=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Bi.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Xi=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Ji(this.k,this.M))},t.prototype.S=function(t){t(Bi.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Zi=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Zi.U=-1;var Yi=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Li(Di.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Li(Di.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Li(Di.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Li(Di.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Ai(this.nanoseconds,t.nanoseconds):Ai(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Qi=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Yi(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),$i=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ii(),void 0===n?n=t.length-e:n>t.length-e&&Ii(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),to=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var u=o[i];if(u.indexOf("//")>=0)throw new Li(Di.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");r.push.apply(r,u.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}($i),eo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,no=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return eo.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Li(Di.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},u=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Li(Di.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Li(Di.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===s?(u=!u,i++):"."!==s||u?(r+=s,i++):(o(),i++)}if(o(),u)throw new Li(Di.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}($i),ro=function(){function t(t){this.path=t}return t.ft=function(e){return new t(to.ct(e))},t.dt=function(e){return new t(to.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===to.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return to.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new to(e.slice()))},t}();function io(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uo(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var so=function(){function t(t){this.fields=t,t.sort(no.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Ri(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ao=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(t){if(Si(!!t),"string"==typeof t){var e=0,n=ao.exec(t);if(Si(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lo(t.seconds),nanos:lo(t.nanos)}}function lo(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function fo(t){return"string"==typeof t?Pi.fromBase64String(t):Pi.fromUint8Array(t)}function ho(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function po(t){var e=t.mapValue.fields.__previous_value__;return ho(e)?po(e):e}function vo(t){var e=co(t.mapValue.fields.__local_write_time__.timestampValue);return new Yi(e.seconds,e.nanos)}function yo(t){return null==t}function go(t){return 0===t&&1/t==-1/0}function bo(t){return"number"==typeof t&&Number.isInteger(t)&&!go(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ho(t)?4:10:Ii()}function wo(t,e){var n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vo(t).isEqual(vo(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=co(t.timestampValue),r=co(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return fo(t.bytesValue).isEqual(fo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return lo(t.geoPointValue.latitude)===lo(e.geoPointValue.latitude)&&lo(t.geoPointValue.longitude)===lo(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return lo(t.integerValue)===lo(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=lo(t.doubleValue),r=lo(e.doubleValue);return n===r?go(n)===go(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ri(t.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(io(n)!==io(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wo(n[i],r[i])))return!1;return!0}(t,e);default:return Ii()}}function _o(t,e){return void 0!==(t.values||[]).find(function(t){return wo(t,e)})}function ko(t,e){var n=mo(t),r=mo(e);if(n!==r)return Ai(n,r);switch(n){case 0:return 0;case 1:return Ai(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=lo(t.integerValue||t.doubleValue),r=lo(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Oo(t.timestampValue,e.timestampValue);case 4:return Oo(vo(t),vo(e));case 5:return Ai(t.stringValue,e.stringValue);case 6:return function(t,e){var n=fo(t),r=fo(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ai(n[i],r[i]);if(0!==o)return o}return Ai(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ai(lo(t.latitude),lo(e.latitude));return 0!==n?n:Ai(lo(t.longitude),lo(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ko(n[i],r[i]);if(o)return o}return Ai(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var u=0;u<r.length&&u<o.length;++u){var s=Ai(r[u],o[u]);if(0!==s)return s;var a=ko(n[r[u]],i[o[u]]);if(0!==a)return a}return Ai(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ii()}}function Oo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ai(t,e);var n=co(t),r=co(e),i=Ai(n.seconds,r.seconds);return 0!==i?i:Ai(n.nanos,r.nanos)}function Eo(t){return To(t)}function To(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=co(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fo(t.bytesValue).toBase64():"referenceValue"in t?ro.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=To(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+To(t.fields[o])}return e+"}"}(t.mapValue):Ii();var e}function Io(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function So(t){return!!t&&"integerValue"in t}function xo(t){return!!t&&"arrayValue"in t}function jo(t){return!!t&&"nullValue"in t}function Co(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ao(t){return!!t&&"mapValue"in t}var Ro=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ao(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return wo(this.proto,t.proto)},t}(),No=function(){function t(t){void 0===t&&(t=Ro.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===mo(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(no.at(),this.Rt);return null!=t?new Ro(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Ao(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var u=n.gt(t.child(i),e);null!=u&&(o[i]=u,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Po(t){var e=[];return oo(t.fields||{},function(t,n){var r=new no([t]);if(Ao(n)){var i=Po(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,u=i;o<u.length;o++)e.push(r.child(u[o]))}else e.push(r)}),new so(e)}var Do=function(t,e){this.key=t,this.version=e},Lo=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(mi.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Do),Uo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(mi.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Do),Mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Do),Vo=function(t,e,n,r,i,o,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=u,this.St=null};function Fo(t,e,n,r,i,o,u){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===u&&(u=null),new Vo(t,e,n,r,i,o,u)}function Ho(t){var e=xi(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+Eo(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),yo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=tu(e.startAt)),e.endAt&&(n+="|ub:",n+=tu(e.endAt)),e.St=n}return e.St}function qo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!nu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!wo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iu(t.startAt,e.startAt)&&iu(t.endAt,e.endAt)}function zo(t){return ro.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Bo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(mi.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Go(t,n,r):"array-contains"===n?new Xo(t,r):"in"===n?new Zo(t,r):"not-in"===n?new Yo(t,r):"array-contains-any"===n?new Qo(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Ko(t,n):new Wo(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(ko(e,this.value)):null!==e&&mo(this.value)===mo(e)&&this.Ct(ko(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ii()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Go=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ro.dt(r.referenceValue),i}return Object(mi.c)(e,t),e.prototype.matches=function(t){var e=ro.J(t.key,this.key);return this.Ct(e)},e}(Bo),Ko=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Jo(0,n),r}return Object(mi.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Bo),Wo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Jo(0,n),r}return Object(mi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Bo);function Jo(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ro.dt(t.referenceValue)})}var Xo=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(mi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return xo(e)&&_o(e.arrayValue,this.value)},e}(Bo),Zo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(mi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&_o(this.value.arrayValue,e)},e}(Bo),Yo=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(mi.c)(e,t),e.prototype.matches=function(t){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!_o(this.value.arrayValue,e)},e}(Bo),Qo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(mi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!xo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return _o(e.value.arrayValue,t)})},e}(Bo),$o=function(t,e){this.position=t,this.before=e};function tu(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Eo(t)}).join(",")}var eu=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function nu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ru(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],u=t.position[i];if(r=o.field.ht()?ro.J(ro.dt(u.referenceValue),n.key):ko(u,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function iu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!wo(t.position[n],e.position[n]))return!1;return!0}var ou=function(t,e,n,r,i,o,u,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===u&&(u=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=s,this.Ft=null,this.Ot=null};function uu(t,e,n,r,i,o,u,s){return new ou(t,e,n,r,i,o,u,s)}function su(t){return new ou(t)}function au(t){return!yo(t.limit)&&"F"===t.limitType}function cu(t){return!yo(t.limit)&&"L"===t.limitType}function lu(t){return t.Nt.length>0?t.Nt[0].field:null}function fu(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function hu(t){return null!==t.collectionGroup}function du(t){var e=xi(t);if(null===e.Ft){e.Ft=[];var n=fu(e),r=lu(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new eu(n)),e.Ft.push(new eu(no.lt(),"asc"));else{for(var i=!1,o=0,u=e.Nt;o<u.length;o++){var s=u[o];e.Ft.push(s),s.field.ht()&&(i=!0)}if(!i){var a=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new eu(no.lt(),a))}}}return e.Ft}function pu(t){var e=xi(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Fo(e.path,e.collectionGroup,du(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=du(e);r<i.length;r++){var o=i[r];n.push(new eu(o.field,"desc"===o.dir?"asc":"desc"))}var u=e.endAt?new $o(e.endAt.position,!e.endAt.before):null,s=e.startAt?new $o(e.startAt.position,!e.startAt.before):null;e.Ot=Fo(e.path,e.collectionGroup,n,e.filters,e.limit,u,s)}return e.Ot}function vu(t,e,n){return new ou(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yu(t,e){return qo(pu(t),pu(e))&&t.limitType===e.limitType}function gu(t){return Ho(pu(t))+"|lt:"+t.limitType}function bu(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+Eo(e.value);var e}).join(", ")+"]"),yo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+tu(t.startAt)),t.endAt&&(e+=", endAt: "+tu(t.endAt)),"Target("+e+")"}(pu(t))+"; limitType="+t.limitType+")"}function mu(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):ro.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ru(t.startAt,du(t),e)||t.endAt&&ru(t.endAt,du(t),e))}(t,e)}function wu(t){return function(e,n){for(var r=!1,i=0,o=du(t);i<o.length;i++){var u=o[i],s=_u(u,e,n);if(0!==s)return s;r=r||u.field.ht()}return 0}}function _u(t,e,n){var r=t.field.ht()?ro.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ko(r,i):Ii()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ii()}}var ku=function(){function t(t,e,n,r,i,o,u){void 0===i&&(i=Qi.min()),void 0===o&&(o=Qi.min()),void 0===u&&(u=Pi.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Ou(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:go(e)?"-0":e}}function Eu(t){return{integerValue:""+t}}function Tu(t,e){return bo(e)?Eu(e):Ou(t,e)}var Iu=function(){this.Ut=void 0};function Su(t,e,n){return t instanceof Cu?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Au?Ru(t,e):t instanceof Nu?Pu(t,e):function(t,e){var n=ju(t,e),r=Lu(n)+Lu(t.Qt);return So(n)&&So(t.Qt)?Eu(r):Ou(t.Kt,r)}(t,e)}function xu(t,e,n){return t instanceof Au?Ru(t,e):t instanceof Nu?Pu(t,e):n}function ju(t,e){return t instanceof Du?So(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e}(Iu),Au=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(mi.c)(e,t),e}(Iu);function Ru(t,e){for(var n=Uu(e),r=function(t){n.some(function(e){return wo(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Nu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(mi.c)(e,t),e}(Iu);function Pu(t,e){for(var n=Uu(e),r=function(t){n=n.filter(function(e){return!wo(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Du=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(mi.c)(e,t),e}(Iu);function Lu(t){return lo(t.integerValue||t.doubleValue)}function Uu(t){return xo(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Mu=function(t,e){this.field=t,this.transform=e},Vu=function(t,e){this.version=t,this.transformResults=e},Fu=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Hu(t,e){return void 0!==t.updateTime?e instanceof Lo&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Lo}var qu=function(){};function zu(t,e,n){return t instanceof Ju?function(t,e,n){var r=t.value;if(n.transformResults){var i=Yu(t.fieldTransforms,e,n.transformResults);r=$u(t.fieldTransforms,r,i)}return new Lo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Xu?function(t,e,n){if(!Hu(t.Gt,e))return new Mo(t.key,n.version);var r=Zu(t,e,n.transformResults?Yu(t.fieldTransforms,e,n.transformResults):[]);return new Lo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Uo(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Bu(t,e,n,r){return t instanceof Ju?function(t,e,n,r){if(!Hu(t.Gt,e))return e;var i=t.value,o=Qu(t.fieldTransforms,n,e);i=$u(t.fieldTransforms,i,o);var u=Wu(e);return new Lo(t.key,u,i,{bt:!0})}(t,e,r):t instanceof Xu?function(t,e,n,r){if(!Hu(t.Gt,e))return e;var i=Wu(e),o=Zu(t,e,Qu(t.fieldTransforms,n,e));return new Lo(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return Hu(t.Gt,e)?new Uo(t.key,Qi.min()):e}(t,e)}function Gu(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],u=e instanceof Lo?e.field(o.field):void 0,s=ju(o.transform,u||null);null!=s&&(n=null==n?(new No).set(o.field,s):n.set(o.field,s))}return n?n.yt():null}(t.fieldTransforms,e)}function Ku(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ri(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Au&&e instanceof Au||t instanceof Nu&&e instanceof Nu?Ri(t.elements,e.elements,wo):t instanceof Du&&e instanceof Du?wo(t.Qt,e.Qt):t instanceof Cu&&e instanceof Cu}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Wu(t){return t instanceof Lo?t.version:Qi.min()}var Ju=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(mi.c)(e,t),e}(qu),Xu=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var u=this;return(u=t.call(this)||this).key=e,u.data=n,u.zt=r,u.Gt=i,u.fieldTransforms=o,u.type=1,u}return Object(mi.c)(e,t),e}(qu);function Zu(t,e,n){var r;return r=function(t,e){var n=new No(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof Lo?e.data():Ro.empty()),$u(t.fieldTransforms,r,n)}function Yu(t,e,n){var r=[];Si(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],u=o.transform,s=null;e instanceof Lo&&(s=e.field(o.field)),r.push(xu(u,s,n[i]))}return r}function Qu(t,e,n,r){for(var i=[],o=0,u=t;o<u.length;o++){var s=u[o],a=s.transform,c=null;n instanceof Lo&&(c=n.field(s.field)),i.push(Su(a,c,e))}return i}function $u(t,e,n){for(var r=new No(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var ts,es,ns=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(mi.c)(e,t),e}(qu),rs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(mi.c)(e,t),e}(qu),is=function(t){this.count=t};function os(t){switch(t){case Di.OK:return Ii();case Di.CANCELLED:case Di.UNKNOWN:case Di.DEADLINE_EXCEEDED:case Di.RESOURCE_EXHAUSTED:case Di.INTERNAL:case Di.UNAVAILABLE:case Di.UNAUTHENTICATED:return!1;case Di.INVALID_ARGUMENT:case Di.NOT_FOUND:case Di.ALREADY_EXISTS:case Di.PERMISSION_DENIED:case Di.FAILED_PRECONDITION:case Di.ABORTED:case Di.OUT_OF_RANGE:case Di.UNIMPLEMENTED:case Di.DATA_LOSS:return!0;default:return Ii()}}function us(t){if(void 0===t)return Oi("GRPC error has no .code"),Di.UNKNOWN;switch(t){case ts.OK:return Di.OK;case ts.CANCELLED:return Di.CANCELLED;case ts.UNKNOWN:return Di.UNKNOWN;case ts.DEADLINE_EXCEEDED:return Di.DEADLINE_EXCEEDED;case ts.RESOURCE_EXHAUSTED:return Di.RESOURCE_EXHAUSTED;case ts.INTERNAL:return Di.INTERNAL;case ts.UNAVAILABLE:return Di.UNAVAILABLE;case ts.UNAUTHENTICATED:return Di.UNAUTHENTICATED;case ts.INVALID_ARGUMENT:return Di.INVALID_ARGUMENT;case ts.NOT_FOUND:return Di.NOT_FOUND;case ts.ALREADY_EXISTS:return Di.ALREADY_EXISTS;case ts.PERMISSION_DENIED:return Di.PERMISSION_DENIED;case ts.FAILED_PRECONDITION:return Di.FAILED_PRECONDITION;case ts.ABORTED:return Di.ABORTED;case ts.OUT_OF_RANGE:return Di.OUT_OF_RANGE;case ts.UNIMPLEMENTED:return Di.UNIMPLEMENTED;case ts.DATA_LOSS:return Di.DATA_LOSS;default:return Ii()}}(es=ts||(ts={}))[es.OK=0]="OK",es[es.CANCELLED=1]="CANCELLED",es[es.UNKNOWN=2]="UNKNOWN",es[es.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",es[es.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",es[es.NOT_FOUND=5]="NOT_FOUND",es[es.ALREADY_EXISTS=6]="ALREADY_EXISTS",es[es.PERMISSION_DENIED=7]="PERMISSION_DENIED",es[es.UNAUTHENTICATED=16]="UNAUTHENTICATED",es[es.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",es[es.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",es[es.ABORTED=10]="ABORTED",es[es.OUT_OF_RANGE=11]="OUT_OF_RANGE",es[es.UNIMPLEMENTED=12]="UNIMPLEMENTED",es[es.INTERNAL=13]="INTERNAL",es[es.UNAVAILABLE=14]="UNAVAILABLE",es[es.DATA_LOSS=15]="DATA_LOSS";var ss=function(){function t(t,e){this.J=t,this.root=e||cs.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,cs.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,cs.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new as(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new as(this.root,t,this.J,!1)},t.prototype.se=function(){return new as(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new as(this.root,t,this.J,!0)},t}(),as=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),cs=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Ii();if(this.right._e())throw Ii();var t=this.left.me();if(t!==this.right.me())throw Ii();return t+(this._e()?0:1)},t}();cs.EMPTY=null,cs.RED=!0,cs.Jt=!1,cs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new cs(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var ls=function(){function t(t){this.J=t,this.data=new ss(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new fs(this.data.ee())},t.prototype.ne=function(t){return new fs(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),fs=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),hs=new ss(ro.J);function ds(){return hs}function ps(){return ds()}var vs=new ss(ro.J);function ys(){return vs}var gs=new ss(ro.J);function bs(){return gs}var ms=new ls(ro.J);function ws(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ms,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var _s=new ls(Ai);function ks(){return _s}var Os=function(){function t(t){this.J=t?function(e,n){return t(e,n)||ro.J(e.key,n.key)}:function(t,e){return ro.J(t.key,e.key)},this.Ve=ys(),this.pe=new ss(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Es=function(){function t(){this.ve=new ss(ro.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Ii():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),Ts=function(){function t(t,e,n,r,i,o,u,s){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=u,this.Ne=s}return t.Fe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Os.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&yu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Is=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Ss.Be(e,n)),new t(Qi.min(),r,ks(),ds(),ws())},t}(),Ss=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Pi.h,n,ws(),ws(),ws())},t}(),xs=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},js=function(t,e){this.targetId=t,this.Ge=e},Cs=function(t,e,n,r){void 0===n&&(n=Pi.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},As=function(){function t(){this.ze=0,this.He=Ps(),this.Je=Pi.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=ws(),e=ws(),n=ws();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ii()}}),new Ss(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Ps()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Rs=function(){function t(t){this.hn=t,this.ln=new Map,this._n=ds(),this.fn=Ns(),this.dn=new ls(Ai)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Lo?this.En(r,t.je):t.je instanceof Uo&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Ii()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(zo(i))if(0===n){var o=new ro(i.path);this.Tn(e,o,new Uo(o,Qi.min()))}else Si(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&zo(o.target)){var u=new ro(o.target.path);null!==e._n.get(u)||e.bn(i,u)||e.Tn(i,u,new Uo(u,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=ws();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Is(t,n,this.dn,this._n,r);return this._n=ds(),this.fn=Ns(),this.dn=new ls(Ai),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new As,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new ls(Ai),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||ki("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new As),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Ns(){return new ss(ro.J)}function Ps(){return new ss(ro.J)}var Ds={asc:"ASCENDING",desc:"DESCENDING"},Ls={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Us=function(t,e){this.T=t,this.qt=e};function Ms(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vs(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Fs(t,e){return Ms(t,e.G())}function Hs(t){return Si(!!t),Qi.W(function(t){var e=co(t);return new Yi(e.seconds,e.nanos)}(t))}function qs(t,e){return function(t){return new to(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function zs(t){var e=to.ct(t);return Si(da(e)),e}function Bs(t,e){return qs(t.T,e.path)}function Gs(t,e){var n=zs(e);if(n.get(1)!==t.T.projectId)throw new Li(Di.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Li(Di.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new ro(Xs(n))}function Ks(t,e){return qs(t.T,e)}function Ws(t){var e=zs(t);return 4===e.length?to.at():Xs(e)}function Js(t){return new to(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Xs(t){return Si(t.length>4&&"documents"===t.get(4)),t.X(5)}function Zs(t,e,n){return{name:Bs(t,e),fields:n.proto.mapValue.fields}}function Ys(t,e,n){var r=Gs(t,e.name),i=Hs(e.updateTime),o=new Ro({mapValue:{fields:e.fields}});return new Lo(r,i,o,{hasCommittedMutations:!!n})}function Qs(t,e){var n;if(e instanceof Ju)n={update:Zs(t,e.key,e.value)};else if(e instanceof ns)n={delete:Bs(t,e.key)};else if(e instanceof Xu)n={update:Zs(t,e.key,e.data),updateMask:ha(e.zt)};else{if(!(e instanceof rs))return Ii();n={verify:Bs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Cu)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Au)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Nu)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Du)return{fieldPath:e.field.ot(),increment:n.Qt};throw Ii()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Fs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ii()}(t,e.Gt)),n}function $s(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Fu.updateTime(Hs(t.updateTime)):void 0!==t.exists?Fu.exists(t.exists):Fu.Wt()}(e.currentDocument):Fu.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Si("REQUEST_TIME"===e.setToServerValue),n=new Cu):"appendMissingElements"in e?n=new Au(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Nu(e.removeAllFromArray.values||[]):"increment"in e?n=new Du(t,e.increment):Ii();var r=no._t(e.fieldPath);return new Mu(r,n)}(t,e)}):[];if(e.update){var i=Gs(t,e.update.name),o=new Ro({mapValue:{fields:e.update.fields}});if(e.updateMask){var u=function(t){return new so((t.fieldPaths||[]).map(function(t){return no._t(t)}))}(e.updateMask);return new Xu(i,o,u,n,r)}return new Ju(i,o,n,r)}if(e.delete){var s=Gs(t,e.delete);return new ns(s,n)}if(e.verify){var a=Gs(t,e.verify);return new rs(a,n)}return Ii()}function ta(t,e){return{documents:[Ks(t,e.path)]}}function ea(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ks(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ks(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Co(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NAN"}};if(jo(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Co(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NAN"}};if(jo(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(t.field),op:sa(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:aa(t.field),direction:ua(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var u=function(t,e){return t.qt||yo(e)?e:{value:e}}(t,e.limit);return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=ia(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ia(e.endAt)),n}function na(t){var e=Ws(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Si(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var u=[];n.where&&(u=ra(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new eu(ca(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return yo(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=oa(n.startAt));var l=null;return n.endAt&&(l=oa(n.endAt)),uu(e,i,s,u,a,"F",c,l)}function ra(t){return t?void 0!==t.unaryFilter?[fa(t)]:void 0!==t.fieldFilter?[la(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return ra(t)}).reduce(function(t,e){return t.concat(e)}):Ii():[]}function ia(t){return{before:t.before,values:t.position}}function oa(t){return new $o(t.values||[],!!t.before)}function ua(t){return Ds[t]}function sa(t){return Ls[t]}function aa(t){return{fieldPath:t.ot()}}function ca(t){return no._t(t.fieldPath)}function la(t){return Bo.create(ca(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ii()}}(t.fieldFilter.op),t.fieldFilter.value)}function fa(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ca(t.unaryFilter.field);return Bo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ca(t.unaryFilter.field);return Bo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ca(t.unaryFilter.field);return Bo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ca(t.unaryFilter.field);return Bo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ii()}}function ha(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function da(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var pa=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},va=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Ii(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),ya=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new pa,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new ma(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Ea(e.target.error);n.qn.reject(new ma(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ma(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(ki("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new _a(e)},t}(),ga=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(yt.h)())&&Oi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ki("SimpleDb","Removing database:",t),ka(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(yt.h)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(mi.b)(this,void 0,void 0,function(){var e,n=this;return Object(mi.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ki("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ma(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Li(Di.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ma(t,n))},i.onupgradeneeded=function(t){ki("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ki("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(mi.b)(this,void 0,void 0,function(){var i,o,u,s,a;return Object(mi.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,u=function(){var e,u,a,c,l;return Object(mi.d)(this,function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.Jn(t)];case 2:return s.db=f.sent(),e=ya.open(s.db,t,i?"readonly":"readwrite",n),u=r(e).catch(function(t){return e.abort(t),va.reject(t)}).Mn(),a={},u.catch(function(){}),[4,e.Un];case 3:return[2,(a.value=(f.sent(),u),a)];case 4:return ki("SimpleDb","Transaction failed with error:",(c=f.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,u()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ba=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return ka(this.ts.delete())},t}(),ma=function(t){function e(e,n){var r=this;return(r=t.call(this,Di.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(mi.c)(e,t),e}(Li);function wa(t){return"IndexedDbTransactionError"===t.name}var _a=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ki("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ki("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ka(n)},t.prototype.add=function(t){return ki("SimpleDb","ADD",this.store.name,t,t),ka(this.store.add(t))},t.prototype.get=function(t){var e=this;return ka(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ki("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ki("SimpleDb","DELETE",this.store.name,t),ka(this.store.delete(t))},t.prototype.count=function(){return ki("SimpleDb","COUNT",this.store.name),ka(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){ki("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new va(function(n,r){e.onerror=function(t){var e=Ea(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new va(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ba(i),u=e(i.primaryKey,i.value,o);if(u instanceof va){var s=u.catch(function(t){return o.done(),va.reject(t)});n.push(s)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return va.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ka(t){return new va(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ea(t.target.error);n(e)}})}var Oa=!1;function Ea(t){var e=ga.Kn(Object(yt.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Li("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Oa||(Oa=!0,setTimeout(function(){throw r},0)),r}}return t}var Ta=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new pa,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var u=new t(e,n,Date.now()+r,i,o);return u.start(r),u},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Li(Di.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Ia(t,e){if(Oi("AsyncQueue",e+": "+t),wa(t))return new Li(Di.UNAVAILABLE,e+": "+t);throw t}var Sa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xa=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function ja(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Aa(e)),e=Ca(t.get(n),e);return Aa(e)}function Ca(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Aa(t){return t+"\x01\x01"}function Ra(t){var e=t.length;if(Si(e>=2),2===e)return Si("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),to.at();for(var n=e-2,r=[],i="",o=0;o<e;){var u=t.indexOf("\x01",o);switch((u<0||u>n)&&Ii(),t.charAt(u+1)){case"\x01":var s=t.substring(o,u),a=void 0;0===i.length?a=s:(a=i+=s,i=""),r.push(a);break;case"\x10":i+=t.substring(o,u),i+="\0";break;case"\x11":i+=t.substring(o,u+1);break;default:Ii()}o=u+2}return new to(r)}var Na=function(t,e){this.seconds=t,this.nanoseconds=e},Pa=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Pa.store="owner",Pa.key="owner";var Da=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Da.store="mutationQueues",Da.keyPath="userId";var La=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};La.store="mutations",La.keyPath="batchId",La.userMutationsIndex="userMutationsIndex",La.userMutationsKeyPath=["userId","batchId"];var Ua=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ja(e)]},t.key=function(t,e,n){return[t,ja(e),n]},t}();Ua.store="documentMutations",Ua.PLACEHOLDER=new Ua;var Ma=function(t,e){this.path=t,this.readTime=e},Va=function(t,e){this.path=t,this.version=e},Fa=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Fa.store="remoteDocuments",Fa.readTimeIndex="readTimeIndex",Fa.readTimeIndexPath="readTime",Fa.collectionReadTimeIndex="collectionReadTimeIndex",Fa.collectionReadTimeIndexPath=["parentPath","readTime"];var Ha=function(t){this.byteSize=t};Ha.store="remoteDocumentGlobal",Ha.key="remoteDocumentGlobalKey";var qa=function(t,e,n,r,i,o,u){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=u};qa.store="targets",qa.keyPath="targetId",qa.queryTargetsIndexName="queryTargetsIndex",qa.queryTargetsKeyPath=["canonicalId","targetId"];var za=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};za.store="targetDocuments",za.keyPath=["targetId","path"],za.documentTargetsIndex="documentTargetsIndex",za.documentTargetsKeyPath=["path","targetId"];var Ba=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ba.key="targetGlobalKey",Ba.store="targetGlobal";var Ga=function(t,e){this.collectionId=t,this.parent=e};Ga.store="collectionParents",Ga.keyPath=["collectionId","parent"];var Ka=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ka.store="clientMetadata",Ka.keyPath="clientId";var Wa=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Wa.store="bundles",Wa.keyPath="bundleId";var Ja=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ja.store="namedQueries",Ja.keyPath="name";var Xa=Object(mi.g)(Object(mi.g)(Object(mi.g)(Object(mi.g)([Da.store,La.store,Ua.store,Fa.store,qa.store,Pa.store,Ba.store,za.store],[Ka.store]),[Ha.store]),[Ga.store]),[Wa.store,Ja.store]),Za=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(mi.c)(e,t),e}(xa);function Ya(t,e){var n=xi(t);return ga.Hn(n.bs,e)}var Qa=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=zu(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t)&&(e=Bu(u,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var u;(u=o[i]).key.isEqual(t)&&(e=Bu(u,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},ws())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ri(this.mutations,t.mutations,function(t,e){return Ku(t,e)})&&Ri(this.baseMutations,t.baseMutations,function(t,e){return Ku(t,e)})},t}(),$a=function(){function t(t,e,n,r){this.batch=t,this.Fs=e,this.Cs=n,this.Os=r}return t.from=function(e,n,r){Si(e.mutations.length===r.length);for(var i=bs(),o=e.mutations,u=0;u<o.length;u++)i=i.Ht(o[u].key,r[u].version);return new t(e,n,r,i)},t}(),tc=function(t){this.ks=t};function ec(t,e){if(e.document)return Ys(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ro.Tt(e.noDocument.path),r=uc(e.noDocument.readTime);return new Uo(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ro.Tt(e.unknownDocument.path);return r=uc(e.unknownDocument.version),new Mo(i,r)}return Ii()}function nc(t,e,n){var r=rc(n),i=e.key.path.Z().rt();if(e instanceof Lo){var o=function(t,e){return{name:Bs(t,e.key),fields:e.vt().mapValue.fields,updateTime:Ms(t,e.version.G())}}(t.ks,e),u=e.hasCommittedMutations;return new Fa(null,null,o,u,r,i)}if(e instanceof Uo){var s=e.key.path.rt(),a=oc(e.version);return u=e.hasCommittedMutations,new Fa(null,new Ma(s,a),null,u,r,i)}if(e instanceof Mo){var c=e.key.path.rt(),l=oc(e.version);return new Fa(new Va(c,l),null,null,!0,r,i)}return Ii()}function rc(t){var e=t.G();return[e.seconds,e.nanoseconds]}function ic(t){var e=new Yi(t[0],t[1]);return Qi.W(e)}function oc(t){var e=t.G();return new Na(e.seconds,e.nanoseconds)}function uc(t){var e=new Yi(t.seconds,t.nanoseconds);return Qi.W(e)}function sc(t,e){for(var n=(e.baseMutations||[]).map(function(e){return $s(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return $s(t.ks,e)}),u=Yi.fromMillis(e.localWriteTimeMs);return new Qa(e.batchId,u,n,o)}function ac(t){var e,n,r=uc(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?uc(t.lastLimboFreeSnapshotVersion):Qi.min();return void 0!==t.query.documents?(Si(1===(n=t.query).documents.length),e=pu(su(Ws(n.documents[0])))):e=function(t){return pu(na(t))}(t.query),new ku(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Pi.fromBase64String(t.resumeToken))}function cc(t,e){var n,r=oc(e.Mt),i=oc(e.lastLimboFreeSnapshotVersion);n=zo(e.target)?ta(t.ks,e.target):ea(t.ks,e.target);var o=e.resumeToken.toBase64();return new qa(e.targetId,Ho(e.target),r,o,e.sequenceNumber,i,n)}function lc(t){var e=na({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?vu(e,e.limit,"L"):e}var fc=function(){function t(){}return t.prototype.Ms=function(t,e){return hc(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:uc(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return hc(t).put({bundleId:(n=e).id,createTime:oc(Hs(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return dc(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:lc(e.bundledQuery),readTime:uc(e.readTime)};var e})},t.prototype.Bs=function(t,e){return dc(t).put(function(t){return{name:t.name,readTime:oc(Hs(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function hc(t){return Ya(t,Wa.store)}function dc(t){return Ya(t,Ja.store)}var pc=function(){function t(){this.qs=new vc}return t.prototype.Us=function(t,e){return this.qs.add(e),va.resolve()},t.prototype.Qs=function(t,e){return va.resolve(this.qs.getEntries(e))},t}(),vc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new ls(to.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ls(to.J)).rt()},t}(),yc=function(){function t(){this.Ks=new vc}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var o={collectionId:r,parent:ja(i)};return gc(t).put(o)}return va.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ni(e),""],!1,!0);return gc(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ra(o.parent))}return n})},t}();function gc(t){return Ya(t,Ga.store)}var bc={Ws:!1,js:0,Gs:0,zs:0},mc=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function wc(t){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(e){if(t.code!==Di.FAILED_PRECONDITION||t.message!==Sa)throw t;return ki("LocalStore","Unexpectedly lost primary lease"),[2]})})}mc.Zs=10,mc.ti=1e3,mc.ei=new mc(41943040,mc.Zs,mc.ti),mc.ni=new mc(-1,0,0);var _c=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],u=o[1];if(this.ii(o[0],t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){oo(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return uo(this.ri)},t}(),kc=function(){function t(){this.oi=new _c(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:Qi.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?va.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Oc(t,e,n){var r=t.store(La.store),i=t.store(Ua.store),o=[],u=IDBKeyRange.only(n.batchId),s=0,a=r.ls({range:u},function(t,e,n){return s++,n.delete()});o.push(a.next(function(){Si(1===s)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Ua.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return va.$n(o).next(function(){return c})}function Ec(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ii();e=t.noDocument}return JSON.stringify(e).length}var Tc=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Si(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sc(t).ls({index:La.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,o=xc(t),u=Sc(t);return u.add({}).next(function(s){Si("number"==typeof s);for(var a=new Qa(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Qs(t.ks,e)}),i=n.mutations.map(function(e){return Qs(t.ks,e)});return new La(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,a),l=[],f=new ls(function(t,e){return Ai(t.ot(),e.ot())}),h=0,d=r;h<d.length;h++){var p=d[h],v=Ua.key(i.userId,p.key.path,s);f=f.add(p.key.path.Z()),l.push(u.put(c)),l.push(o.put(v,Ua.PLACEHOLDER))}return f.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[s]=a.keys()}),va.$n(l).next(function(){return a})})},t.prototype.yi=function(t,e){var n=this;return Sc(t).get(e).next(function(t){return t?(Si(t.userId===n.userId),sc(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?va.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Sc(t).ls({index:La.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Si(e.batchId>=r),o=sc(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Sc(t).ls({index:La.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sc(t).os(La.userMutationsIndex,n).next(function(t){return t.map(function(t){return sc(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=Ua.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return xc(t).ls({range:i},function(r,i,u){var s=r[0],a=r[2],c=Ra(r[1]);if(s===n.userId&&e.path.isEqual(c))return Sc(t).get(a).next(function(t){if(!t)throw Ii();Si(t.userId===n.userId),o.push(sc(n.Kt,t))});u.done()}).next(function(){return o})},t.prototype.Si=function(t,e){var n=this,r=new ls(Ai),i=[];return e.forEach(function(e){var o=Ua.prefixForPath(n.userId,e.path),u=IDBKeyRange.lowerBound(o),s=xc(t).ls({range:u},function(t,i,o){var u=t[0],s=t[2],a=Ra(t[1]);u===n.userId&&e.path.isEqual(a)?r=r.add(s):o.done()});i.push(s)}),va.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ua.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new ls(Ai);return xc(t).ls({range:u},function(t,e,o){var u=t[0],a=t[2],c=Ra(t[1]);u===n.userId&&r.st(c)?c.length===i&&(s=s.add(a)):o.done()}).next(function(){return n.Di(t,s)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Sc(t).get(e).next(function(t){if(null===t)throw Ii();Si(t.userId===n.userId),r.push(sc(n.Kt,t))}))}),va.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return Oc(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),va.forEach(r,function(e){return n.Ii.Fi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Oi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return va.resolve();var r=IDBKeyRange.lowerBound(Ua.prefixForUser(e.userId)),i=[];return xc(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=Ra(t[1]);i.push(o)}else r.done()}).next(function(){Si(0===i.length)})})},t.prototype.ki=function(t,e){return Ic(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return jc(t).get(this.userId).next(function(t){return t||new Da(e.userId,-1,"")})},t}();function Ic(t,e,n){var r=Ua.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return xc(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(u=!0),r.done()}).next(function(){return u})}function Sc(t){return Ya(t,La.store)}function xc(t){return Ya(t,Ua.store)}function jc(t){return Ya(t,Da.store)}var Cc=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Ac=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new Cc(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return Qi.W(new Yi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Wi=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.ji=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return Rc(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return Si(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return Rc(t).ls(function(u,s){var a=ac(s);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Yi(t,a)))}).next(function(){return va.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return Rc(t).ls(function(t,n){var r=ac(n);e(r)})},t.prototype.Ui=function(t){return Nc(t).get(Ba.key).next(function(t){return Si(null!==t),t})},t.prototype.Qi=function(t,e){return Nc(t).put(Ba.key,e)},t.prototype.zi=function(t,e){return Rc(t).put(cc(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=Ho(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rc(t).ls({range:r,index:qa.queryTargetsIndexName},function(t,n,r){var o=ac(n);qo(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],o=Pc(t);return e.forEach(function(e){var u=ja(e.path);i.push(o.put(new za(n,u))),i.push(r.Ii.sr(t,n,e))}),va.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Pc(t);return va.forEach(e,function(e){var o=ja(e.path);return va.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=Pc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Pc(t),i=ws();return r.ls({range:n,hs:!0},function(t,e,n){var r=Ra(t[1]),o=new ro(r);i=i.add(o)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=ja(e.path),r=IDBKeyRange.bound([n],[Ni(n)],!1,!0),i=0;return Pc(t).ls({index:za.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Rc(t).get(e).next(function(t){return t?ac(t):null})},t}();function Rc(t){return Ya(t,qa.store)}function Nc(t){return Ya(t,Ba.store)}function Pc(t){return Ya(t,za.store)}function Dc(t,e){var n=t[1],r=e[1],i=Ai(t[0],e[0]);return 0===i?Ai(n,r):i}var Lc=function(){function t(t){this.ar=t,this.buffer=new ls(Dc),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Dc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Uc=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;ki("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(mi.b)(e,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return wa(e=n.sent())?(ki("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,wc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),Mc=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return va.resolve(Zi.U);var r=new Lc(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(ki("LruGarbageCollector","Garbage collection skipped; disabled"),va.resolve(bc)):this.br(t).next(function(r){return r<n.params.Hs?(ki("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),bc):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,u,s,a,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(ki("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)}).next(function(r){return n=r,u=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.Vr(t,n)}).next(function(t){return a=Date.now(),_i()<=vt.a.DEBUG&&ki("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(u-o)+"ms\n\tRemoved "+i+" targets in "+(s-u)+"ms\n\tRemoved "+t+" documents in "+(a-s)+"ms\nTotal Duration: "+(a-l)+"ms"),va.resolve({Ws:!0,js:r,Gs:i,zs:t})})},t}(),Vc=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Mc(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return Fc(t,n)},t.prototype.rr=function(t,e,n){return Fc(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Fi=function(t,e){return Fc(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return jc(t)._s(function(r){return Ic(t,r,e).next(function(t){return t&&(n=!0),va.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Or().Fr(),i=[],o=0;return this.Cr(t,function(u,s){if(s<=e){var a=n.Nr(t,u).next(function(e){if(!e)return o++,r.fi(t,u).next(function(){return r._i(u),Pc(t).delete([0,ja(u.path)])})});i.push(a)}}).next(function(){return va.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Fc(t,e)},t.prototype.Cr=function(t,e){var n,r=Pc(t),i=Zi.U;return r.ls({index:za.documentTargetsIndex},function(t,r){var o=r.path,u=r.sequenceNumber;0===t[0]?(i!==Zi.U&&e(new ro(Ra(n)),i),i=u,n=o):i=Zi.U}).next(function(){i!==Zi.U&&e(new ro(Ra(n)),i)})},t.prototype.br=function(t){return this.db.Or().Mr(t)},t}();function Fc(t,e){return Pc(t).put(function(t,e){return new za(0,ja(t.path),e)}(e,t.vs))}var Hc=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return Bc(t).put(Gc(e),n)},t.prototype._i=function(t,e){var n=Bc(t),r=Gc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return Bc(t).get(Gc(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return Bc(t).get(Gc(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:Ec(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=ps();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=ps(),i=new ss(ro.J);return this.qr(t,e,function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,Ec(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return va.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Bc(t).ls({range:r},function(t,e,r){for(var u=ro.Tt(t);o&&ro.J(o,u)<0;)n(o,null),o=i.ce();o&&o.isEqual(u)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.Wr=function(t,e,n){var r=this,i=ys(),o=e.path.length+1,u={};if(n.isEqual(Qi.min())){var s=e.path.rt();u.range=IDBKeyRange.lowerBound(s)}else{var a=e.path.rt(),c=rc(n);u.range=IDBKeyRange.lowerBound([a,c],!0),u.index=Fa.collectionReadTimeIndex}return Bc(t).ls(u,function(t,n,u){if(t.length===o){var s=ec(r.Kt,n);e.path.st(s.key.path)?s instanceof Lo&&mu(e,s)&&(i=i.Ht(s.key,s)):u.done()}}).next(function(){return i})},t.prototype.Fr=function(t){return new qc(this,!!t&&t.jr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return zc(t).get(Ha.key).next(function(t){return Si(!!t),t})},t.prototype.Lr=function(t,e){return zc(t).put(Ha.key,e)},t.prototype.$r=function(t){if(t){var e=ec(this.Kt,t);return e instanceof Uo&&e.version.isEqual(Qi.min())?null:e}return null},t}(),qc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.jr=n,r.zr=new _c(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(mi.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new ls(function(t,e){return Ai(t.ot(),e.ot())});return this.oi.forEach(function(o,u){var s=e.zr.get(o);if(u.li){var a=nc(e.Gr.Kt,u.li,e.ai(o));i=i.add(o.path.Z());var c=Ec(a);r+=c-s,n.push(e.Gr.ui(t,o,a))}else if(r-=s,e.jr){var l=nc(e.Gr.Kt,new Uo(o,Qi.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),va.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(kc);function zc(t){return Ya(t,Ha.store)}function Bc(t){return Ya(t,Fa.store)}function Gc(t){return t.path.rt()}var Kc=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Si(n<r&&n>=0&&r<=11);var o=new ya("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Pa.store)}(t),function(t){t.createObjectStore(Da.store,{keyPath:Da.keyPath}),t.createObjectStore(La.store,{keyPath:La.keyPath,autoIncrement:!0}).createIndex(La.userMutationsIndex,La.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ua.store)}(t),Wc(t),function(t){t.createObjectStore(Fa.store)}(t));var u=va.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(za.store),t.deleteObjectStore(qa.store),t.deleteObjectStore(Ba.store)}(t),Wc(t)),u=u.next(function(){return function(t){var e=t.store(Ba.store),n=new Ba(0,0,Qi.min().G(),0);return e.put(Ba.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(u=u.next(function(){return function(t,e){return e.store(La.store).os().next(function(n){t.deleteObjectStore(La.store),t.createObjectStore(La.store,{keyPath:La.keyPath,autoIncrement:!0}).createIndex(La.userMutationsIndex,La.userMutationsKeyPath,{unique:!0});var r=e.store(La.store),i=n.map(function(t){return r.put(t)});return va.$n(i)})}(t,o)})),u=u.next(function(){!function(t){t.createObjectStore(Ka.store,{keyPath:Ka.keyPath})}(t)})),n<5&&r>=5&&(u=u.next(function(){return i.Hr(o)})),n<6&&r>=6&&(u=u.next(function(){return function(t){t.createObjectStore(Ha.store)}(t),i.Jr(o)})),n<7&&r>=7&&(u=u.next(function(){return i.Yr(o)})),n<8&&r>=8&&(u=u.next(function(){return i.Xr(t,o)})),n<9&&r>=9&&(u=u.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Fa.store);e.createIndex(Fa.readTimeIndex,Fa.readTimeIndexPath,{unique:!1}),e.createIndex(Fa.collectionReadTimeIndex,Fa.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(u=u.next(function(){return i.Zr(o)})),n<11&&r>=11&&(u=u.next(function(){!function(t){t.createObjectStore(Wa.store,{keyPath:Wa.keyPath})}(t),function(t){t.createObjectStore(Ja.store,{keyPath:Ja.keyPath})}(t)})),u},t.prototype.Jr=function(t){var e=0;return t.store(Fa.store).ls(function(t,n){e+=Ec(n)}).next(function(){var n=new Ha(e);return t.store(Ha.store).put(Ha.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(Da.store),r=t.store(La.store);return n.os().next(function(n){return va.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(La.userMutationsIndex,i).next(function(r){return va.forEach(r,function(r){Si(r.userId===n.userId);var i=sc(e.Kt,r);return Oc(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(za.store),n=t.store(Fa.store);return t.store(Ba.store).get(Ba.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new to(n),u=function(t){return[0,ja(t)]}(o);r.push(e.get(u).next(function(n){return n?va.resolve():function(n){return e.put(new za(0,ja(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return va.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(Ga.store,{keyPath:Ga.keyPath});var n=e.store(Ga.store),r=new vc,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:ja(i)})}};return e.store(Fa.store).ls({hs:!0},function(t,e){var n=new to(t);return i(n.Z())}).next(function(){return e.store(Ua.store).ls({hs:!0},function(t,e){var n=Ra(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(qa.store);return n.ls(function(t,r){var i=ac(r),o=cc(e.Kt,i);return n.put(o)})},t}();function Wc(t){t.createObjectStore(za.store,{keyPath:za.keyPath}).createIndex(za.documentTargetsIndex,za.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(qa.store,{keyPath:qa.keyPath}).createIndex(qa.queryTargetsIndexName,qa.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ba.store)}var Jc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xc=function(){function t(e,n,r,i,o,u,s,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=u,this.document=s,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.Wn())throw new Li(Di.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Vc(this,i),this.lo=n+"main",this.Kt=new tc(a),this._o=new ga(this.lo,11,new Kc(this.Kt)),this.fo=new Ac(this.Ii,this.Kt),this.Ti=new yc,this.wo=function(t,e){return new Hc(t,e)}(this.Kt,this.Ti),this.Eo=new fc,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&Oi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Li(Di.FAILED_PRECONDITION,Jc);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.Wi(e)})}).then(function(e){t.io=new Zi(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(mi.b)(e,void 0,void 0,function(){return Object(mi.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(mi.b)(e,void 0,void 0,function(){return Object(mi.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(mi.b)(e,void 0,void 0,function(){return Object(mi.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Yc(e).put(new Ka(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(wa(e))return ki("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ki("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return Zc(t).get(Pa.key).next(function(t){return va.resolve(e.Co(t))})},t.prototype.xo=function(t){return Yc(t).delete(this.clientId)},t.prototype.No=function(){return Object(mi.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(mi.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ya(t,Ka.store);return e.os().next(function(t){var n=r.Oo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return va.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?va.resolve(!0):Zc(t).get(Pa.key).next(function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Li(Di.FAILED_PRECONDITION,Jc);return!1}}return!(!e.networkEnabled||!e.inForeground)||Yc(t).os().next(function(t){return void 0===e.Oo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ki("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(mi.b)(this,void 0,void 0,function(){var t=this;return Object(mi.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Pa.store,Ka.store],function(e){var n=new Za(e,Zi.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Oo=function(t,e){var n=this;return t.filter(function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Yc(e).os().next(function(e){return t.Oo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Tc.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.Wo=function(){return this.Ti},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ki("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Xa,function(o){return r=new Za(o,i.io?i.io.next():Zi.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw Oi("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new Li(Di.FAILED_PRECONDITION,Sa);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return Zc(t).get(Pa.key).next(function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Li(Di.FAILED_PRECONDITION,Jc)})},t.prototype.Do=function(t){var e=new Pa(this.clientId,this.allowTabSynchronization,Date.now());return Zc(t).put(Pa.key,e)},t.Wn=function(){return ga.Wn()},t.prototype.So=function(t){var e=this,n=Zc(t);return n.get(Pa.key).next(function(t){return e.Co(t)?(ki("IndexedDbPersistence","Releasing primary lease."),n.delete(Pa.key)):va.resolve()})},t.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Oi("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return ki("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Oi("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Oi("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Zc(t){return Ya(t,Pa.store)}function Yc(t){return Ya(t,Ka.store)}function Qc(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var $c=function(t,e){this.progress=t,this.zo=e},tl=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=ps();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),o=ds();return i.forEach(function(t,e){e||(e=new Uo(t,Qi.min())),o=o.Ht(t,e)}),o})},t.prototype.Wr=function(t,e,n){return function(t){return ro.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):hu(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new ro(e)).next(function(t){var e=ys();return t instanceof Lo&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=ys();return this.Ti.Qs(t,i).next(function(u){return va.forEach(u,function(u){var s=function(t,e){return new ou(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,u.child(i));return r.sc(t,s,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.Wr(t,e,n).next(function(n){return r=n,o.Ho.Ci(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],u=0,s=o.mutations;u<s.length;u++){var a=s[u],c=a.key,l=Bu(a,r.get(c),0,o.Ss);r=l instanceof Lo?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){mu(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=ws(),i=0,o=e;i<o.length;i++)for(var u=0,s=o[i].mutations;u<s.length;u++){var a=s[u];a instanceof Xu&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Lo&&(c=c.Ht(t,e))}),c})},t}(),el=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=ws(),i=ws(),o=0,u=n.docChanges;o<u.length;o++){var s=u[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),nl=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.Wr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Qi.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var u=i.lc(e,o);return(au(e)||cu(e))&&i._c(e.limitType,u,r,n)?i.hc(t,e):(_i()<=vt.a.DEBUG&&ki("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bu(e)),i.uc.Wr(t,e,n).next(function(t){return u.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new ls(wu(t));return e.forEach(function(e,r){r instanceof Lo&&mu(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return _i()<=vt.a.DEBUG&&ki("QueryEngine","Using full collection scan to execute query:",bu(e)),this.uc.Wr(t,e,Qi.min())},t}(),rl=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new ss(Ai),this.wc=new _c(function(t){return Ho(t)},qo),this.Ec=Qi.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new tl(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function il(t,e,n,r){return new rl(t,e,n,r)}function ol(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(mi.d)(this,function(u){switch(u.label){case 0:return n=xi(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.bi(t).next(function(u){return o=u,r=n.persistence.Ko(e),i=new tl(n.Tc,r,n.persistence.Wo()),r.bi(t)}).next(function(e){for(var n=[],r=[],u=ws(),s=0,a=o;s<a.length;s++){var c=a[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++)u=u.add(f[l].key)}for(var h=0,d=e;h<d.length;h++){var p=d[h];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)u=u.add(y[v].key)}return i.Zo(t,u).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=u.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function ul(t,e){var n=xi(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Fr({jr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),u=va.resolve();return o.forEach(function(t){u=u.next(function(){return r.fi(e,t)}).next(function(e){var o=e,u=n.Os.get(t);Si(null!==u),(!o||o.version.u(u)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Fs)})}),u.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function sl(t){var e=xi(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function al(t,e){var n=xi(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Fr({jr:!0});i=n.dc;var u=[];e.Oe.forEach(function(e,o){var s=i.get(o);if(s){u.push(n.fo.ir(t,e.Ke,o).next(function(){return n.fo.nr(t,e.Ue,o)}));var a=e.resumeToken;if(a.o()>0){var c=s.$t(a,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return Si(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(s,c,e)&&u.push(n.fo.Ji(t,c))}}});var s=ds();if(e.Me.forEach(function(r,i){e.Le.has(r)&&u.push(n.persistence.Ii.kr(t,r))}),u.push(cl(t,o,e.Me,r,void 0).next(function(t){s=t})),!r.isEqual(Qi.min())){var a=n.fo.Ki(t).next(function(e){return n.fo.ji(t,t.vs,r)});u.push(a)}return va.$n(u).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,s)})}).then(function(t){return n.dc=i,t})}function cl(t,e,n,r,i){var o=ws();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ds();return n.forEach(function(n,u){var s=t.get(n),a=(null==i?void 0:i.get(n))||r;u instanceof Uo&&u.version.isEqual(Qi.min())?(e._i(n,a),o=o.Ht(n,u)):null==s||u.version.u(s.version)>0||0===u.version.u(s.version)&&s.hasPendingWrites?(e.ui(u,a),o=o.Ht(n,u)):ki("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",u.version)}),o})}function ll(t,e){var n=xi(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function fl(t,e){var n=xi(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?va.resolve(r=i):n.fo.qi(t).next(function(i){return r=new ku(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function hl(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i,o,u;return Object(mi.d)(this,function(s){switch(s.label){case 0:r=xi(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!wa(u=s.sent()))throw u;return ki("LocalStore","Failed to update sequence numbers for target "+e+": "+u),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function dl(t,e,n){var r=xi(t),i=Qi.min(),o=ws();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=xi(t),i=r.wc.get(n);return void 0!==i?va.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,pu(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.Wr(t,e,n?i:Qi.min(),n?o:ws())}).next(function(t){return{documents:t,Pc:o}})})}function pl(t,e){var n=xi(t),r=xi(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function vl(t){var e=xi(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=xi(t),i=ds(),o=rc(n),u=Bc(e),s=IDBKeyRange.lowerBound(o,!0);return u.ls({index:Fa.readTimeIndex,range:s},function(t,e){var n=ec(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{zo:i,readTime:ic(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function yl(t){return Object(mi.b)(this,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){return[2,(e=xi(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Bc(t),n=Qi.min();return e.ls({index:Fa.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ic(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function gl(t,e,n,r){return Object(mi.b)(this,void 0,void 0,function(){var i,o,u,s,a,c,l,f,h,d;return Object(mi.d)(this,function(p){switch(p.label){case 0:for(i=xi(t),o=ws(),u=ds(),s=bs(),a=0,c=n;a<c.length;a++)f=e.yc((l=c[a]).metadata.name),l.document&&(o=o.add(f)),u=u.Ht(f,e.gc(l)),s=s.Ht(f,e.Vc(l.metadata.readTime));return h=i.Tc.Fr({jr:!0}),[4,fl(i,function(t){return pu(su(to.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return cl(t,h,u,Qi.min(),s).next(function(e){return h.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function bl(t,e,n){return void 0===n&&(n=ws()),Object(mi.b)(this,void 0,void 0,function(){var r,i;return Object(mi.d)(this,function(o){switch(o.label){case 0:return[4,fl(t,pu(lc(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=xi(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Hs(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var u=r.$t(Pi.h,o);return i.dc=i.dc.Ht(u.targetId,u),i.fo.Ji(t,u).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var ml=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return va.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Hs(n.createTime)}),va.resolve()},t.prototype.$s=function(t,e){return va.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:lc(t.bundledQuery),readTime:Hs(t.readTime)}}(e)),va.resolve()},t}(),wl=function(){function t(){this.Sc=new ls(_l.Dc),this.Cc=new ls(_l.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new _l(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Fc(new _l(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new ro(new to([])),r=new _l(n,t),i=new _l(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new ro(new to([])),n=new _l(e,t),r=new _l(e,t+1),i=ws();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new _l(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),_l=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return ro.J(t.key,e.key)||Ai(t.$c,e.$c)},t.xc=function(t,e){return Ai(t.$c,e.$c)||ro.J(t.key,e.key)},t}(),kl=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new ls(_l.Dc)}return t.prototype.Ri=function(t){return va.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Qa(i,e,n,r);this.Ho.push(o);for(var u=0,s=r;u<s.length;u++){var a=s[u];this.qc=this.qc.add(new _l(a.key,i)),this.Ti.Us(t,a.key.path.Z())}return va.resolve(o)},t.prototype.yi=function(t,e){return va.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return va.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return va.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return va.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new _l(e,0),i=new _l(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),va.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new ls(Ai);return e.forEach(function(t){var e=new _l(t,0),i=new _l(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),va.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;ro.Et(i)||(i=i.child(""));var o=new _l(new ro(i),0),u=new ls(Ai);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(u=u.add(t.$c)),!0)},o),va.resolve(this.Kc(u))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;Si(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return va.forEach(e.mutations,function(i){var o=new _l(i.key,e.batchId);return r=r.delete(o),n.Ii.Fi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new _l(e,0),r=this.qc.Pe(n);return va.resolve(e.isEqual(r&&r.key))},t.prototype.Oi=function(t){return va.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Ol=function(){function t(t,e){this.Ti=t,this.jc=e,this.docs=new ss(ro.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,u=this.jc(e);return this.docs=this.docs.Ht(r,{li:e,size:u,readTime:n}),this.size+=u-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return va.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=ps();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),va.resolve(r)},t.prototype.Wr=function(t,e,n){for(var r=ys(),i=new ro(e.path.child("")),o=this.docs.ne(i);o.ae();){var u=o.ce(),s=u.value,a=s.li,c=s.readTime;if(!e.path.st(u.key.path))break;c.u(n)<=0||a instanceof Lo&&mu(e,a)&&(r=r.Ht(a.key,a))}return va.resolve(r)},t.prototype.Gc=function(t,e){return va.forEach(this.docs,function(t){return e(t)})},t.prototype.Fr=function(t){return new El(this)},t.prototype.Mr=function(t){return va.resolve(this.size)},t}(),El=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(mi.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),va.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(kc),Tl=function(){function t(t){this.persistence=t,this.zc=new _c(function(t){return Ho(t)},qo),this.lastRemoteSnapshotVersion=Qi.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new wl,this.targetCount=0,this.Yc=Cc.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),va.resolve()},t.prototype.Ki=function(t){return va.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Wi=function(t){return va.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),va.resolve(this.highestTargetId)},t.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),va.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Cc(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,va.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),va.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,va.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(u,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.zc.delete(u),o.push(r.Xi(t,s.targetId)),i++)}),va.$n(o).next(function(){return i})},t.prototype.tr=function(t){return va.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return va.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),va.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Fi(t,e))}),va.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),va.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return va.resolve(n)},t.prototype.ki=function(t,e){return va.resolve(this.Jc.ki(e))},t}(),Il=function(){function t(t,e){var n=this;this.Xc={},this.io=new Zi(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Tl(this),this.Ti=new pc,this.wo=function(t,e){return new Ol(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new tc(e),this.Eo=new ml(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.Wo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new kl(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;ki("MemoryPersistence","Starting transaction:",t);var i=new Sl(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return va.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),Sl=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(mi.c)(e,t),e}(xa),xl=function(){function t(t){this.persistence=t,this.sa=new wl,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Ii()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),va.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),va.resolve()},t.prototype.Fi=function(t,e){return this.oa.add(e.toString()),va.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return va.forEach(this.oa,function(r){var i=ro.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return va.Bn([function(){return va.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function jl(t,e){return"firestore_clients_"+t+"_"+e}function Cl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Al(t,e){return"firestore_targets_"+t+"_"+e}var Rl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),u=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(u=new Li(i.error.code,i.error.message)),o?new t(e,n,i.state,u):(Oi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Nl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Li(r.error.code,r.error.message)),i?new t(e,r.state,o):(Oi("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Pl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ks(),u=0;i&&u<r.activeTargetIds.length;++u)i=bo(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new t(e,o):(Oi("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Dl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Oi("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ll=function(){function t(){this.activeTargetIds=ks()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ul=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new ss(Ai),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=jl(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Ll),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(mi.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,u,s,a,c,l=this;return Object(mi.d)(this,function(f){switch(f.label){case 0:return[4,this.fa.Qo()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(jl(this.persistenceKey,r)))&&(o=Pl.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(u=this.storage.getItem(this.ga))&&(s=this.ba(u))&&this.va(s),a=0,c=this.Ia;a<c.length;a++)this.Ea(c[a]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Al(this.persistenceKey,t));if(n){var r=Nl.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Al(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ki("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ki("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ki("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ki("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Oi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(mi.b)(e,void 0,void 0,function(){var t,e,r,i,o,u;return Object(mi.d)(this,function(s){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(u=function(t){var e=Zi.U;if(null!=t)try{var n=JSON.parse(t);Si("number"==typeof n),e=n}catch(t){Oi("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Zi.U&&this.L(u);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Rl(this.currentUser,t,e,n),i=Cl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Cl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Al(this.persistenceKey,t),i=new Nl(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Pl.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Rl.aa(new Bi(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Nl.aa(r,e)},t.prototype.ba=function(t){return Dl.aa(t)},t.prototype.Xa=function(t){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(ki("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),u=[],s=[];return o.forEach(function(t){i.has(t)||u.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.fa.iu(u,s).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=ks();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Ml=function(){function t(){this.ru=new Ll,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Ll,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Vl=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Fl=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){ki("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){ki("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Hl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ql=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),zl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(mi.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var u=new bi;u.listenOnce(vi.COMPLETE,function(){try{switch(u.getLastErrorCode()){case pi.NO_ERROR:var e=u.getResponseJson();ki("Connection","XHR received:",JSON.stringify(e)),i(e);break;case pi.TIMEOUT:ki("Connection",'RPC "'+t+'" timed out'),o(new Li(Di.DEADLINE_EXCEEDED,"Request time out"));break;case pi.HTTP_ERROR:var n=u.getStatus();if(ki("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Di).indexOf(e)>=0?e:Di.UNKNOWN}(r.status);o(new Li(s,r.message))}else o(new Li(Di.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Li(Di.UNAVAILABLE,"Connection failed."));break;default:Ii()}}finally{ki("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);u.send(e,"POST",s,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ci,i=hn(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(yt.m)()||Object(yt.o)()||Object(yt.k)()||Object(yt.l)()||Object(yt.p)()||Object(yt.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=n.join("");ki("Connection","Creating WebChannel: "+u,o);var s=r.createWebChannel(u,o),a=!1,c=!1,l=new ql({du:function(t){c?ki("Connection","Not sending because WebChannel is closed:",t):(a||(ki("Connection","Opening WebChannel transport."),s.open(),a=!0),ki("Connection","WebChannel sending:",t),s.send(t))},wu:function(){return s.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(s,gi.EventType.OPEN,function(){c||ki("Connection","WebChannel transport opened.")}),f(s,gi.EventType.CLOSE,function(){c||(c=!0,ki("Connection","WebChannel transport closed"),l.Pu())}),f(s,gi.EventType.ERROR,function(t){c||(c=!0,Ei("Connection","WebChannel transport errored:",t),l.Pu(new Li(Di.UNAVAILABLE,"The operation could not be completed")))}),f(s,gi.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Si(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ki("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ts[t];if(void 0!==e)return us(e)}(i),u=r.message;void 0===o&&(o=Di.INTERNAL,u="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Li(o,u)),s.close()}else ki("Connection","WebChannel received:",n),l.yu(n)}}),f(i,yi.STAT_EVENT,function(t){10===t.stat?ki("Connection","Detected buffering proxy"):11===t.stat&&ki("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);ki("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return ki("RestConnection","Received: ",t),t},function(e){throw Ei("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.5",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Hl[t]},t}());function Bl(){return"undefined"!=typeof window?window:null}function Gl(){return"undefined"!=typeof document?document:null}function Kl(t){return new Us(t,!0)}var Wl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&ki("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Jl=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Wl(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Di.RESOURCE_EXHAUSTED?(Oi(e.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Di.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new Li(Di.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(mi.b)(t,void 0,void 0,function(){return Object(mi.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return ki("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.ju===t?n():(ki("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Xl=function(t){function e(e,n,r,i,o){var u=this;return(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,u}return Object(mi.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ii()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Si(void 0===e||"string"==typeof e),Pi.fromBase64String(e||"")):(Si(void 0===e||e instanceof Uint8Array),Pi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),u=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Di.UNKNOWN:us(t.code);return new Li(e,t.message||"")}(s);n=new Cs(r,i,o,u||null)}else if("documentChange"in e){i=Gs(t,(r=e.documentChange).document.name),o=Hs(r.document.updateTime);var s=new Ro({mapValue:{fields:r.document.fields}}),a=(u=new Lo(i,o,s,{}),r.targetIds||[]);n=new xs(a,r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e)i=Gs(t,(r=e.documentDelete).document),o=r.readTime?Hs(r.readTime):Qi.min(),s=new Uo(i,o),n=new xs([],u=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=Gs(t,(r=e.documentRemove).document),n=new xs([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ii();var c=e.filter;i=new is(r=c.count||0),n=new js(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Qi.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Qi.min():e.readTime?Hs(e.readTime):Qi.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Js(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=zo(r)?{documents:ta(t,r)}:{query:ea(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Vs(t,e.resumeToken):e.Mt.u(Qi.min())>0&&(n.readTime=Ms(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ii()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Js(this.Kt),e.removeTarget=t,this.eh(e)},e}(Jl),Zl=function(t){function e(e,n,r,i,o){var u=this;return(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,u._h=!1,u}return Object(mi.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Si(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Si(void 0!==e),t.map(function(t){return function(t,e){var n=Hs(t.updateTime?t.updateTime:e);n.isEqual(Qi.min())&&(n=Hs(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Vu(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Hs(t.commitTime);return this.listener.wh(n,e)}return Si(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Js(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Qs(e.Kt,t)})};this.eh(n)},e}(Jl),Yl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(mi.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Li(Di.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===Di.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===Di.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Ql=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Oi(e),this.Ph=!1):ki("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),$l=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(mi.b)(o,void 0,void 0,function(){return Object(mi.d)(this,function(t){switch(t.label){case 0:return cf(this)?(ki("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(mi.b)(this,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return(e=xi(t)).Fh.add(4),[4,ef(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,tf(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Ql(n,r)};function tf(t){return Object(mi.b)(this,void 0,void 0,function(){var e,n;return Object(mi.d)(this,function(r){switch(r.label){case 0:if(!cf(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ef(t){return Object(mi.b)(this,void 0,void 0,function(){var e,n;return Object(mi.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function nf(t,e){var n=xi(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),af(n)?sf(n):Ef(n).Ju()&&of(n,e))}function rf(t,e){var n=xi(t),r=Ef(n);n.Nh.delete(e),r.Ju()&&uf(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():cf(n)&&n.Mh.set("Unknown"))}function of(t,e){t.Lh.cn(e.targetId),Ef(t).hh(e)}function uf(t,e){t.Lh.cn(e),Ef(t).lh(e)}function sf(t){t.Lh=new Rs({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Ef(t).start(),t.Mh.yh()}function af(t){return cf(t)&&!Ef(t).Hu()&&t.Nh.size>0}function cf(t){return 0===xi(t).Fh.size}function lf(t){t.Lh=void 0}function ff(t){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(e){return t.Nh.forEach(function(e,n){of(t,e)}),[2]})})}function hf(t,e){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(n){return lf(t),af(t)?(t.Mh.ph(e),sf(t)):t.Mh.set("Unknown"),[2]})})}function df(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i,o;return Object(mi.d)(this,function(u){switch(u.label){case 0:if(t.Mh.set("Online"),!(e instanceof Cs&&2===e.state&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(mi.d)(this,function(u){switch(u.label){case 0:n=e.cause,r=0,i=e.targetIds,u.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:u.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),u.label=3;case 3:u.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),ki("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,pf(t,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof xs?t.Lh.wn(e):e instanceof js?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Qi.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,sl(t.Sh)];case 8:return i=u.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Pi.h,n.Mt)),uf(t,e);var r=new ku(n.target,e,1,n.sequenceNumber);of(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return ki("RemoteStore","Failed to raise snapshot:",o=u.sent()),[4,pf(t,o)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function pf(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r=this;return Object(mi.d)(this,function(i){switch(i.label){case 0:if(!wa(e))throw e;return t.Fh.add(1),[4,ef(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return sl(t.Sh)}),t.fs.bo(function(){return Object(mi.b)(r,void 0,void 0,function(){return Object(mi.d)(this,function(e){switch(e.label){case 0:return ki("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,tf(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function vf(t,e){return e().catch(function(n){return pf(t,n,e)})}function yf(t){return Object(mi.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(mi.d)(this,function(u){switch(u.label){case 0:e=xi(t),n=Tf(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,u.label=1;case 1:if(!function(t){return cf(t)&&t.xh.length<10}(e))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,ll(e.Sh,r)];case 3:return null===(i=u.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Tf(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=u.sent(),[4,pf(e,o)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return gf(e)&&bf(e),[2]}})})}function gf(t){return cf(t)&&!Tf(t).Hu()&&t.xh.length>0}function bf(t){Tf(t).start()}function mf(t){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(e){return Tf(t).Th(),[2]})})}function wf(t){return Object(mi.b)(this,void 0,void 0,function(){var e,n,r;return Object(mi.d)(this,function(i){for(e=Tf(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function _f(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i;return Object(mi.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=$a.from(r,e,n),[4,vf(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,yf(t)];case 2:return o.sent(),[2]}})})}function kf(t,e){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(n){switch(n.label){case 0:return e&&Tf(t).fh?[4,function(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r;return Object(mi.d)(this,function(i){switch(i.label){case 0:return os(r=e.code)&&r!==Di.ABORTED?(n=t.xh.shift(),Tf(t).Xu(),[4,vf(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,yf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return gf(t)&&bf(t),[2]}})})}function Of(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n;return Object(mi.d)(this,function(r){switch(r.label){case 0:return n=xi(t),e?(n.Fh.delete(2),[4,tf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,ef(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ef(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=xi(t);return r.mh(),new Xl(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:ff.bind(null,t),Iu:hf.bind(null,t),uh:df.bind(null,t)}),t.Oh.push(function(n){return Object(mi.b)(e,void 0,void 0,function(){return Object(mi.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),af(t)?sf(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),lf(t),e.label=3;case 3:return[2]}})})})),t.Qh}function Tf(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=xi(t);return r.mh(),new Zl(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:mf.bind(null,t),Iu:kf.bind(null,t),Eh:wf.bind(null,t),wh:_f.bind(null,t)}),t.Oh.push(function(n){return Object(mi.b)(e,void 0,void 0,function(){return Object(mi.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,yf(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(ki("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var If=function(){this.Wh=void 0,this.listeners=[]},Sf=function(){this.queries=new _c(function(t){return gu(t)},yu),this.onlineState="Unknown",this.jh=new Set};function xf(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i,o,u,s,a;return Object(mi.d)(this,function(c){switch(c.label){case 0:if(n=xi(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new If),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),u=o,[4,n.Gh(r)];case 2:return u.Wh=c.sent(),[3,4];case 3:return s=c.sent(),a=Ia(s,"Initialization of query '"+bu(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&Rf(n),[2]}})})}function jf(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i,o,u;return Object(mi.d)(this,function(s){return n=xi(t),i=!1,(o=n.queries.get(r=e.query))&&(u=o.listeners.indexOf(e))>=0&&(o.listeners.splice(u,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Cf(t,e){for(var n=xi(t),r=!1,i=0,o=e;i<o.length;i++){var u=o[i],s=n.queries.get(u.query);if(s){for(var a=0,c=s.listeners;a<c.length;a++)c[a].Hh(u)&&(r=!0);s.Wh=u}}r&&Rf(n)}function Af(t,e,n){var r=xi(t),i=r.queries.get(e);if(i)for(var o=0,u=i.listeners;o<u.length;o++)u[o].onError(n);r.queries.delete(e)}function Rf(t){t.jh.forEach(function(t){t.next()})}var Nf=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ts(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Ts.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Pf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Df=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Gs(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Ys(this.Kt,t.document,!1):new Uo(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Hs(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Df(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var u=n.yc(o.metadata.name),s=0,a=o.metadata.queries;s<a.length;s++){var c=a[s],l=(e.get(c)||ws()).add(u);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(mi.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(mi.d)(this,function(o){switch(o.label){case 0:return[4,gl(this.Sh,new Df(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,bl(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new $c(Object.assign({},this.progress),t))]}})})}}();var Lf=function(t){this.key=t},Uf=function(t){this.key=t},Mf=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=ws(),this.Ce=ws(),this.ll=wu(t),this._l=new Os(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Es,i=e?e._l:this._l,o=e?e.Ce:this.Ce,u=i,s=!1,a=au(this.query)&&i.size===this.query.limit?i.last():null,c=cu(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),f=e instanceof Lo?e:null;f&&(f=mu(n.query,f)?f:null);var h=!!l&&n.Ce.has(l.key),d=!!f&&(f.bt||n.Ce.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.El(l,f)||(r.track({type:2,doc:f}),p=!0,(a&&n.ll(f,a)>0||c&&n.ll(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(s=!0)),p&&(f?(u=u.add(f),o=d?o.add(t):o.delete(t)):(u=u.delete(t),o=o.delete(t)))}),au(this.query)||cu(this.query))for(;u.size>this.query.limit;){var l=au(this.query)?u.last():u.first();u=u.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:u,wl:r,_c:s,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ii()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var u=e?this.Il():[],s=0===this.hl.size&&this.qe?1:0,a=s!==this.ul;return this.ul=s,0!==o.length||a?{snapshot:new Ts(this.query,t._l,i,o,t.Ce,0===s,a,!1),ml:u}:{ml:u}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Es,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=ws(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Uf(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new Lf(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=ws();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Ts.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Vf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ff=function(t){this.key=t,this.yl=!1},Hf=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new _c(function(t){return gu(t)},yu),this.Dl=new Map,this.Cl=[],this.xl=new ss(ro.J),this.Nl=new Map,this.Fl=new wl,this.Ol={},this.kl=new Map,this.Ml=Cc.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function qf(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i,o,u;return Object(mi.d)(this,function(s){switch(s.label){case 0:return n=gh(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,fl(n.Sh,pu(e))];case 2:return o=s.sent(),u=n.pl.ka(o.targetId),[4,zf(n,e,o.targetId,"current"===u)];case 3:r=s.sent(),n.$l&&nf(n.gl,o),s.label=4;case 4:return[2,r]}})})}function zf(t,e,n,r){return Object(mi.b)(this,void 0,void 0,function(){var i,o,u,s,a,c;return Object(mi.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(mi.b)(this,void 0,void 0,function(){var i,o,u;return Object(mi.d)(this,function(s){switch(s.label){case 0:return(i=e.view.dl(n))._c?[4,dl(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Oe.get(e.targetId),u=e.view.Ei(i,t.$l,o),[2,(nh(t,e.targetId,u.ml),u.snapshot)]}})})}(t,e,n,r)},[4,dl(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Mf(e,i.Pc),u=o.dl(i.documents),s=Ss.Be(n,r&&"Offline"!==t.onlineState),a=o.Ei(u,t.$l,s),nh(t,n,a.ml),c=new Vf(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),a.snapshot)]}})})}function Bf(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i;return Object(mi.d)(this,function(o){switch(o.label){case 0:return n=xi(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!yu(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,hl(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),rf(n.gl,r.targetId),th(n,r.targetId)}).catch(wc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return th(n,r.targetId),[4,hl(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Gf(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i,o,u;return Object(mi.d)(this,function(s){switch(s.label){case 0:r=bh(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=xi(t),i=Yi.now(),o=e.reduce(function(t,e){return t.add(e.key)},ws());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var u=[],s=0,a=e;s<a.length;s++){var c=a[s],l=Gu(c,n.get(c.key));null!=l&&u.push(new Xu(c.key,l,Po(l.proto.mapValue),Fu.exists(!0)))}return r.Ho.Pi(t,i,u,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=s.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new ss(Ai)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,oh(r,i.oi)];case 3:return s.sent(),[4,yf(r.gl)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),u=Ia(o,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function Kf(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r;return Object(mi.d)(this,function(i){switch(i.label){case 0:n=xi(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,al(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(Si(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Si(r.yl):t.Ke.size>0&&(Si(r.yl),r.yl=!1))}),[4,oh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,wc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Wf(t,e,n){var r=xi(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=xi(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&Rf(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Jf(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i,o,u,s,a;return Object(mi.d)(this,function(c){switch(c.label){case 0:return(r=xi(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(u=(u=new ss(ro.J)).Ht(o,new Uo(o,Qi.min())),s=ws().add(o),a=new Is(Qi.min(),new Map,new ls(Ai),u,s),[4,Kf(r,a)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),ih(r),[3,4];case 2:return[4,hl(r.Sh,e,!1).then(function(){return th(r,e,n)}).catch(wc)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Xf(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i;return Object(mi.d)(this,function(o){switch(o.label){case 0:n=xi(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ul(n.Sh,e)];case 2:return i=o.sent(),$f(n,r,null),Qf(n,r),n.pl.Fa(r,"acknowledged"),[4,oh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,wc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Zf(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i;return Object(mi.d)(this,function(o){switch(o.label){case 0:r=xi(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=xi(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return Si(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),$f(r,e,n),Qf(r,e),r.pl.Fa(e,"rejected",n),[4,oh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,wc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Yf(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i,o,u;return Object(mi.d)(this,function(s){switch(s.label){case 0:cf((n=xi(t)).gl)||ki("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=xi(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=s.sent(),u=Ia(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(u),[3,4];case 4:return[2]}})})}function Qf(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function $f(t,e,n){var r=xi(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function th(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.ki(e)||eh(t,e)})}function eh(t,e){var n=t.xl.get(e);null!==n&&(rf(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),ih(t))}function nh(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Lf?(t.Fl.sr(o.key,e),rh(t,o)):o instanceof Uf?(ki("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.rr(o.key,e),t.Fl.ki(o.key)||eh(t,o.key)):Ii()}}function rh(t,e){var n=e.key;t.xl.get(n)||(ki("SyncEngine","New document in limbo: "+n),t.Cl.push(n),ih(t))}function ih(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Ff(e)),t.xl=t.xl.Ht(e,n),nf(t.gl,new ku(pu(su(e.path)),n,2,Zi.U))}}function oh(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i,o,u;return Object(mi.d)(this,function(s){switch(s.label){case 0:return r=xi(t),i=[],o=[],u=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,s){u.push(r.Bl(s,e,n).then(function(t){if(t){r.$l&&r.pl.qa(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=el.cc(s.targetId,t);o.push(e)}}))}),[4,Promise.all(u)]);case 1:return s.sent(),r.vl.uh(i),[4,function(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i,o,u,s,a,c;return Object(mi.d)(this,function(l){switch(l.label){case 0:n=xi(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return va.forEach(e,function(e){return va.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return va.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!wa(r=l.sent()))throw r;return ki("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(u=o[i]).targetId,u.fromCache||(a=n.dc.get(s),c=a.Bt(a.Mt),n.dc=n.dc.Ht(s,c));return[2]}})})}(r.Sh,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function uh(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r;return Object(mi.d)(this,function(i){switch(i.label){case 0:return(n=xi(t)).currentUser.isEqual(e)?[3,3]:(ki("SyncEngine","User change. New user:",e.R()),[4,ol(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Li(Di.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,oh(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function sh(t,e){var n=xi(t),r=n.Nl.get(e);if(r&&r.yl)return ws().add(r.key);var i=ws(),o=n.Dl.get(e);if(!o)return i;for(var u=0,s=o;u<s.length;u++){var a=n.Sl.get(s[u]);i=i.ye(a.view.fl)}return i}function ah(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i;return Object(mi.d)(this,function(o){switch(o.label){case 0:return[4,dl((n=xi(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&nh(n,e.targetId,i.ml),i)]}})})}function ch(t){return Object(mi.b)(this,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){return[2,vl((e=xi(t)).Sh).then(function(t){return oh(e,t)})]})})}function lh(t,e,n,r){return Object(mi.b)(this,void 0,void 0,function(){var i,o;return Object(mi.d)(this,function(u){switch(u.label){case 0:return[4,function(t,e){var n=xi(t),r=xi(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):va.resolve(null)})})}((i=xi(t)).Sh,e)];case 1:return null===(o=u.sent())?[3,6]:"pending"!==n?[3,3]:[4,yf(i.gl)];case 2:return u.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?($f(i,e,r||null),Qf(i,e),function(t,e){xi(xi(t).Ho).Ni(e)}(i.Sh,e)):Ii(),u.label=4;case 4:return[4,oh(i,o)];case 5:return u.sent(),[3,7];case 6:ki("SyncEngine","Cannot apply mutation batch with id: "+e),u.label=7;case 7:return[2]}})})}function fh(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i,o,u,s,a;return Object(mi.d)(this,function(c){switch(c.label){case 0:return gh(n=xi(t)),bh(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,hh(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Of(n.gl,!0)];case 2:for(c.sent(),o=0,u=i;o<u.length;o++)nf(n.gl,u[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(s=[],a=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?s.push(e):a=a.then(function(){return th(n,e),hl(n.Sh,e,!0)}),rf(n.gl,e)}),[4,a]);case 4:return c.sent(),[4,hh(n,s)];case 5:return c.sent(),function(t){var e=xi(t);e.Nl.forEach(function(t,n){rf(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new ss(ro.J)}(n),n.Ll=!1,[4,Of(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function hh(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i,o,u,s,a,c,l,f,h,d,p;return Object(mi.d)(this,function(v){switch(v.label){case 0:n=xi(t),r=[],i=[],o=0,u=e,v.label=1;case 1:return o<u.length?(a=void 0,(c=n.Dl.get(s=u[o]))&&0!==c.length?[4,fl(n.Sh,pu(c[0]))]:[3,7]):[3,13];case 2:a=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=n.Sl.get(f[l]),[4,ah(n,h)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,pl(n.Sh,s)];case 8:return p=v.sent(),[4,fl(n.Sh,p)];case 9:return a=v.sent(),[4,zf(n,dh(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(a),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function dh(t){return uu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ph(t){var e=xi(t);return xi(xi(e.Sh).persistence).Qo()}function vh(t,e,n,r){return Object(mi.b)(this,void 0,void 0,function(){var i,o,u;return Object(mi.d)(this,function(s){switch(s.label){case 0:return(i=xi(t)).Ll?(ki("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vl(i.Sh)];case 3:return o=s.sent(),u=Is.$e(e,"current"===n),[4,oh(i,o,u)];case 4:return s.sent(),[3,8];case 5:return[4,hl(i.Sh,e,!0)];case 6:return s.sent(),th(i,e,r),[3,8];case 7:Ii(),s.label=8;case 8:return[2]}})})}function yh(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i,o,u,s,a,c,l,f;return Object(mi.d)(this,function(h){switch(h.label){case 0:if(!(r=gh(t)).Ll)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?r.Dl.has(u=o[i])?(ki("SyncEngine","Adding an already active target "+u),[3,5]):[4,pl(r.Sh,u)]:[3,6];case 2:return s=h.sent(),[4,fl(r.Sh,s)];case 3:return a=h.sent(),[4,zf(r,dh(s),a.targetId,!1)];case 4:h.sent(),nf(r.gl,a),h.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(mi.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,hl(r.Sh,t,!1).then(function(){rf(r.gl,t),th(r,t)}).catch(wc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,f=n,h.label=7;case 7:return l<f.length?[5,c(f[l])]:[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function gh(t){var e=xi(t);return e.gl.Ch.Bh=Kf.bind(null,e),e.gl.Ch.Sn=sh.bind(null,e),e.gl.Ch.$h=Jf.bind(null,e),e.vl.uh=Cf.bind(null,e.Vl),e.vl.ql=Af.bind(null,e.Vl),e}function bh(t){var e=xi(t);return e.gl.Ch.qh=Xf.bind(null,e),e.gl.Ch.Uh=Zf.bind(null,e),e}var mh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(e){switch(e.label){case 0:return this.Kt=Kl(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return il(this.persistence,new nl,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Il(xl.ra,this.Kt)},t.prototype.jl=function(t){return new Ml},t.prototype.terminate=function(){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),wh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(mi.c)(e,t),e.prototype.initialize=function(e){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,yl(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,bh(this.Xl.fa)];case 4:return n.sent(),[4,yf(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return il(this.persistence,new nl,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Uc(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=Qc(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?mc.Xs(this.cacheSizeBytes):mc.ei;return new Xc(this.synchronizeTabs,e,t.clientId,n,t.fs,Bl(),Gl(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Ml},e}(mh),_h=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(mi.c)(e,t),e.prototype.initialize=function(e){return Object(mi.b)(this,void 0,void 0,function(){var n,r=this;return Object(mi.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Ul?(this.pl.fa={nu:lh.bind(null,n),su:vh.bind(null,n),iu:yh.bind(null,n),Qo:ph.bind(null,n),eu:ch.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(mi.b)(r,void 0,void 0,function(){return Object(mi.d)(this,function(e){switch(e.label){case 0:return[4,fh(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Bl();if(!Ul.Wn(e))throw new Li(Di.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qc(t.gu.T,t.gu.persistenceKey);return new Ul(e,t.fs,n,t.clientId,t.Yl)},e}(wh),kh=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n=this;return Object(mi.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Wf(n.fa,t,1)},this.gl.Ch.s_=uh.bind(null,this.fa),[4,Of(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Sf},t.prototype.Zl=function(t){var e=Kl(t.gu.T),n=new zl(t.gu);return function(t,e,n){return new Yl(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,u=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Wf(u.fa,t,0)},o=Fl.Wn()?new Fl:new Vl,new $l(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,u){var s=new Hf(t,e,n,r,i,o);return u&&(s.Ll=!0),s}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(mi.b)(this,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return e=xi(t),ki("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,ef(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),Oh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Eh=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new pa,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(mi.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(mi.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Pf(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(mi.b)(this,void 0,void 0,function(){var t,e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(mi.b)(this,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(mi.b)(this,void 0,void 0,function(){var t,e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Li(Di.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new no(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Th=function(t){this._methodName=t};function Ih(t,e,n){if(!n)throw new Li(Di.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Sh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Li(Di.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function xh(t,e,n,r){if(!0===e&&!0===r)throw new Li(Di.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function jh(t){if(!ro.Et(t))throw new Li(Di.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ch(t){if(ro.Et(t))throw new Li(Di.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ah(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ii()}function Rh(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Li(Di.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ah(t);throw new Li(Di.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Nh(t,e){if(e<=0)throw new Li(Di.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ph=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Li(Di.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Li(Di.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,xh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Dh=new Map,Lh=function(){function t(t,e){this.w_="(lite)",this.E_=new Ph({}),this.T_=!1,t instanceof zi?(this.I_=t,this.m_=new Ki):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Li(Di.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zi(t.options.projectId)}(t),this.m_=new Wi(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Li(Di.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Li(Di.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Ph(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Ki;switch(t.type){case"gapi":var e=t.client;return Si(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Xi(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Li(Di.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,T:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Dh.get(this))&&(ki("ComponentProvider","Removing Datastore"),Dh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Uh=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Vh(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Mh=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Vh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,su(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(mi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Uh(this.firestore,null,new ro(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Mh);function Fh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Mi&&(t=t._),Ih("collection","path",e),t instanceof Lh)return Ch(n=to.ct.apply(to,Object(mi.g)([e],r))),new Vh(t,null,n);if(!(t instanceof Uh||t instanceof Vh))throw new Li(Di.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ch(n=to.ct.apply(to,Object(mi.g)([t.path],r)).child(to.ct(e))),new Vh(t.firestore,null,n)}function Hh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Mi&&(t=t._),1===arguments.length&&(e=Ci.t()),Ih("doc","path",e),t instanceof Lh)return jh(n=to.ct.apply(to,Object(mi.g)([e],r))),new Uh(t,null,new ro(n));if(!(t instanceof Uh||t instanceof Vh))throw new Li(Di.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jh(n=t.D_.child(to.ct.apply(to,Object(mi.g)([e],r)))),new Uh(t.firestore,t instanceof Vh?t.v_:null,new ro(n))}function qh(t,e){return t instanceof Mi&&(t=t._),e instanceof Mi&&(e=e._),(t instanceof Uh||t instanceof Vh)&&(e instanceof Uh||e instanceof Vh)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function zh(t,e){return t instanceof Mi&&(t=t._),e instanceof Mi&&(e=e._),t instanceof Mh&&e instanceof Mh&&t.firestore===e.firestore&&yu(t.C_,e.C_)&&t.v_===e.v_}var Bh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Li(Di.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Li(Di.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Ai(this.x_,t.x_)||Ai(this.N_,t.N_)},t}(),Gh=/^__.*__$/,Kh=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Xu(t,this.data,this.zt,e,this.fieldTransforms):new Ju(t,this.data,e,this.fieldTransforms)},t}(),Wh=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Xu(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Jh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ii()}}var Xh=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return vd(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Jh(this.k_)&&Gh.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Zh=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Kl(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Xh({k_:t,methodName:e,j_:n,path:no.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Yh(t){var e=t.p_(),n=Kl(t.I_);return new Zh(t.I_,!!e.ignoreUndefinedProperties,n)}function Qh(t,e,n,r,i,o){void 0===o&&(o={});var u=t.G_(o.merge||o.mergeFields?2:0,e,n,i);fd("Data must be an object, but it was:",u,r);var s,a,c=cd(r,u);if(o.merge)s=new so(u.zt),a=u.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=hd(e,h[f],n);if(!u.contains(d))throw new Li(Di.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");yd(l,d)||l.push(d)}s=new so(l),a=u.fieldTransforms.filter(function(t){return s.It(t.field)})}else s=null,a=u.fieldTransforms;return new Kh(new Ro(c),s,a)}var $h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Th);function td(t,e,n){return new Xh({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.prototype.z_=function(t){return new Mu(t.path,new Cu)},e.prototype.isEqual=function(t){return t instanceof e},e}(Th),nd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(mi.c)(e,t),e.prototype.z_=function(t){var e=td(this,t,!0),n=this.H_.map(function(t){return ad(t,e)}),r=new Au(n);return new Mu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Th),rd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(mi.c)(e,t),e.prototype.z_=function(t){var e=td(this,t,!0),n=this.H_.map(function(t){return ad(t,e)}),r=new Nu(n);return new Mu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Th),id=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(mi.c)(e,t),e.prototype.z_=function(t){var e=new Du(t.Kt,Tu(t.Kt,this.J_));return new Mu(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Th);function od(t,e,n,r){var i=t.G_(1,e,n);fd("Data must be an object, but it was:",i,r);var o=[],u=new No;oo(r,function(t,r){var s=pd(e,t,n);r instanceof Mi&&(r=r._);var a=i.U_(s);if(r instanceof $h)o.push(s);else{var c=ad(r,a);null!=c&&(o.push(s),u.set(s,c))}});var s=new so(o);return new Wh(u.yt(),s,i.fieldTransforms)}function ud(t,e,n,r,i,o){var u=t.G_(1,e,n),s=[hd(e,r,n)],a=[i];if(o.length%2!=0)throw new Li(Di.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(hd(e,o[c])),a.push(o[c+1]);for(var l=[],f=new No,h=s.length-1;h>=0;--h)if(!yd(l,s[h])){var d=s[h],p=a[h];p instanceof Mi&&(p=p._);var v=u.U_(d);if(p instanceof $h)l.push(d);else{var y=ad(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new so(l);return new Wh(f.yt(),g,u.fieldTransforms)}function sd(t,e,n,r){return void 0===r&&(r=!1),ad(n,t.G_(r?4:3,e))}function ad(t,e){if(t instanceof Mi&&(t=t._),ld(t))return fd("Unsupported field value:",e,t),cd(t,e);if(t instanceof Th)return function(t,e){if(!Jh(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var u=ad(o[i],e.Q_(r));null==u&&(u={nullValue:"NULL_VALUE"}),n.push(u),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Mi&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tu(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Yi.fromDate(t);return{timestampValue:Ms(e.Kt,n)}}if(t instanceof Yi)return n=new Yi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ms(e.Kt,n)};if(t instanceof Bh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ui)return{bytesValue:Vs(e.Kt,t.l)};if(t instanceof Uh){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:qs(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Ah(t))}(t,e)}function cd(t,e){var n={};return uo(t)?e.path&&e.path.length>0&&e.zt.push(e.path):oo(t,function(t,r){var i=ad(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function ld(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Yi||t instanceof Bh||t instanceof Ui||t instanceof Uh||t instanceof Th)}function fd(t,e,n){if(!ld(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ah(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function hd(t,e,n){if(e instanceof Mi&&(e=e._),e instanceof Eh)return e.d_;if("string"==typeof e)return pd(t,e);throw vd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var dd=new RegExp("[~\\*/\\[\\]]");function pd(t,e,n){if(e.search(dd)>=0)throw vd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Eh.bind.apply(Eh,Object(mi.g)([void 0],e.split("."))))).d_}catch(r){throw vd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function vd(t,e,n,r,i){var o=r&&!r.nt(),u=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var a="";return(o||u)&&(a+=" (found",o&&(a+=" in field "+r),u&&(a+=" in document "+i),a+=")"),new Li(Di.INVALID_ARGUMENT,(s+=". ")+t+a)}function yd(t,e){return t.some(function(t){return t.isEqual(e)})}var gd=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(mi.b)(this,void 0,void 0,function(){var e,n=this;return Object(mi.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Li(Di.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i,o,u,s;return Object(mi.d)(this,function(a){switch(a.label){case 0:return n=xi(t),r=Js(n.Kt)+"/documents",i={documents:e.map(function(t){return Bs(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=a.sent(),u=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Si(!!e.found);var n=Gs(t,e.found.name),r=Hs(e.found.updateTime),i=new Ro({mapValue:{fields:e.found.fields}});return new Lo(n,r,i,{})}(t,e):"missing"in e?function(t,e){Si(!!e.missing),Si(!!e.readTime);var n=Gs(t,e.missing),r=Hs(e.readTime);return new Uo(n,r)}(t,e):Ii()}(n.Kt,t);u.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=u.get(t.toString());Si(!!e),s.push(e)}),s)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Uo||t instanceof Lo?n.sf(t):Ii()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new ns(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(mi.b)(this,void 0,void 0,function(){var t,e=this;return Object(mi.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ro.ft(n);e.mutations.push(new rs(r,e.Gt(r)))}),[4,function(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i;return Object(mi.d)(this,function(o){switch(o.label){case 0:return n=xi(t),r=Js(n.Kt)+"/documents",i={writes:e.map(function(t){return Qs(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Lo)e=t.version;else{if(!(t instanceof Uo))throw Ii();e=Qi.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Li(Di.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Fu.updateTime(e):Fu.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Qi.min()))throw new Li(Di.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fu.updateTime(e)}return Fu.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),bd=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Wl(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(mi.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(mi.d)(this,function(r){return t=new gd(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!yo(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!os(e)}return!1},t}(),md=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Bi.UNAUTHENTICATED,this.clientId=Ci.t(),this._f=function(){},this.N=new pa,this.credentials.S(function(t){ki("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Li(Di.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new pa;return this.fs.Tf(function(){return Object(mi.b)(t,void 0,void 0,function(){var t,n;return Object(mi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ia(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function wd(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(mi.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),ki("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(mi.b)(i,void 0,void 0,function(){return Object(mi.d)(this,function(t){switch(t.label){case 0:return[4,ol(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function _d(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r;return Object(mi.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,kd(t)];case 1:return n=i.sent(),ki("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r;return Object(mi.d)(this,function(i){switch(i.label){case 0:return(n=xi(t)).fs.Af(),ki("RemoteStore","RemoteStore received new credentials"),r=cf(n),n.Fh.add(3),[4,ef(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,tf(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function kd(t){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(ki("FirestoreClient","Using default OfflineComponentProvider"),[4,wd(t,new mh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Od(t){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(ki("FirestoreClient","Using default OnlineComponentProvider"),[4,_d(t,new kh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Ed(t){return kd(t).then(function(t){return t.persistence})}function Td(t){return kd(t).then(function(t){return t.Sh})}function Id(t){return Od(t).then(function(t){return t.gl})}function Sd(t){return Od(t).then(function(t){return t.fa})}function xd(t){return Object(mi.b)(this,void 0,void 0,function(){var e,n;return Object(mi.d)(this,function(r){switch(r.label){case 0:return[4,Od(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=qf.bind(null,e.fa),n.Jh=Bf.bind(null,e.fa),n)]}})})}function jd(t,e,n){var r=this;void 0===n&&(n={});var i=new pa;return t.fs.ys(function(){return Object(mi.b)(r,void 0,void 0,function(){var r;return Object(mi.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Oh({next:function(o){e.ys(function(){return jf(t,u)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Li(Di.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Li(Di.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),u=new Nf(su(n.path),o,{includeMetadataChanges:!0,sl:!0});return xf(t,u)},[4,xd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function Cd(t,e,n){var r=this;void 0===n&&(n={});var i=new pa;return t.fs.ys(function(){return Object(mi.b)(r,void 0,void 0,function(){var r;return Object(mi.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Oh({next:function(n){e.ys(function(){return jf(t,u)}),n.fromCache&&"server"===r.source?i.reject(new Li(Di.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),u=new Nf(n,o,{includeMetadataChanges:!0,sl:!0});return xf(t,u)},[4,xd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var Ad=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Wl(this,"async_queue_retry"),this.vf=function(){var e=Gl();e&&ki("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Gl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Gl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(mi.b)(this,void 0,void 0,function(){var t,e=this;return Object(mi.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!wa(t=n.sent()))throw t;return ki("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Oi("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Ta.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ii()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(mi.b)(this,void 0,void 0,function(){var t;return Object(mi.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Rd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Ad,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(mi.c)(e,t),e.prototype.b_=function(){return this.Lf||Pd(this),this.Lf.terminate()},e}(Lh);function Nd(t){return t.Lf||Pd(t),t.Lf.df(),t.Lf}function Pd(t){var e=t.p_(),n=function(t,e,n){return new qi(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new md(t.m_,t.Mf,n)}function Dd(t,e,n){var r=this,i=new pa;return t.fs.enqueue(function(){return Object(mi.b)(r,void 0,void 0,function(){var r;return Object(mi.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,wd(t,n)];case 1:return o.sent(),[4,_d(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Di.FAILED_PRECONDITION||t.code===Di.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Ld(t){if(t.R_||t.P_)throw new Li(Di.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ud=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),mo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return lo(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(fo(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Ii()}},t.prototype.jf=function(t,e){var n=this,r={};return oo(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Bh(lo(t.latitude),lo(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=po(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(vo(t));default:return null}},t.prototype.Bf=function(t){var e=co(t);return new Yi(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=to.ct(t);Si(da(n));var r=new zi(n.get(1),n.get(3)),i=new ro(n.X(5));return r.isEqual(e)||Oi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Md=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Uh(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Vd(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Fd("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Md);function Fd(t,e){return"string"==typeof e?pd(t,e):e instanceof Mi?e._.d_:e.d_}function Hd(t){if(cu(t)&&0===t.Nt.length)throw new Li(Di.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qd=function(){};function zd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Bd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(mi.c)(e,t),e.prototype.Yf=function(t){var e=Yh(t.firestore),n=function(t,e,n,r,i,o,u){var s;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Li(Di.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Yd(u,o);for(var a=[],c=0,l=u;c<l.length;c++)a.push(Zd(r,t,l[c]));s={arrayValue:{values:a}}}else s=Zd(r,t,u)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Yd(u,o),s=sd(n,"where",u,"in"===o||"not-in"===o);var f=Bo.create(i,o,s);return function(t,e){if(e.xt()){var n=fu(t);if(null!==n&&!n.isEqual(e.field))throw new Li(Di.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=lu(t);null!==r&&Qd(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Li(Di.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Mh(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ou(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(qd),Gd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(mi.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Li(Di.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Li(Di.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new eu(e,n);return function(t,e){if(null===lu(t)){var n=fu(t);null!==n&&Qd(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Mh(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new ou(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(qd),Kd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(mi.c)(e,t),e.prototype.Yf=function(t){return new Mh(t.firestore,t.v_,vu(t.C_,this.nd,this.sd))},e}(qd),Wd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(mi.c)(e,t),e.prototype.Yf=function(t){var e=Xd(t,this.type,this.rd,this.od);return new Mh(t.firestore,t.v_,function(t,e){return new ou(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(qd),Jd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(mi.c)(e,t),e.prototype.Yf=function(t){var e=Xd(t,this.type,this.rd,this.od);return new Mh(t.firestore,t.v_,function(t,e){return new ou(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(qd);function Xd(t,e,n,r){if(n[0]instanceof Mi&&(n[0]=n[0]._),n[0]instanceof Md)return function(t,e,n,r,i){if(!r)throw new Li(Di.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],u=0,s=du(t);u<s.length;u++){var a=s[u];if(a.field.ht())o.push(Io(e,r.key));else{var c=r.field(a.field);if(ho(c))throw new Li(Di.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.ot();throw new Li(Di.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new $o(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Yh(t.firestore);return function(t,e,n,r,i,o){var u=t.Nt;if(i.length>u.length)throw new Li(Di.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],a=0;a<i.length;a++){var c=i[a];if(u[a].field.ht()){if("string"!=typeof c)throw new Li(Di.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!hu(t)&&-1!==c.indexOf("/"))throw new Li(Di.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(to.ct(c));if(!ro.Et(l))throw new Li(Di.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new ro(l);s.push(Io(e,f))}else{var h=sd(n,r,c);s.push(h)}}return new $o(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Zd(t,e,n){if(n instanceof Mi&&(n=n._),"string"==typeof n){if(""===n)throw new Li(Di.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hu(e)&&-1!==n.indexOf("/"))throw new Li(Di.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(to.ct(n));if(!ro.Et(r))throw new Li(Di.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Io(t,new ro(r))}if(n instanceof Uh)return Io(t,n.S_);throw new Li(Di.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ah(n)+".")}function Yd(t,e){if(!Array.isArray(t)||0===t.length)throw new Li(Di.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Li(Di.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Qd(t,e,n){if(!n.isEqual(e))throw new Li(Di.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function $d(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function tp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ep=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(mi.c)(e,t),e.prototype.Uf=function(t){return new Ui(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Uh(this.firestore,null,e)},e}(Ud),np=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),rp=function(t){function e(e,n,r,i,o,u){var s=this;return(s=t.call(this,e,n,r,i,u)||this).zf=e,s.ad=e,s.metadata=o,s}return Object(mi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new ip(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Fd("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Md),ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(rp),op=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new np(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new ip(n.zf,n.Hf,r.key,r,new np(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Li(Di.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new ip(t.zf,t.Hf,e.doc.key,e.doc,new np(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ip(t.zf,t.Hf,e.doc.key,e.doc,new np(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:up(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function up(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ii()}}function sp(t,e){return t instanceof rp&&e instanceof rp?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof op&&e instanceof op&&t.zf===e.zf&&zh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var ap=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(mi.c)(e,t),e.prototype.Uf=function(t){return new Ui(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Uh(this.firestore,null,e)},e}(Ud);function cp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Rh(t,Uh);var o=Rh(t.firestore,Rd),u=Yh(o);return e instanceof Mi&&(e=e._),fp(o,[("string"==typeof e||e instanceof Eh?ud(u,"updateDoc",t.S_,e,n,r):od(u,"updateDoc",t.S_,e)).F_(t.S_,Fu.exists(!0))])}function lp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Mi&&(t=t._);var u={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||$d(i[s])||(u=i[s],s++);var a,c,l,f={includeMetadataChanges:u.includeMetadataChanges};if($d(i[s])){var h=i[s];i[s]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof Uh)c=Rh(t.firestore,Rd),l=su(t.S_.path),a={next:function(e){i[s]&&i[s](hp(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Rh(t,Mh);c=Rh(d.firestore,Rd),l=d.C_;var p=new ap(c);a={next:function(t){i[s]&&i[s](new op(c,p,d,t))},error:i[s+1],complete:i[s+2]},Hd(t.C_)}return function(t,e,n,r){var i=this,o=new Oh(r),u=new Nf(e,o,n);return t.fs.ys(function(){return Object(mi.b)(i,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return e=xf,[4,xd(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(mi.b)(i,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return e=jf,[4,xd(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}})})})}}(Nd(c),l,f,a)}function fp(t,e){return function(t,e){var n=this,r=new pa;return t.fs.ys(function(){return Object(mi.b)(n,void 0,void 0,function(){var n;return Object(mi.d)(this,function(i){switch(i.label){case 0:return n=Gf,[4,Sd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Nd(t),e)}function hp(t,e,n){var r=n.docs.get(e.S_),i=new ap(t);return new rp(t,i,e.S_,r,new np(n.hasPendingWrites,n.fromCache),e.v_)}var dp=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Yh(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=pp(t,this.zf),i=tp(r.v_,e,n),o=Qh(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Fu.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,u=pp(t,this.zf);return e instanceof Mi&&(e=e._),o="string"==typeof e||e instanceof Eh?ud(this.wd,"WriteBatch.update",u.S_,e,n,r):od(this.wd,"WriteBatch.update",u.S_,e),this.fd.push(o.F_(u.S_,Fu.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=pp(t,this.zf);return this.fd=this.fd.concat(new ns(e.S_,Fu.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Li(Di.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function pp(t,e){if(t instanceof Mi&&(t=t._),t.firestore!==e)throw new Li(Di.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var vp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(mi.c)(e,t),e.prototype.get=function(e){var n=this,r=pp(e,this.zf),i=new ap(this.zf);return t.prototype.get.call(this,e).then(function(t){return new rp(n.zf,i,r.S_,t.Jf,new np(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Yh(t)}return t.prototype.get=function(t){var e=this,n=pp(t,this.zf),r=new ep(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Ii();var i=t[0];if(i instanceof Uo)return new Md(e.zf,r,n.S_,null,n.v_);if(i instanceof Lo)return new Md(e.zf,r,i.key,i,n.v_);throw Ii()})},t.prototype.set=function(t,e,n){var r=pp(t,this.zf),i=tp(r.v_,e,n),o=Qh(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,u=pp(t,this.zf);return e instanceof Mi&&(e=e._),o="string"==typeof e||e instanceof Eh?ud(this.wd,"Transaction.update",u.S_,e,n,r):od(this.wd,"Transaction.update",u.S_,e),this.Td.update(u.S_,o),this},t.prototype.delete=function(t){var e=pp(t,this.zf);return this.Td.delete(e.S_),this},t}()),yp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ld(t=Rh(t,Rd));var n=Nd(t),r=t.p_(),i=new kh;return Dd(n,i,new wh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ld(t=Rh(t,Rd));var e=Nd(t),n=t.p_(),r=new kh;return Dd(e,r,new _h(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Li(Di.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new pa;return t.Mf.Tf(function(){return Object(mi.b)(e,void 0,void 0,function(){var e;return Object(mi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(mi.b)(this,void 0,void 0,function(){return Object(mi.d)(this,function(e){switch(e.label){case 0:return ga.Wn()?[4,ga.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Qc(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),gp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof zi||(i.md=e),i}return Object(mi.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Rh(t,Lh)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Ei("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(mi.b)(e,void 0,void 0,function(){var e,n;return Object(mi.d)(this,function(r){switch(r.label){case 0:return[4,Ed(t)];case 1:return e=r.sent(),[4,Id(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=xi(t);return e.Fh.delete(0),tf(e)}(n))]}})})})}(Nd(Rh(this._,Rd)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(mi.b)(e,void 0,void 0,function(){var e,n;return Object(mi.d)(this,function(r){switch(r.label){case 0:return[4,Ed(t)];case 1:return e=r.sent(),[4,Id(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(mi.b)(this,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return(e=xi(t)).Fh.add(0),[4,ef(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Nd(Rh(this._,Rd)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&xh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.md&&(this.md._removeServiceInstance("firestore"),this.md._removeServiceInstance("firestore-exp")),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new pa;return t.fs.ys(function(){return Object(mi.b)(e,void 0,void 0,function(){var e;return Object(mi.d)(this,function(r){switch(r.label){case 0:return e=Yf,[4,Sd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Nd(Rh(this._,Rd)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Oh(e);return t.fs.ys(function(){return Object(mi.b)(n,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){xi(t).jh.add(e),e.next()},[4,xd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(mi.b)(n,void 0,void 0,function(){var e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){xi(t).jh.delete(e)},[4,xd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Nd(t=Rh(t,Rd)),$d(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Li(Di.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ap(this,Fh(this._,t))}catch(t){throw Op(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new kp(this,Hh(this._,t))}catch(t){throw Op(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new xp(this,function(t,e){if(t=Rh(t,Lh),Ih("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Li(Di.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Mh(t,null,function(t){return new ou(to.at(),t)}(e))}(this._,t))}catch(t){throw Op(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new pa;return t.fs.ys(function(){return Object(mi.b)(n,void 0,void 0,function(){var n;return Object(mi.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Od(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new bd(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Nd(t),function(n){return e(new vp(t,n))})}(this._,function(n){return t(new mp(e,n))})},e.prototype.batch=function(){var t=this;return Nd(this._),new wp(new dp(this._,function(e){return fp(t._,e)}))},e.prototype.loadBundle=function(t){throw new Li(Di.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Li(Di.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Mi),bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(mi.c)(e,t),e.prototype.Uf=function(t){return new Hi(new Ui(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return kp.Ad(e,this.firestore,null)},e}(Ud),mp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new bp(e),r}return Object(mi.c)(e,t),e.prototype.get=function(t){var e=this,n=Rp(t);return this._.get(n).then(function(t){return new Ip(e.zf,new rp(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=Rp(t);return n?(Sh("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var u=Rp(t);return 2===arguments.length?this._.update(u,e):(r=this._).update.apply(r,Object(mi.g)([u,e,n],i)),this},e.prototype.delete=function(t){var e=Rp(t);return this._.delete(e),this},e}(Mi),wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.prototype.set=function(t,e,n){var r=Rp(t);return n?(Sh("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var u=Rp(t);return 2===arguments.length?this._.update(u,e):(r=this._).update.apply(r,Object(mi.g)([u,e,n],i)),this},e.prototype.delete=function(t){var e=Rp(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Mi),_p=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).zf=e,i.Hf=n,i}return Object(mi.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new ip(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null);return this._.fromFirestore(new Sp(this.zf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},e.Rd=function(t,n){var r=e.Pd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new bp(t),n),i.set(n,o)),o},e}(Mi);_p.Pd=new WeakMap;var kp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new bp(e),r}return Object(mi.c)(e,t),e.yd=function(t,n,r){if(t.length%2!=0)throw new Li(Di.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Uh(n._,r,new ro(t)))},e.Ad=function(t,n,r){return new e(n,new Uh(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ap(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ap(this.firestore,Fh(this._,t))}catch(t){throw Op(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Mi&&(t=t._),t instanceof Uh&&qh(this._,t)},e.prototype.set=function(t,e){e=Sh("DocumentReference.set",e);try{return function(t,e,n){t=Rh(t,Uh);var r=Rh(t.firestore,Rd),i=tp(t.v_,e,n);return fp(r,[Qh(Yh(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Fu.Wt())])}(this._,t,e)}catch(t){throw Op(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?cp(this._,t):cp.apply(void 0,Object(mi.g)([this._,t,e],n))}catch(t){throw Op(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return fp(Rh((t=this._).firestore,Rd),[new ns(t.S_,Fu.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ep(e),i=Tp(e,function(e){return new Ip(t.firestore,new rp(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return lp(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Rh(t,Uh);var e=Rh(t.firestore,Rd),n=Nd(e),r=new ap(e);return function(t,e){var n=this,r=new pa;return t.fs.ys(function(){return Object(mi.b)(n,void 0,void 0,function(){var n;return Object(mi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i;return Object(mi.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=xi(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Lo?n.resolve(i):i instanceof Uo?n.resolve(null):n.reject(new Li(Di.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ia(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Td(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new rp(e,r,t.S_,n,new np(n instanceof Lo&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Rh(t,Uh);var e=Rh(t.firestore,Rd);return jd(Nd(e),t.S_,{source:"server"}).then(function(n){return hp(e,t,n)})}(this._):function(t){t=Rh(t,Uh);var e=Rh(t.firestore,Rd);return jd(Nd(e),t.S_).then(function(n){return hp(e,t,n)})}(this._)).then(function(t){return new Ip(e.firestore,new rp(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(_p.Rd(this.firestore,t)))},e}(Mi);function Op(t,e,n){return t.message=t.message.replace(e,n),t}function Ep(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!$d(r))return r}return{}}function Tp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=$d(t[0])?t[0]:$d(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ip=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(mi.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new kp(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return sp(this._,t._)},e}(Mi),Sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Ip),xp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new bp(e),r}return Object(mi.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,zd(this._,function(t,e,n){var r=e,i=Fd("where",t);return new Bd(i,r,n)}(t,n,r)))}catch(t){throw Op(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,zd(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Fd("orderBy",t);return new Gd(r,n)}(t,n)))}catch(t){throw Op(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,zd(this._,function(t){return Nh("limit",t),new Kd("limit",t,"F")}(t)))}catch(t){throw Op(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,zd(this._,function(t){return Nh("limitToLast",t),new Kd("limitToLast",t,"L")}(t)))}catch(t){throw Op(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wd("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Op(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wd("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Op(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jd("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Op(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jd("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Op(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return zh(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Rh(t,Mh);var e=Rh(t.firestore,Rd),n=Nd(e),r=new ap(e);return function(t,e){var n=this,r=new pa;return t.fs.ys(function(){return Object(mi.b)(n,void 0,void 0,function(){var n;return Object(mi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i,o,u,s;return Object(mi.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,dl(t,e,!0)];case 1:return s=a.sent(),r=new Mf(e,s.Pc),i=r.dl(s.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return u=a.sent(),s=Ia(u,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,Td(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new op(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Rh(t,Mh);var e=Rh(t.firestore,Rd),n=Nd(e),r=new ap(e);return Cd(n,t.C_,{source:"server"}).then(function(n){return new op(e,r,t,n)})}(this._):function(t){t=Rh(t,Mh);var e=Rh(t.firestore,Rd),n=Nd(e),r=new ap(e);return Hd(t.C_),Cd(n,t.C_).then(function(n){return new op(e,r,t,n)})}(this._)).then(function(t){return new Cp(e.firestore,new op(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ep(e),i=Tp(e,function(e){return new Cp(t.firestore,new op(t.firestore._,t.Hf,t._,e.ud))});return lp(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(_p.Rd(this.firestore,t)))},e}(Mi),jp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(mi.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Sp(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Mi),Cp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(mi.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new xp(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Sp(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new jp(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Sp(n.zf,r))})},e.prototype.isEqual=function(t){return sp(this._,t._)},e}(Mi),Ap=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(mi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new kp(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new kp(this.firestore,void 0===t?Hh(this._):Hh(this._,t))}catch(t){throw Op(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Rh(t.firestore,Rd),r=Hh(t),i=tp(t.v_,e);return fp(n,[Qh(Yh(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Fu.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new kp(e.firestore,t)})},e.prototype.isEqual=function(t){return qh(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(_p.Rd(this.firestore,t)))},e}(xp);function Rp(t){return t instanceof Mi&&(t=t._),Rh(t,Uh)}var Np=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Eh.bind.apply(Eh,Object(mi.g)([void 0],e))))||this}return Object(mi.c)(e,t),e.documentId=function(){return new e(no.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Mi&&(t=t._),t instanceof Eh&&this._.d_.isEqual(t.d_)},e}(Mi),Pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(mi.c)(e,t),e.serverTimestamp=function(){var t=new ed("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new $h("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nd("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rd("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new id("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Mi);!function(){function t(){this.gd={},this.Vd=new pa,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Vd.promise.catch(t)},t.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},t.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},t.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)}}();var Dp,Lp=o("/6Yf"),Up={Firestore:gp,GeoPoint:Bh,Timestamp:Yi,Blob:Hi,Transaction:mp,WriteBatch:wp,DocumentReference:kp,DocumentSnapshot:Ip,Query:xp,QueryDocumentSnapshot:Sp,QuerySnapshot:Cp,CollectionReference:Ap,FieldPath:Np,FieldValue:Pp,setLogLevel:function(t){wi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Lp.a("firestore",function(t){return function(t,e){return new gp(t,new Rd(t,e),new yp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Up)))})(Dp=pt.a),Dp.registerVersion("@firebase/firestore","2.1.4");var Mp=o("XNiG"),Vp=o("VRyK"),Fp=o("eIep"),Hp=o("qgXg"),qp=o("quSY"),zp=o("9ppp"),Bp=o("Ylt2"),Gp=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return h(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}f(_(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new Kp(this._getNow(),t)),this._trimBufferThenGetEvents()),f(_(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new zp.a;if(this.isStopped||this.hasError?e=qp.a.EMPTY:(this.observers.push(t),e=new Bp.a(this,t)),i&&t.add(t=new ht.a(t,i)),n)for(var u=0;u<o&&!t.closed;u++)t.next(r[u]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||Hp.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Mp.a),Kp=function t(e,n){h(this,t),this.time=e,this.value=n};function Wp(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,u=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,a=t.scheduler,c=0,l=!1,f=!1;return function(t){var r;c++,!e||l?(l=!1,e=new Gp(i,u,a),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}})):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),n&&!f&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}var Jp=o("SxV6");function Xp(t,e){return e?Object(Fp.a)(function(){return t},e):Object(Fp.a)(function(){return t})}var Zp,Yp=o("tf+s"),Qp=new d.r("angularfire2.auth.use-emulator"),$p=new d.r("angularfire2.auth.settings"),tv=new d.r("angularfire2.auth.tenant-id"),ev=new d.r("angularfire2.auth.langugage-code"),nv=new d.r("angularfire2.auth.use-device-language"),rv=new d.r("angularfire.auth.persistence"),iv=((Zp=function t(e,n,r,i,u,s,a,c,f,d){h(this,t);var p=new Y.d(i),v=Object(Y.h)(p),y=new Mp.a,g=Object(et.a)(void 0).pipe(Object(ht.b)(p.outsideAngular),Object(Fp.a)(function(){return i.runOutsideAngular(function(){return o.e(5).then(o.bind(null,"6nsN"))})}),Object(st.a)(function(){return Object(Y.g)(e,i,n)}),Object(st.a)(function(t){return i.runOutsideAngular(function(){var e=u,n=s;return Object(Y.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://".concat(e.join(":"))),a&&(r.tenantId=a),r.languageCode=c,f&&r.useDeviceLanguage(),n&&(r.settings=n),d&&r.setPersistence(d),r},[e,a,c,f,n,d])})}),Wp({bufferSize:1,refCount:!1}));if(Object(l.n)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(et.a)(null);else{g.pipe(Object(Jp.a)()).subscribe();var b=g.pipe(Object(Fp.a)(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),v,Wp({bufferSize:1,refCount:!1})),m=function(t){return new $.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},w=g.pipe(Object(Fp.a)(function(t){return m(t.onAuthStateChanged.bind(t))})),_=g.pipe(Object(Fp.a)(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=b.pipe(Xp(w),Object(Yp.a)(p.outsideAngular),Object(ht.b)(p.insideAngular)),this.user=b.pipe(Xp(_),Object(Yp.a)(p.outsideAngular),Object(ht.b)(p.insideAngular)),this.idToken=this.user.pipe(Object(Fp.a)(function(t){return t?Object(tt.a)(t.getIdToken()):Object(et.a)(null)})),this.idTokenResult=this.user.pipe(Object(Fp.a)(function(t){return t?Object(tt.a)(t.getIdTokenResult()):Object(et.a)(null)})),this.credential=Object(Vp.a)(b,y,this.authState.pipe(Object(ft.a)(function(t){return!t}))).pipe(Object(st.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(Yp.a)(p.outsideAngular),Object(ht.b)(p.insideAngular))}return Object(Y.i)(this,g,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return y.next(t)})}}})}).\u0275fac=function(t){return new(t||Zp)(d.Ob(Y.c),d.Ob(Y.b,8),d.Ob(d.C),d.Ob(d.A),d.Ob(Qp,8),d.Ob($p,8),d.Ob(tv,8),d.Ob(ev,8),d.Ob(nv,8),d.Ob(rv,8))},Zp.\u0275prov=Object(d.Cb)({factory:function(){return new Zp(Object(d.Ob)(Y.c),Object(d.Ob)(Y.b,8),Object(d.Ob)(d.C),Object(d.Ob)(d.A),Object(d.Ob)(Qp,8),Object(d.Ob)($p,8),Object(d.Ob)(tv,8),Object(d.Ob)(ev,8),Object(d.Ob)(nv,8),Object(d.Ob)(rv,8))},token:Zp,providedIn:"any"}),Zp);Object(Y.e)(iv,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var ov,uv=((ov=function t(){h(this,t)}).\u0275mod=d.Eb({type:ov}),ov.\u0275inj=d.Db({factory:function(t){return new(t||ov)},providers:[iv]}),ov);function sv(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.b;return new $.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function av(t,e){return sv(t,e).pipe(Object(st.a)(function(t){return{payload:t,type:"query"}}))}function cv(t,n){return av(t,n).pipe(Object(nt.a)(void 0),it(),Object(st.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),u=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||u.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),u}))}function lv(t,e,n){return cv(t,n).pipe(Object(at.a)(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return fv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return fv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return fv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new ct(void 0,void 0))},Object(st.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function fv(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++)o[u-3]=arguments[u];return r.splice.apply(r,[e,n].concat(o)),r}function hv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var dv=function(){function n(t,e,r){h(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=cv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(st.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(Object(nt.a)(void 0),it(),Object(ft.a)(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(st.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Object(at.a)(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=hv(t);return lv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return av(this.query,this.afs.schedulers.outsideAngular).pipe(Object(st.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(tt.a)(this.query.get(t)).pipe(Object(ht.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new pv(this.ref.doc(t),this.afs)}}]),n}(),pv=function(){function n(t,e){h(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=wv(this.ref.collection(t),e),r=n.ref,i=n.query;return new dv(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return sv(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(nt.a)(void 0),it(),Object(st.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(st.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(tt.a)(this.ref.get(t)).pipe(Object(ht.b)(this.afs.schedulers.insideAngular))}}]),n}(),vv=function(){function e(t,n){h(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?cv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(st.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Object(ft.a)(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):cv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Object(at.a)(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=hv(t);return lv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return av(this.query,this.afs.schedulers.outsideAngular).pipe(Object(st.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(tt.a)(this.query.get(t)).pipe(Object(ht.b)(this.afs.schedulers.insideAngular))}}]),e}(),yv=new d.r("angularfire2.enableFirestorePersistence"),gv=new d.r("angularfire2.firestore.persistenceSettings"),bv=new d.r("angularfire2.firestore.settings"),mv=new d.r("angularfire2.firestore.use-emulator");function wv(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var _v,kv,Ov=((kv=function(){function t(n,r,o,u,s,a,c,f,d){h(this,t),this.schedulers=new Y.d(a),this.keepUnstableUntilFirst=Object(Y.h)(this.schedulers);var p=Object(Y.g)(n,a,r);!dt.a.auth&&d&&Object(Y.j)();var v=f,y=e(Object(Y.f)("".concat(p.name,".firestore"),"AngularFirestore",p,function(){var t=a.runOutsideAngular(function(){return p.firestore()});return u&&t.settings(u),v&&t.useEmulator.apply(t,i(v)),o&&!Object(l.n)(s)?[t,a.runOutsideAngular(function(){try{return Object(tt.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(Dp){return"undefined"!=typeof console&&console.warn(Dp),Object(et.a)(!1)}})]:[t,Object(et.a)(!1)]},[u,v,o]),2);this.firestore=y[0],this.persistenceEnabled$=y[1]}return p(t,[{key:"collection",value:function(t,e){var n=wv("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new dv(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new vv(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new pv(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||kv)(d.Ob(Y.c),d.Ob(Y.b,8),d.Ob(yv,8),d.Ob(bv,8),d.Ob(d.C),d.Ob(d.A),d.Ob(gv,8),d.Ob(mv,8),d.Ob(Qp,8))},kv.\u0275prov=Object(d.Cb)({factory:function(){return new kv(Object(d.Ob)(Y.c),Object(d.Ob)(Y.b,8),Object(d.Ob)(yv,8),Object(d.Ob)(bv,8),Object(d.Ob)(d.C),Object(d.Ob)(d.A),Object(d.Ob)(gv,8),Object(d.Ob)(mv,8),Object(d.Ob)(Qp,8))},token:kv,providedIn:"any"}),kv),Ev=((_v=function(){function t(){h(this,t)}return p(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:yv,useValue:!0},{provide:gv,useValue:e}]}}}]),t}()).\u0275mod=d.Eb({type:_v}),_v.\u0275inj=d.Db({factory:function(t){return new(t||_v)},providers:[Ov]}),_v),Tv=function(){function t(e,n){h(this,t),this.dueTime=e,this.scheduler=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Iv(t,this.dueTime,this.scheduler))}}]),t}(),Iv=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return p(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Sv,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(rt.a);function Sv(t){t.debouncedNext()}var xv=function(t){function e(n,r){var i=t.call(this,jv(n),"Firebase Storage: "+r+" ("+jv(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(mi.c)(e,t),e.prototype.codeEquals=function(t){return jv(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(yt.c);function jv(t){return"storage/"+t}function Cv(){return new xv("unknown","An unknown error occurred, please check the error payload for server response.")}function Av(){return new xv("canceled","User canceled the upload/download.")}function Rv(){return new xv("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Nv(t){return new xv("invalid-argument",t)}function Pv(){return new xv("app-deleted","The Firebase app was deleted.")}function Dv(t){return new xv("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lv(t,e){return new xv("invalid-format","String does not match format '"+t+"': "+e)}function Uv(t){throw new xv("internal-error","Internal error: "+t)}var Mv={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Vv=function(t,e){this.data=t,this.contentType=e||null};function Fv(t,e){switch(t){case Mv.RAW:return new Vv(Hv(e));case Mv.BASE64:case Mv.BASE64URL:return new Vv(qv(t,e));case Mv.DATA_URL:return new Vv((n=new zv(e)).base64?qv(Mv.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Dp){throw Lv(Mv.DATA_URL,"Malformed data URL.")}return Hv(e)}(n.rest),new zv(e).contentType)}var n;throw Cv()}function Hv(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function qv(t,e){switch(t){case Mv.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Lv(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Mv.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Lv(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var u;try{u=atob(e)}catch(Dp){throw Lv(t,"Invalid character found")}for(var s=new Uint8Array(u.length),a=0;a<u.length;a++)s[a]=u.charCodeAt(a);return s}var zv=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Lv(Mv.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},Bv={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gv(t){switch(t){case"running":case"pausing":case"canceling":return Bv.RUNNING;case"paused":return Bv.PAUSED;case"success":return Bv.SUCCESS;case"canceled":return Bv.CANCELED;case"error":default:return Bv.ERROR}}var Kv=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Wv=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Kv.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Kv.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Kv.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Uv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Uv("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Uv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Dp){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Uv("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Jv=function(){function t(){}return t.prototype.createXhrIo=function(){return new Wv},t}();function Xv(t){return"string"==typeof t||t instanceof String}function Zv(t){return Yv()&&t instanceof Blob}function Yv(){return"undefined"!=typeof Blob}function Qv(t,e,n,r){if(r<e)throw new xv("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new xv("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}function $v(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ty(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=$v();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Yv())return new Blob(t);throw new xv("unsupported-environment","This browser doesn't seem to support creating Blobs")}var ey=function(){function t(t,e){var n=0,r="";Zv(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Zv(this.data_)){var r=(o=e,u=n,(i=this.data_).webkitSlice?i.webkitSlice(o,u):i.mozSlice?i.mozSlice(o,u):i.slice?i.slice(o,u):null);return null===r?null:new t(r)}var i,o,u;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Yv()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(ty.apply(null,r))}var i=e.map(function(t){return Xv(t)?Fv(Mv.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var u=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)u[s++]=t[e]}),new t(u,!0)},t.prototype.uploadData=function(){return this.data_},t}(),ny=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(Dp){return new t(e,"")}if(""===n.path)return n;throw new xv("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),u=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<u.length;s++){var a=u[s],c=a.regex.exec(e);if(c){var l=c[a.indices.path];l||(l=""),n=new t(c[a.indices.bucket],l),a.postModify(n);break}}if(null==n)throw function(t){return new xv("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function ry(t){var e,n;try{e=JSON.parse(t)}catch(Dp){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function iy(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function oy(t){return"https://firebasestorage.googleapis.com/v0"+t}function uy(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function sy(t,e){return e}var ay=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||sy},cy=null;function ly(){if(cy)return cy;var t=[];t.push(new ay("bucket")),t.push(new ay("generation")),t.push(new ay("metageneration")),t.push(new ay("name","fullPath",!0));var e=new ay("name");e.xform=function(t,e){return function(t){return!Xv(t)||t.length<2?t:iy(t)}(e)},t.push(e);var n=new ay("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new ay("timeCreated")),t.push(new ay("updated")),t.push(new ay("md5Hash",null,!0)),t.push(new ay("cacheControl",null,!0)),t.push(new ay("contentDisposition",null,!0)),t.push(new ay("contentEncoding",null,!0)),t.push(new ay("contentLanguage",null,!0)),t.push(new ay("contentType",null,!0)),t.push(new ay("metadata","customMetadata",!0)),cy=t}function fy(t,e,n){var r=ry(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var u=n[o];r[u.local]=u.xform(r,e[u.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new ny(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function hy(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var dy=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function py(t){if(!t)throw Cv()}function vy(t,e){return function(n,r){var i=fy(t,r,e);return py(null!==i),i}}function yy(t){return function(e,n){var r;return(r=401===e.getStatus()?new xv("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new xv("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new xv("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function gy(t){var e=yy(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new xv("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function by(t,e,n){var r=oy(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new dy(r,"GET",vy(t,n),i);return o.errorHandler=gy(e),o}function my(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var wy=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function _y(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Dp){py(!1)}return py(!!n&&-1!==(e||["active"]).indexOf(n)),n}var ky=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}},Oy=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function Ey(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Ty=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=ly(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),u=my(e,r,i),s={name:u.fullPath},a=oy(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},l=hy(u,n),f=new dy(a,"POST",function(t){var e;_y(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Dp){py(!1)}return py(Xv(e)),e},t.maxUploadRetryTime);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=yy(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new dy(n,"POST",function(t){var e=_y(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Dp){py(!1)}n||py(!1);var i=Number(n);return py(!isNaN(i)),new wy(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=yy(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new wy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,u,s){var a=new wy(0,0);if(u?(a.current=u.current,a.total=u.total):(a.current=0,a.total=r.size()),r.size()!==a.total)throw new xv("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=a.total-a.current,l=c;i>0&&(l=Math.min(l,i));var f=a.current,h={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},d=r.slice(f,f+l);if(null===d)throw Rv();var p=new dy(n,"POST",function(t,n){var i,u=_y(t,["active","final"]),s=a.current+l,c=r.size();return i="final"===u?vy(e,o)(t,n):null,new wy(s,c,"final"===u,i)},e.maxUploadRetryTime);return p.headers=h,p.body=d.uploadData(),p.progressCallback=s||null,p.errorHandler=yy(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Dp){return t._error=Dp,void t._transition("error")}var u=t._ref.storage.makeRequest(o,i);t._request=u,u.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=by(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();u["Content-Type"]="multipart/related; boundary="+s;var a=my(e,r,i),c=hy(a,n),l=ey.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw Rv();var f={name:a.fullPath},h=oy(o),d=t.maxUploadRetryTime,p=new dy(h,"POST",vy(t,n),d);return p.urlParams=f,p.headers=u,p.body=l.uploadData(),p.errorHandler=yy(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Av(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Gv(this._state);return new Oy(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new ky(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Gv(this._state)){case Bv.SUCCESS:Ey(this._resolve.bind(null,this.snapshot))();break;case Bv.CANCELED:case Bv.ERROR:Ey(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Gv(this._state)){case Bv.RUNNING:case Bv.PAUSED:t.next&&Ey(t.next.bind(t,this.snapshot))();break;case Bv.SUCCESS:t.complete&&Ey(t.complete.bind(t))();break;case Bv.CANCELED:case Bv.ERROR:t.error&&Ey(t.error.bind(t,this._error))();break;default:t.error&&Ey(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Iy=function(){function t(t,e){this._service=t,this._location=e instanceof ny?e:ny.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new ny(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return iy(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new ny(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Dv(t)},t}();function Sy(t){var e={prefixes:[],items:[]};return xy(t,e).then(function(){return e})}function xy(t,e,n){return Object(mi.b)(this,void 0,void 0,function(){var r,i,o;return Object(mi.d)(this,function(u){switch(u.label){case 0:return[4,jy(t,{pageToken:n})];case 1:return r=u.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,xy(t,e,r.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function jy(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r,i;return Object(mi.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Qv("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var u=oy(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,a=new dy(u,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=ry(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var u=o[i].replace(/\/$/,""),s=t.makeStorageReference(new ny(e,u));r.prefixes.push(s)}if(n.items)for(var a=0,c=n.items;a<c.length;a++)s=t.makeStorageReference(new ny(e,c[a].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return py(null!==i),i}}(t,e.bucket),s);return a.urlParams=o,a.errorHandler=yy(e),a}(t.storage,t._location,0,(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function Cy(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new ny(t._location.bucket,n);return new Iy(t.storage,r)}var Ay=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Ry=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Ay(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new Ay(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Ay(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Ay(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Ny=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Py(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Py(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Py=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(Cy(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Ry(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new Ty(t,new ey(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=Mv.RAW),this._throwIfRoot("putString"),new Ry(function(t,e,n,r){void 0===n&&(n=Mv.RAW),t._throwIfRoot("putString");var i=Fv(n,e),o=Object(mi.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new Ty(t,new ey(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return Sy(this._delegate).then(function(e){return new Ny(e,t.storage)})},t.prototype.list=function(t){var e=this;return jy(this._delegate,t).then(function(t){return new Ny(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(mi.b)(this,void 0,void 0,function(){var e,n;return Object(mi.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=by(t.storage,t._location,ly()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(mi.b)(this,void 0,void 0,function(){var n,r;return Object(mi.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=oy(e.fullServerUrl()),o=hy(n,r),u=t.maxOperationRetryTime,s=new dy(i,"PATCH",vy(t,r),u);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=gy(e),s}(t.storage,t._location,e,ly()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(mi.b)(this,void 0,void 0,function(){var e,n;return Object(mi.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=oy(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new dy(r,"GET",function(t,e){return function(n,r){var i=fy(t,r,e);return py(null!==i),function(t,e){var n=ry(e);if(null===n)return null;if(!Xv(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return oy("/b/"+i(t.bucket)+"/o/"+i(n))+uy({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=gy(e),o}(t.storage,t._location,ly()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new xv("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(mi.b)(this,void 0,void 0,function(){var e,n;return Object(mi.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=oy(e.fullServerUrl()),r=new dy(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=gy(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Dv(t)},t}(),Dy=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Ly=function(){function t(t,e,n,r,i,o,u,s,a,c,l){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=u,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=a,this.pool_=l,this.promise_=new Promise(function(t,e){f.resolve_=t,f.reject_=e,f.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,u=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(u,u.getResponseText());void 0!==s?i(s):i()}catch(Dp){o(Dp)}else null!==u?((r=Cv()).serverResponse=u.getResponseText(),o(t.errorCallback_?t.errorCallback_(u,r):r)):o(r=n.canceled?t.appDelete_?Pv():Av():new xv("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Uy(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,u=!1,s=0;function a(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function f(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new Uy(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Kv.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var u=-1!==t.successCodes_.indexOf(o);e(!0,new Uy(u,n))}else{var s=n.getErrorCode()===Kv.ABORT;e(!1,new Uy(!1,null,s))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(h,a())},e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(mi.g)([null,t],e));else{var r;a()||u?l.call.apply(l,Object(mi.g)([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),f(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),f(0)):t||(s=1)))}return f(0),setTimeout(function(){u=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Uy=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function My(t){return/^[A-Za-z]+:\/\//.test(t)}function Vy(t,e){if(t instanceof zy){var n=t;if(null==n._bucket)throw new xv("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Iy(n,n._bucket);return null!=e?Vy(r,e):r}if(void 0!==e){if(e.includes(".."))throw Nv('`path` param cannot contain ".."');return Cy(t,e)}return t}function Fy(t,e){if(e&&My(e)){if(t instanceof zy)return new Iy(t,e);throw Nv("To use ref(service, url), the first argument must be a Storage instance.")}return Vy(t,e)}var Hy,qy,zy=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ny.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:ny.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Qv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Qv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(mi.b)(this,void 0,void 0,function(){var t,e;return Object(mi.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new Iy(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new Dy(Pv());var r=function(t,e,n,r){var i=uy(t.urlParams),o=t.url+i,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==pt.a?pt.a.SDK_VERSION:"AppManager")}(u),new Ly(o,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),By=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(My(t))throw Nv("ref() expected a child path but got a URL, use refFromURL instead.");return new Py(Fy(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!My(t))throw Nv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ny.makeFromUrl(t)}catch(Dp){throw Nv("refFromUrl() expected a valid full URL but got an invalid one.")}return new Py(Fy(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function Gy(t){var e=function(t){return new $.a(function(e){var n=function(t){return e.next(t)};n(t.snapshot);var r=t.on("state_changed",n);return t.then(function(t){n(t),e.complete()},function(r){n(t.snapshot),function(t){e.error(t)}(r)}),function(){r()}}).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.a;return function(n){return n.lift(new Tv(t,e))}}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(Object(st.a)(function(t){return t.bytesTransferred/t.totalBytes*100}))}}}function Ky(t,e,n){return{getDownloadURL:function(){return Object(et.a)(void 0).pipe(Object(ht.b)(e.outsideAngular),Object(Fp.a)(function(){return t.getDownloadURL()}),n)},getMetadata:function(){return Object(et.a)(void 0).pipe(Object(ht.b)(e.outsideAngular),Object(Fp.a)(function(){return t.getMetadata()}),n)},delete:function(){return Object(tt.a)(t.delete())},child:function(r){return Ky(t.child(r),e,n)},updateMetadata:function(e){return Object(tt.a)(t.updateMetadata(e))},put:function(e,n){return Gy(t.put(e,n))},putString:function(e,n,r){return Gy(t.putString(e,n,r))},listAll:function(){return Object(tt.a)(t.listAll())}}}qy={TaskState:Bv,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Mv,Storage:zy,Reference:Py},(Hy=pt.a).INTERNAL.registerComponent(new Lp.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new By(n,new zy(n,r,new Jv,e))},"PUBLIC").setServiceProps(qy).setMultipleInstances(!0)),Hy.registerVersion("@firebase/storage","0.4.2");var Wy,Jy,Xy,Zy,Yy,Qy,$y,tg,eg,ng,rg,ig,og=new d.r("angularfire2.storageBucket"),ug=new d.r("angularfire2.storage.maxUploadRetryTime"),sg=new d.r("angularfire2.storage.maxOperationRetryTime"),ag=((Xy=function(){function t(e,n,r,i,o,u,s){h(this,t),this.schedulers=new Y.d(o),this.keepUnstableUntilFirst=Object(Y.h)(this.schedulers);var a=Object(Y.g)(e,o,n);this.storage=Object(Y.f)("".concat(a.name,".storage.").concat(r),"AngularFireStorage",a,function(){var t=o.runOutsideAngular(function(){return a.storage(r||void 0)});return u&&t.setMaxUploadRetryTime(u),s&&t.setMaxOperationRetryTime(s),t},[u,s])}return p(t,[{key:"ref",value:function(t){return Ky(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"refFromURL",value:function(t){return Ky(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(t,e,n){return Ky(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}]),t}()).\u0275fac=function(t){return new(t||Xy)(d.Ob(Y.c),d.Ob(Y.b,8),d.Ob(og,8),d.Ob(d.C),d.Ob(d.A),d.Ob(ug,8),d.Ob(sg,8))},Xy.\u0275prov=Object(d.Cb)({factory:function(){return new Xy(Object(d.Ob)(Y.c),Object(d.Ob)(Y.b,8),Object(d.Ob)(og,8),Object(d.Ob)(d.C),Object(d.Ob)(d.A),Object(d.Ob)(ug,8),Object(d.Ob)(sg,8))},token:Xy,providedIn:"any"}),Xy),cg=((Jy=function t(){h(this,t)}).\u0275mod=d.Eb({type:Jy}),Jy.\u0275inj=d.Db({factory:function(t){return new(t||Jy)}}),Jy),lg=((Wy=function t(){h(this,t)}).\u0275mod=d.Eb({type:Wy}),Wy.\u0275inj=d.Db({factory:function(t){return new(t||Wy)},providers:[ag],imports:[cg]}),Wy),fg=o("tyNb"),hg=((eg=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||eg)},eg.\u0275cmp=d.Ab({type:eg,selectors:[["ms-cart"]],decls:2,vars:0,template:function(t,e){1&t&&(d.Lb(0,"p"),d.ec(1,"cart works!"),d.Kb())},styles:[""],changeDetection:0}),eg),dg=((tg=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||tg)},tg.\u0275cmp=d.Ab({type:tg,selectors:[["app-checkout"]],decls:2,vars:0,template:function(t,e){1&t&&(d.Lb(0,"p"),d.ec(1,"checkout works!"),d.Kb())},styles:[""]}),tg),pg=(($y=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||$y)},$y.\u0275cmp=d.Ab({type:$y,selectors:[["app-home"]],decls:2,vars:0,template:function(t,e){1&t&&(d.Lb(0,"p"),d.ec(1,"home works!"),d.Kb())},styles:[""]}),$y),vg=((Qy=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Qy)},Qy.\u0275cmp=d.Ab({type:Qy,selectors:[["ms-login"]],decls:45,vars:0,consts:[[1,"ms-login","flex","bg-gray-50","font-light"],[1,"flex","w-full","lg:w-1/2","items-center","justify-center"],[1,"max-w-md","space-y-8"],["src","../assets/ms-logo.png","loading","lazy","alt","MexShop","title","MexShop",1,"mx-auto","h-20","w-auto"],[1,"mt-6","text-center","text-3xl","text-gray-900"],[1,"flex","pt-4"],[1,"w-1/3","p-2","mx-2","border","border-solid","border-gray-400","rounded-md"],["src","../assets/img/logos/logo-g.png","loading","lazy","alt","Google Account","title","Google Account",1,"mx-auto","h-12","w-auto"],["action","#","method","POST",1,"space-y-6"],[1,""],["type","hidden","name","remember","value","true"],[1,"rounded-md","shadow-sm","-space-y-px"],["for","email-address",1,"sr-only"],["id","email-address","name","email","type","email","autocomplete","email","required","","placeholder","Email address",1,"appearance-none","rounded-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-t-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm"],["for","password",1,"sr-only"],["id","password","name","password","type","password","autocomplete","current-password","required","","placeholder","Password",1,"appearance-none","rounded-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-b-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["id","remember_me","name","remember_me","type","checkbox",1,"h-4","w-4","text-primary-default","focus:ring-indigo-500","border-gray-300","rounded"],["for","remember_me",1,"ml-2","block","text-sm","text-gray-900"],[1,"text-sm"],["href","#",1,"font-medium","text-indigo-600","hover:text-indigo-500"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-indigo-500","group-hover:text-indigo-400"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],[1,"bg-image","hidden","lg:block","w-1/2","h-full","overflow-hidden","bg-primary-default"]],template:function(t,e){1&t&&(d.Lb(0,"div",0),d.Lb(1,"div",1),d.Lb(2,"div",2),d.Lb(3,"div"),d.Hb(4,"img",3),d.Lb(5,"h2",4),d.ec(6," Sign in to your account "),d.Kb(),d.Kb(),d.Lb(7,"div"),d.Lb(8,"span"),d.ec(9,"Sign in with"),d.Kb(),d.Lb(10,"div",5),d.Lb(11,"div",6),d.ec(12," Facebook "),d.Kb(),d.Lb(13,"div",6),d.Hb(14,"img",7),d.Kb(),d.Lb(15,"div",6),d.ec(16," Twitter "),d.Kb(),d.Kb(),d.Kb(),d.Lb(17,"form",8),d.Lb(18,"span",9),d.ec(19,"Or continue with"),d.Kb(),d.Hb(20,"input",10),d.Lb(21,"div",11),d.Lb(22,"div"),d.Lb(23,"label",12),d.ec(24,"Email address"),d.Kb(),d.Hb(25,"input",13),d.Kb(),d.Lb(26,"div"),d.Lb(27,"label",14),d.ec(28,"Password"),d.Kb(),d.Hb(29,"input",15),d.Kb(),d.Kb(),d.Lb(30,"div",16),d.Lb(31,"div",17),d.Hb(32,"input",18),d.Lb(33,"label",19),d.ec(34," Remember me "),d.Kb(),d.Kb(),d.Lb(35,"div",20),d.Lb(36,"a",21),d.ec(37," Forgot your password? "),d.Kb(),d.Kb(),d.Kb(),d.Lb(38,"div"),d.Lb(39,"button",22),d.Lb(40,"span",23),d.Ub(),d.Lb(41,"svg",24),d.Hb(42,"path",25),d.Kb(),d.Kb(),d.ec(43," Sign in "),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Tb(),d.Hb(44,"div",26),d.Kb())},styles:['.ms-login[_ngcontent-%COMP%]{height:90vh}.bg-image[_ngcontent-%COMP%]{background:url("https://cdn.vox-cdn.com/thumbor/wdyWEHcFb88uZzUUnWEee4g9lGA=/0x0:1024x683/1200x900/filters:focal(431x261:593x423)/cdn.vox-cdn.com/uploads/chorus_image/image/54807847/Borracha_overhead.11.jpg") no-repeat;background-size:cover;-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover}'],changeDetection:0}),Qy),yg=((Yy=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Yy)},Yy.\u0275cmp=d.Ab({type:Yy,selectors:[["app-order-success"]],decls:2,vars:0,template:function(t,e){1&t&&(d.Lb(0,"p"),d.ec(1,"order-success works!"),d.Kb())},styles:[""]}),Yy),gg=((Zy=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Zy)},Zy.\u0275cmp=d.Ab({type:Zy,selectors:[["ms-page-not-found"]],decls:15,vars:0,consts:[[1,"not-found","flex","flex-col","w-full","px-2","sm:px-0","mt-4","md:mt-24","font-extralight","text-lg","md:text-3xl","text-center"],[1,"text-5xl","md:text-8xl","py-3","uppercase"],[1,"py-3"],["routerLink","/"],[1,"py-5","md:pt-10"],["src","../assets/img/icons/donkey.png","loading","lazy","alt","Donkey","title","Pancho",1,"h-20","md:h-36","mx-auto"]],template:function(t,e){1&t&&(d.Lb(0,"div",0),d.Lb(1,"span",1),d.ec(2,"Guacamole!"),d.Kb(),d.Lb(3,"span",2),d.ec(4,"Sorry, looks like something went wrong.."),d.Kb(),d.Lb(5,"span",2),d.ec(6,"The page you where looking for could not be found, "),d.Hb(7,"br"),d.ec(8," probably drank a little too much "),d.Lb(9,"a",3),d.ec(10,"tequila"),d.Kb(),d.Kb(),d.Lb(11,"span",4),d.ec(12,"Hop on on Pancho the donkey to go back to the home page"),d.Kb(),d.Lb(13,"a",3),d.Hb(14,"img",5),d.Kb(),d.Kb())},directives:[fg.a],styles:[".not-found[_ngcontent-%COMP%]{height:90vh}"],changeDetection:0}),Zy),bg=[{path:"",component:pg},{path:"cart",component:hg},{path:"checkout",component:dg},{path:"products",component:(ng=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(),ng.\u0275fac=function(t){return new(t||ng)},ng.\u0275cmp=d.Ab({type:ng,selectors:[["app-products"]],decls:2,vars:0,template:function(t,e){1&t&&(d.Lb(0,"p"),d.ec(1,"products works!"),d.Kb())},styles:[""]}),ng)},{path:"checkout",component:dg},{path:"order-success",component:yg},{path:"login",component:vg},{path:"admin",loadChildren:function(){return Promise.resolve().then(o.bind(null,"xt9q")).then(function(t){return t.AdminModule})}},{path:"user",loadChildren:function(){return Promise.resolve().then(o.bind(null,"afOq")).then(function(t){return t.UserModule})}},{path:"**",component:gg}],mg=((ig=function t(){h(this,t)}).\u0275mod=d.Eb({type:ig}),ig.\u0275inj=d.Db({factory:function(t){return new(t||ig)},imports:[[fg.b.forRoot(bg)],fg.b]}),ig),wg=((rg=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||rg)},rg.\u0275cmp=d.Ab({type:rg,selectors:[["ms-header-language-selection"]],decls:4,vars:0,consts:[["routerLink","/",1,"flex","items-center","cursor-pointer"],[1,"text-2xs","align-middle","uppercase"],["src","../assets/img/icons/mexican-flag.png","loading","lazy","alt","Espa\xf1ol","title","Select Language",1,"h-6","pl-2"]],template:function(t,e){1&t&&(d.Lb(0,"a",0),d.Lb(1,"span",1),d.ec(2,"ES"),d.Kb(),d.Hb(3,"img",2),d.Kb())},directives:[fg.a],styles:[""],changeDetection:0}),rg);function _g(t,e){1&t&&(d.Lb(0,"a",3),d.Lb(1,"span",4),d.ec(2," Log In "),d.Kb(),d.Hb(3,"img",5),d.Kb())}function kg(t,e){if(1&t&&(d.Lb(0,"a",6),d.Hb(1,"img",7),d.Kb()),2&t){var n=d.Vb();d.xb(1),d.Wb("src",n.isAdmin?"../assets/img/icons/wrestling.png":"../assets/img/icons/mexican-man.png",d.ac)}}function Og(t,e){1&t&&(d.Jb(0),d.Lb(1,"a",15),d.ec(2,"Products"),d.Kb(),d.Lb(3,"a",16),d.ec(4,"Orders"),d.Kb(),d.Ib())}function Eg(t,e){1&t&&(d.Lb(0,"a",15),d.ec(1,"My Profile"),d.Kb(),d.Lb(2,"a",16),d.ec(3,"My Orders"),d.Kb())}function Tg(t,e){if(1&t){var n=d.Mb();d.Lb(0,"div",8),d.Lb(1,"div",9),d.Rb("click",function(){return d.Zb(n),d.Vb().toggleFlyout()}),d.Lb(2,"p",4),d.ec(3," Hello "),d.Lb(4,"span",10),d.ec(5),d.Kb(),d.Kb(),d.Hb(6,"img",7),d.Kb(),d.Lb(7,"nav",11),d.Rb("mouseleave",function(){return d.Zb(n),d.Vb().closeFlyout()}),d.cc(8,Og,5,0,"ng-container",12),d.cc(9,Eg,4,0,"ng-template",null,13,d.dc),d.Lb(11,"button",14),d.Rb("click",function(){return d.Zb(n),d.Vb().signOut()}),d.ec(12," Sign Out "),d.Kb(),d.Kb(),d.Kb()}if(2&t){var r=d.Yb(10),i=d.Vb();d.xb(5),d.fc(i.username),d.xb(1),d.Wb("src",i.isAdmin?"../assets/img/icons/wrestling.png":"../assets/img/icons/mexican-man.png",d.ac),d.xb(1),d.Wb("ngClass",i.isDisplayed?"opacity-100 z-10":"opacity-0 -z-10"),d.xb(1),d.Wb("ngIf",i.isAdmin)("ngIfElse",r)}}var Ig,Sg,xg,jg,Cg,Ag,Rg,Ng,Pg=((Cg=function(){function t(){h(this,t),this.isDisplayed=!1,this.isAuthenticated=!0,this.username="A.Vargas",this.isAdmin=!1}return p(t,[{key:"ngOnInit",value:function(){}},{key:"toggleFlyout",value:function(){this.isDisplayed=!this.isDisplayed}},{key:"closeFlyout",value:function(){this.isDisplayed=!1}},{key:"signOut",value:function(){this.isAuthenticated=!1}}]),t}()).\u0275fac=function(t){return new(t||Cg)},Cg.\u0275cmp=d.Ab({type:Cg,selectors:[["ms-header-user-account"]],decls:3,vars:3,consts:[["routerLink","/login","class","pt-1 flex items-center content-center cursor-pointer",4,"ngIf"],["routerLink","/","class","flex md:hidden items-center cursor-pointer",4,"ngIf"],["class","relative",4,"ngIf"],["routerLink","/login",1,"pt-1","flex","items-center","content-center","cursor-pointer"],[1,"hidden","sm:block","text-2xs","align-middle","uppercase"],["src","../assets/img/icons/user.png","loading","lazy","alt","user","title","UserName",1,"h-6","ml-2"],["routerLink","/",1,"flex","md:hidden","items-center","cursor-pointer"],["loading","lazy","alt","User Icon","title","User Icon",1,"h-8","ml-2",3,"src"],[1,"relative"],[1,"hidden","md:flex","items-center","cursor-pointer",3,"click"],[1,"text-primary-light"],["role","menu","aria-orientation","vertical","aria-labelledby","user-menu",1,"absolute","hidden","md:flex","flex-col","justify-center","origin-top-right","right-0","py-1","w-40","font-light","text-left","border-2","border-solid","border-primary-default","rounded-md","shadow-xl","bg-white",3,"ngClass","mouseleave"],[4,"ngIf","ngIfElse"],["userProfileDropdown",""],[1,"w-2/3","mx-auto","px-4","py-2","my-4","text-sm","text-white","rounded-md","bg-secondary","hover:bg-opacity-60",3,"click"],["href","#","role","menuitem",1,"px-4","py-2","mt-4","text-sm","text-secondary","hover:text-primary-default","uppercase"],["href","#","role","menuitem",1,"px-4","py-2","text-sm","text-secondary","hover:text-primary-default","uppercase"]],template:function(t,e){1&t&&(d.cc(0,_g,4,0,"a",0),d.cc(1,kg,2,1,"a",1),d.cc(2,Tg,13,5,"div",2)),2&t&&(d.Wb("ngIf",!e.isAuthenticated),d.xb(1),d.Wb("ngIf",e.isAuthenticated),d.xb(1),d.Wb("ngIf",e.isAuthenticated))},directives:[l.j,fg.a,l.i],styles:[""],changeDetection:0}),Cg),Dg=((jg=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||jg)},jg.\u0275cmp=d.Ab({type:jg,selectors:[["ms-header-navigation"]],decls:3,vars:0,consts:[[1,"w-full","flex","justify-center","items-center","bg-red-600","h-10"],[1,"mx-auto","text-white"]],template:function(t,e){1&t&&(d.Lb(0,"div",0),d.Lb(1,"span",1),d.ec(2,"HEADER NAVIGATION"),d.Kb(),d.Kb())},styles:[""],changeDetection:0}),jg),Lg=((xg=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||xg)},xg.\u0275cmp=d.Ab({type:xg,selectors:[["ms-header"]],decls:15,vars:0,consts:[[1,"w-fullflex","flex-col","cursor-default"],[1,"h-12","bg-secondary","text-white"],[1,"max-w-7xl","mx-auto","flex","px-2","sm:px-6","lg:px-8","py-2"],[1,"w-1/4","lg:w-1/2","flex","items-center"],[1,"flex","w-1/2","justify-center","items-center"],["routerLink","/",1,"flex"],["src","../assets/ms-logo.png","loading","lazy","alt","MexShop","title","MexShop",1,"h-8","pr-2"],[1,"text-xl","sm:text-2xl","pt-1","sm:pt-0","align-middle","font-extralight"],[1,"w-1/4","lg:w-1/2","flex","justify-end"],["routerLink","/cart",1,"cursor-pointer"],["src","../assets/img/icons/shopping-cart.png","loading","lazy","alt","Shopping Cart","title","Shopping Cart",1,"h-8","ml-2"]],template:function(t,e){1&t&&(d.Lb(0,"header",0),d.Lb(1,"nav",1),d.Lb(2,"div",2),d.Lb(3,"div",3),d.Hb(4,"ms-header-language-selection"),d.Kb(),d.Lb(5,"div",4),d.Lb(6,"a",5),d.Hb(7,"img",6),d.Lb(8,"span",7),d.ec(9,"MexShop"),d.Kb(),d.Kb(),d.Kb(),d.Lb(10,"div",8),d.Hb(11,"ms-header-user-account"),d.Lb(12,"a",9),d.Hb(13,"img",10),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Hb(14,"ms-header-navigation"),d.Kb())},directives:[wg,fg.a,Pg,Dg],styles:[""],changeDetection:0}),xg),Ug=((Sg=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Sg)},Sg.\u0275cmp=d.Ab({type:Sg,selectors:[["ms-footer"]],decls:7,vars:0,consts:[[1,"w-full","flex","bg-secondary","text-white","font-extralight","cursor-default"],[1,"max-w-7xl","mx-auto","flex","items-center","px-2","sm:px-6","lg:px-8","py-2"],[1,"flex","items-center"],["src","../assets/ms-logo.png","alt","MexShop","title","MexShop",1,"h-7","pl-3"],[1,"px-2"]],template:function(t,e){1&t&&(d.Lb(0,"footer",0),d.Lb(1,"div",1),d.Lb(2,"div",2),d.ec(3," \xa9 2021 "),d.Hb(4,"img",3),d.Lb(5,"span",4),d.ec(6," MexShop"),d.Kb(),d.Kb(),d.Kb(),d.Kb())},styles:[""],changeDetection:0}),Sg),Mg=((Ig=function t(){h(this,t),this.title="MexShop"}).\u0275fac=function(t){return new(t||Ig)},Ig.\u0275cmp=d.Ab({type:Ig,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(d.Hb(0,"ms-header"),d.Hb(1,"router-outlet"),d.Hb(2,"ms-footer"))},directives:[Lg,fg.c,Ug],styles:[""],changeDetection:0}),Ig),Vg=o("xt9q"),Fg=((Rg=function t(){h(this,t)}).\u0275mod=d.Eb({type:Rg}),Rg.\u0275inj=d.Db({factory:function(t){return new(t||Rg)},imports:[[l.c,fg.b]]}),Rg),Hg=((Ag=function t(){h(this,t)}).\u0275mod=d.Eb({type:Ag}),Ag.\u0275inj=d.Db({factory:function(t){return new(t||Ag)},imports:[[l.c,fg.b]]}),Ag),qg=o("afOq"),zg=((Ng=function t(){h(this,t)}).\u0275mod=d.Eb({type:Ng,bootstrap:[Mg]}),Ng.\u0275inj=d.Db({factory:function(t){return new(t||Ng)},providers:[],imports:[[Y.a.initializeApp(Z),Ev,uv,lg,mg,X,Vg.AdminModule,Fg,Hg,qg.UserModule]]}),Ng);Object(d.T)(),W().bootstrapModule(zg).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),u=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).parent=t,r}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),s=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]])}();